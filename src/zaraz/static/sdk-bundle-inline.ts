/**
 * This file is AUTO-GENERATED by esbuild.js
 * DO NOT EDIT MANUALLY
 *
 * Contains the bundled ABsmartly SDK as a string constant
 * Built from public/_zaraz/absmartly-sdk.js
 */

const sdkBundle = "\"use strict\";(()=>{var Ae=(K,$)=>()=>($||K(($={exports:{}}).exports,$),$.exports);var Pe=Ae((he,we)=>{(function(K,$){typeof he==\"object\"&&typeof we==\"object\"?we.exports=$():typeof define==\"function\"&&define.amd?define([],$):typeof he==\"object\"?he.absmartly=$():K.absmartly=$()})(self,function(){return function(){var K={745:function(O,w,s){\"use strict\";function y(e){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(t){return typeof t}:function(t){return t&&typeof Symbol==\"function\"&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},y(e)}function g(e,t){var n=typeof Symbol<\"u\"&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(f,b){if(f){if(typeof f==\"string\")return v(f,b);var m=Object.prototype.toString.call(f).slice(8,-1);if(m===\"Object\"&&f.constructor&&(m=f.constructor.name),m===\"Map\"||m===\"Set\")return Array.from(f);if(m===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return v(f,b)}}(e))||t&&e&&typeof e.length==\"number\"){n&&(e=n);var a=0,c=function(){};return{s:c,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(f){throw f},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,u=!0,p=!1;return{s:function(){n=n.call(e)},n:function(){var f=n.next();return u=f.done,f},e:function(f){p=!0,l=f},f:function(){try{u||n.return==null||n.return()}finally{if(p)throw l}}}}function v(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function h(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,(c=a.key,l=void 0,l=function(u,p){if(y(u)!==\"object\"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var b=f.call(u,p||\"default\");if(y(b)!==\"object\")return b;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(p===\"string\"?String:Number)(u)}(c,\"string\"),y(l)===\"symbol\"?l:String(l)),a)}var c,l}function i(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.AbortController=w.AbortSignal=void 0;var r=function(){function e(){h(this,e),this.aborted=!1,this._events={}}return i(e,[{key:\"addEventListener\",value:function(t,n){var a=this._events[t];a||(a=[],this._events[t]=a),a.push(n)}},{key:\"removeEventListener\",value:function(t,n){var a=this._events[t];if(a){var c=a.findIndex(function(l){return l===n});c!==-1&&(a.splice(c,1),a.length===0&&delete this._events[t])}}},{key:\"dispatchEvent\",value:function(t){this[\"on\".concat(t.type)]&&this[\"on\".concat(t.type)](t);var n=this._events[t.type];if(n){var a,c=g(n);try{for(c.s();!(a=c.n()).done;)a.value.call(null,t)}catch(l){c.e(l)}finally{c.f()}}}},{key:\"toString\",value:function(){return\"[object AbortSignal]\"}}]),e}();w.AbortSignal=r;var o=function(){function e(){h(this,e),this.signal=new r}return i(e,[{key:\"abort\",value:function(){var t;try{t=new Event(\"abort\")}catch{t={type:\"abort\",bubbles:!1,cancelable:!1}}this.signal.aborted=!0,this.signal.dispatchEvent(t)}},{key:\"toString\",value:function(){return\"[object AbortController]\"}}]),e}();w.AbortController=o,typeof Symbol<\"u\"&&Symbol.toStringTag!==void 0&&(Object.defineProperty(r.prototype,Symbol.toStringTag,{configurable:!0,value:\"AbortSignal\"}),Object.defineProperty(o.prototype,Symbol.toStringTag,{configurable:!0,value:\"AbortController\"})),w.default=o},6354:function(O,w,s){\"use strict\";var y=function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(w,\"__esModule\",{value:!0}),w.AbortController=void 0;var g=s(1231),v=y(s(745));w.AbortController=(0,g.isLongLivedApp)()&&window.AbortController?window.AbortController:(0,g.isWorker)()&&self.AbortController?self.AbortController:s.g&&s.g.AbortController?s.g.AbortController:v.default},982:function(O,w){\"use strict\";Object.defineProperty(w,\"__esModule\",{value:!0}),w.insertUniqueSorted=void 0,w.insertUniqueSorted=function(s,y,g){for(var v=0,h=s.length-1;v<=h;){var d=Math.floor(v+(h-v)/2);if(g(s[d],y))v=d+1;else{if(!g(y,s[d]))return;h=d-1}}s.splice(v,0,y)}},2786:function(O,w,s){\"use strict\";function y(i){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(r){return typeof r}:function(r){return r&&typeof Symbol==\"function\"&&r.constructor===Symbol&&r!==Symbol.prototype?\"symbol\":typeof r},y(i)}function g(i,r){for(var o=0;o<r.length;o++){var e=r[o];e.enumerable=e.enumerable||!1,e.configurable=!0,\"value\"in e&&(e.writable=!0),Object.defineProperty(i,(t=e.key,n=void 0,n=function(a,c){if(y(a)!==\"object\"||a===null)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var u=l.call(a,c||\"default\");if(y(u)!==\"object\")return u;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(c===\"string\"?String:Number)(a)}(t,\"string\"),y(n)===\"symbol\"?n:String(n)),e)}var t,n}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.VariantAssigner=void 0;var v=s(1231),h=s(7433),d=function(){function i(t){(function(n,a){if(!(n instanceof a))throw new TypeError(\"Cannot call a class as a function\")})(this,i),this._unitHash=(0,h.murmur3_32)((0,v.stringToUint8Array)(t).buffer)}var r,o,e;return r=i,(o=[{key:\"assign\",value:function(t,n,a){var c=this._probability(n,a);return(0,v.chooseVariant)(t,c)}},{key:\"_probability\",value:function(t,n){var a=this._unitHash,c=new ArrayBuffer(12),l=new DataView(c);return l.setUint32(0,n,!0),l.setUint32(4,t,!0),l.setUint32(8,a,!0),(0,h.murmur3_32)(c)*(1/4294967295)}}])&&g(r.prototype,o),e&&g(r,e),Object.defineProperty(r,\"prototype\",{writable:!1}),i}();w.VariantAssigner=d},7578:function(O,w,s){\"use strict\";function y(e){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(t){return typeof t}:function(t){return t&&typeof Symbol==\"function\"&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},y(e)}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,(c=a.key,l=void 0,l=function(u,p){if(y(u)!==\"object\"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var b=f.call(u,p||\"default\");if(y(b)!==\"object\")return b;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(p===\"string\"?String:Number)(u)}(c,\"string\"),y(l)===\"symbol\"?l:String(l)),a)}var c,l}s(9601),s(6078),s(9653);var v=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(w,\"__esModule\",{value:!0});var h=v(s(3651)),d=s(6354),i=s(2928),r=s(1231),o=function(){function e(c){(function(b,m){if(!(b instanceof m))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this._opts=Object.assign({agent:\"javascript-client\",apiKey:void 0,application:void 0,endpoint:void 0,environment:void 0,retries:5,timeout:3e3,keepalive:!0},c);for(var l=0,u=[\"agent\",\"application\",\"apiKey\",\"endpoint\",\"environment\"];l<u.length;l++){var p=u[l];if(!(p in this._opts)||this._opts[p]===void 0)throw new Error(\"Missing '\".concat(p,\"' in options argument\"));var f=this._opts[p];if(typeof f!=\"string\"||f.length===0){if(p===\"application\"&&f!==null&&y(f)===\"object\"&&\"name\"in f)continue;throw new Error(\"Invalid '\".concat(p,\"' in options argument\"))}}typeof this._opts.application==\"string\"&&(this._opts.application={name:this._opts.application,version:0}),this._delay=50}var t,n,a;return t=e,n=[{key:\"getContext\",value:function(c){return this.getUnauthed(Object.assign(Object.assign({},c),{path:\"/context\",query:{application:(0,r.getApplicationName)(this._opts.application),environment:this._opts.environment}}))}},{key:\"createContext\",value:function(c,l){var u={units:c.units};return this.post(Object.assign(Object.assign({},l),{path:\"/context\",body:u}))}},{key:\"publish\",value:function(c,l){var u={units:c.units,hashed:c.hashed,publishedAt:c.publishedAt||Date.now()};return Array.isArray(c.goals)&&c.goals.length>0&&(u.goals=c.goals),Array.isArray(c.exposures)&&c.exposures.length>0&&(u.exposures=c.exposures),Array.isArray(c.attributes)&&c.attributes.length>0&&(u.attributes=c.attributes),this.put(Object.assign(Object.assign({},l),{path:\"/context\",body:u}))}},{key:\"request\",value:function(c){var l,u,p=this,f=\"\".concat(this._opts.endpoint).concat(c.path);if(c.query){var b=Object.keys(c.query);if(b.length>0){var m=b.map(function(M){return c.query?\"\".concat(M,\"=\").concat(encodeURIComponent(c.query[M])):null}).join(\"&\");f=\"\".concat(f,\"?\").concat(m)}}var x=new d.AbortController,_=function(){var M={method:c.method,body:c.body!==void 0?JSON.stringify(c.body,null,0):void 0,signal:x.signal,keepalive:p._opts.keepalive};return c.auth&&(M.headers={\"Content-Type\":\"application/json\",\"X-API-Key\":p._opts.apiKey,\"X-Agent\":p._opts.agent,\"X-Environment\":p._opts.environment,\"X-Application\":(0,r.getApplicationName)(p._opts.application),\"X-Application-Version\":(0,r.getApplicationVersion)(p._opts.application)}),(0,h.default)(f,M).then(function(L){if(!L.ok){var U=L.status>=400&&L.status<500;return L.text().then(function(V){var z=new Error(V!==null&&V.length>0?V:L.statusText);return z._bail=U,Promise.reject(z)})}return L.json()})},S=function M(L){return new Promise(function(U,V){var z=setTimeout(function(){delete M.reject,U()},L);M.reject=function(R){clearTimeout(z),V(R)}})},E=function M(L,U){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return delete M.timedout,_().catch(function(R){if(console.warn(R),R._bail||L<=0)throw new Error(R.message);if(V>=L)throw new i.RetryError(V,R,f);if(z>=U||R.name===\"AbortError\")throw M.timedout?new i.TimeoutError(U):R;var B=(1<<V)*p._delay+.5*Math.random()*p._delay;return z+B>U&&(B=U-z),S(B).then(function(){return M(L,U,V+1,z+B)})})},j=function(){S.reject?S.reject(new i.AbortError):x.abort()};c.signal&&c.signal.addEventListener(\"abort\",j);var P=c.timeout||this._opts.timeout||0,T=P>0?setTimeout(function(){E.timedout=!0,j()},P):0,D=function(){clearTimeout(T),c.signal&&c.signal.removeEventListener(\"abort\",j)};return E((l=this._opts.retries)!==null&&l!==void 0?l:5,(u=this._opts.timeout)!==null&&u!==void 0?u:3e3).then(function(M){return D(),M}).catch(function(M){throw D(),M})}},{key:\"post\",value:function(c){return this.request(Object.assign(Object.assign({},c),{auth:!0,method:\"POST\"}))}},{key:\"put\",value:function(c){return this.request(Object.assign(Object.assign({},c),{auth:!0,method:\"PUT\"}))}},{key:\"getUnauthed\",value:function(c){return this.request(Object.assign(Object.assign({},c),{method:\"GET\"}))}}],n&&g(t.prototype,n),a&&g(t,a),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();w.default=o},7468:function(O,w,s){\"use strict\";function y(i,r){return function(o){if(Array.isArray(o))return o}(i)||function(o,e){var t=o==null?null:typeof Symbol<\"u\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(t!=null){var n,a,c,l,u=[],p=!0,f=!1;try{if(c=(t=t.call(o)).next,e===0){if(Object(t)!==t)return;p=!1}else for(;!(p=(n=c.call(t)).done)&&(u.push(n.value),u.length!==e);p=!0);}catch(b){f=!0,a=b}finally{try{if(!p&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}(i,r)||function(o,e){if(o){if(typeof o==\"string\")return g(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t===\"Object\"&&o.constructor&&(t=o.constructor.name),t===\"Map\"||t===\"Set\")return Array.from(o);if(t===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(o,e)}}(i,r)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function g(i,r){(r==null||r>i.length)&&(r=i.length);for(var o=0,e=new Array(r);o<r;o++)e[o]=i[o];return e}s(9720);var v=function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(w,\"__esModule\",{value:!0}),w.mergeConfig=void 0;var h=v(s(1697)),d=s(1231);w.mergeConfig=function(i,r){for(var o=(0,h.default)(r),e=i.variableKeys(),t=function(){for(var c=y(a[n],2),l=c[0],u=c[1],p=o,f=l.split(\".\"),b=function(){var x=f[m];if(\"_\".concat(x,\"_setter\")in p)return console.error(\"Config key '\".concat(f.slice(0,m+1).join(\".\"),\"' already set by experiment '\").concat(p[\"_\".concat(x,\"_setter\")],\"'.\")),p=void 0,\"break\";if(x in p&&m<f.length-1&&((0,d.isObject)(p[x])?p=p[x]:(console.warn(\"Config key '\".concat(l,\"' for experiment '\").concat(u,\"' is overriding non-object value at '\").concat(f.slice(0,m+1).join(\".\"),\"' with an object.\")),p=p[x]={})),m===f.length-1){var _=p[x];Object.defineProperty(p,\"_\".concat(x,\"_setter\"),{value:u,writable:!1}),Object.defineProperty(p,x,{get:function(){return i.variableValue(l,_)}})}},m=0;m<f.length&&b()!==\"break\";++m);},n=0,a=Object.entries(e);n<a.length;n++)t();return o}},7621:function(O,w,s){\"use strict\";function y(c,l){var u=typeof Symbol<\"u\"&&c[Symbol.iterator]||c[\"@@iterator\"];if(!u){if(Array.isArray(c)||(u=v(c))||l&&c&&typeof c.length==\"number\"){u&&(c=u);var p=0,f=function(){};return{s:f,n:function(){return p>=c.length?{done:!0}:{done:!1,value:c[p++]}},e:function(_){throw _},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,m=!0,x=!1;return{s:function(){u=u.call(c)},n:function(){var _=u.next();return m=_.done,_},e:function(_){x=!0,b=_},f:function(){try{m||u.return==null||u.return()}finally{if(x)throw b}}}}function g(c,l){return function(u){if(Array.isArray(u))return u}(c)||function(u,p){var f=u==null?null:typeof Symbol<\"u\"&&u[Symbol.iterator]||u[\"@@iterator\"];if(f!=null){var b,m,x,_,S=[],E=!0,j=!1;try{if(x=(f=f.call(u)).next,p===0){if(Object(f)!==f)return;E=!1}else for(;!(E=(b=x.call(f)).done)&&(S.push(b.value),S.length!==p);E=!0);}catch(P){j=!0,m=P}finally{try{if(!E&&f.return!=null&&(_=f.return(),Object(_)!==_))return}finally{if(j)throw m}}return S}}(c,l)||v(c,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(c,l){if(c){if(typeof c==\"string\")return h(c,l);var u=Object.prototype.toString.call(c).slice(8,-1);return u===\"Object\"&&c.constructor&&(u=c.constructor.name),u===\"Map\"||u===\"Set\"?Array.from(c):u===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?h(c,l):void 0}}function h(c,l){(l==null||l>c.length)&&(l=c.length);for(var u=0,p=new Array(l);u<l;u++)p[u]=c[u];return p}function d(c){return d=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(l){return typeof l}:function(l){return l&&typeof Symbol==\"function\"&&l.constructor===Symbol&&l!==Symbol.prototype?\"symbol\":typeof l},d(c)}function i(c,l){for(var u=0;u<l.length;u++){var p=l[u];p.enumerable=p.enumerable||!1,p.configurable=!0,\"value\"in p&&(p.writable=!0),Object.defineProperty(c,r(p.key),p)}}function r(c){var l=function(u,p){if(d(u)!==\"object\"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var b=f.call(u,p||\"default\");if(d(b)!==\"object\")return b;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(p===\"string\"?String:Number)(u)}(c,\"string\");return d(l)===\"symbol\"?l:String(l)}s(9720),s(9601),s(9826),s(9653),s(6078),Object.defineProperty(w,\"__esModule\",{value:!0});var o=s(1231),e=s(2786),t=s(7682),n=s(982),a=function(){function c(f,b,m,x){var _=this;(function(S,E){if(!(S instanceof E))throw new TypeError(\"Cannot call a class as a function\")})(this,c),this._sdk=f,this._publisher=b.publisher||this._sdk.getContextPublisher(),this._dataProvider=b.dataProvider||this._sdk.getContextDataProvider(),this._eventLogger=b.eventLogger||this._sdk.getEventLogger(),this._opts=b,this._pending=0,this._failed=!1,this._finalized=!1,this._attrs=[],this._goals=[],this._exposures=[],this._overrides={},this._cassignments={},this._units={},this._assigners={},this._audienceMatcher=new t.AudienceMatcher,m.units&&this.units(m.units),(0,o.isPromise)(x)?this._promise=x.then(function(S){_._init(S),delete _._promise,_._logEvent(\"ready\",S),_.pending()>0&&_._setTimeout()}).catch(function(S){_._init({}),_._failed=!0,delete _._promise,_._logError(S)}):(this._init(x),this._logEvent(\"ready\",x))}var l,u,p;return l=c,u=[{key:\"isReady\",value:function(){return this._promise===void 0}},{key:\"isFinalizing\",value:function(){return!this._finalized&&this._finalizing!=null}},{key:\"isFinalized\",value:function(){return this._finalized}},{key:\"isFailed\",value:function(){return this._failed}},{key:\"ready\",value:function(){var f=this;return this.isReady()?Promise.resolve(!0):new Promise(function(b){var m;(m=f._promise)===null||m===void 0||m.then(function(){return b(!0)}).catch(function(x){return b(x)})})}},{key:\"pending\",value:function(){return this._pending}},{key:\"data\",value:function(){return this._checkReady(),this._data}},{key:\"eventLogger\",value:function(){return this._eventLogger}},{key:\"publisher\",value:function(){return this._publisher}},{key:\"provider\",value:function(){return this._dataProvider}},{key:\"publish\",value:function(f){var b=this;return this._checkReady(!0),new Promise(function(m,x){b._flush(function(_){_?x(_):m()},f)})}},{key:\"refresh\",value:function(f){var b=this;return this._checkReady(!0),new Promise(function(m,x){b._refresh(function(_){_?x(_):m()},f)})}},{key:\"getUnit\",value:function(f){return this._units[f]}},{key:\"unit\",value:function(f,b){switch(this._checkNotFinalized(),d(b)){case\"string\":if((b=b.trim()).length===0)throw new Error(\"Unit '\".concat(f,\"' UID must not be blank.\"));break;case\"number\":break;default:throw new Error(\"Unit '\".concat(f,\"' must be a string or a number.\"))}var m=this._units[f];if(m!==void 0&&m!==b)throw new Error(\"Unit '\".concat(f,\"' UID already set.\"));this._units[f]=b}},{key:\"getUnits\",value:function(){return this._units}},{key:\"units\",value:function(f){var b=this;Object.entries(f).forEach(function(m){var x=g(m,2),_=x[0],S=x[1];b.unit(_,S)})}},{key:\"getAttribute\",value:function(f){var b;return this._attrs.forEach(function(m){m.name===f&&(b=m.value)}),b}},{key:\"attribute\",value:function(f,b){this._checkNotFinalized(),this._attrs.push({name:f,value:b,setAt:Date.now()})}},{key:\"getAttributes\",value:function(){var f={};return this._attrs.map(function(b){return[b.name,b.value]}).forEach(function(b){var m=g(b,2),x=m[0],_=m[1];f[x]=_}),f}},{key:\"attributes\",value:function(f){var b=this;Object.entries(f).forEach(function(m){var x=g(m,2),_=x[0],S=x[1];b.attribute(_,S)})}},{key:\"peek\",value:function(f){return this._checkReady(!0),this._peek(f).variant}},{key:\"treatment\",value:function(f){return this._checkReady(!0),this._treatment(f).variant}},{key:\"track\",value:function(f,b){return this._checkNotFinalized(),this._track(f,b)}},{key:\"finalize\",value:function(f){return this._finalize(f)}},{key:\"experiments\",value:function(){var f;return this._checkReady(),(f=this._data.experiments)===null||f===void 0?void 0:f.map(function(b){return b.name})}},{key:\"variableValue\",value:function(f,b){return this._checkReady(!0),this._variableValue(f,b)}},{key:\"peekVariableValue\",value:function(f,b){return this._checkReady(!0),this._peekVariable(f,b)}},{key:\"variableKeys\",value:function(){this._checkReady(!0);var f={};return Object.entries(this._indexVariables).forEach(function(b){var m=g(b,2),x=m[0];m[1].forEach(function(_){f[x]?f[x].push(_.data.name):f[x]=[_.data.name]})}),f}},{key:\"override\",value:function(f,b){var m,x,_;this._overrides=Object.assign(this._overrides,(m={},_=b,(x=r(x=f))in m?Object.defineProperty(m,x,{value:_,enumerable:!0,configurable:!0,writable:!0}):m[x]=_,m))}},{key:\"overrides\",value:function(f){var b=this;Object.entries(f).forEach(function(m){var x=g(m,2),_=x[0],S=x[1];b.override(_,S)})}},{key:\"customAssignment\",value:function(f,b){this._checkNotFinalized(),this._cassignments[f]=b}},{key:\"customAssignments\",value:function(f){var b=this;Object.entries(f).forEach(function(m){var x=g(m,2),_=x[0],S=x[1];b.customAssignment(_,S)})}},{key:\"_checkNotFinalized\",value:function(){if(this.isFinalized())throw new Error(\"ABSmartly Context is finalized.\");if(this.isFinalizing())throw new Error(\"ABSmartly Context is finalizing.\")}},{key:\"_checkReady\",value:function(f){if(!this.isReady())throw new Error(\"ABSmartly Context is not yet ready.\");f&&this._checkNotFinalized()}},{key:\"_assign\",value:function(f){var b=f in this._cassignments,m=f in this._overrides,x=f in this._index?this._index[f]:null;if(f in this._assignments){var _=this._assignments[f];if(m){if(_.overridden&&_.variant===this._overrides[f])return _}else if(x==null){if(!_.assigned)return _}else if((!b||this._cassignments[f]===_.variant)&&function(L,U){return L.id===U.id&&L.unitType===U.unitType&&L.iteration===U.iteration&&L.fullOnVariant===U.fullOnVariant&&(0,o.arrayEqualsShallow)(L.trafficSplit,U.trafficSplit)}(x.data,_))return _}var S={id:0,iteration:0,fullOnVariant:0,unitType:null,variant:0,overridden:!1,assigned:!1,exposed:!1,eligible:!0,fullOn:!1,custom:!1,audienceMismatch:!1};if(this._assignments[f]=S,m)x!=null&&(S.id=x.data.id,S.unitType=x.data.unitType),S.overridden=!0,S.variant=this._overrides[f];else if(x!=null){var E=x.data.unitType;if(x.data.audience&&x.data.audience.length>0){var j={};this._attrs.forEach(function(L){j[L.name]=L.value});var P=this._audienceMatcher.evaluate(x.data.audience,j);typeof P==\"boolean\"&&(S.audienceMismatch=!P)}if(x.data.audienceStrict&&S.audienceMismatch)S.variant=0;else if(x.data.fullOnVariant===0){if(E!==null&&E in this._units){var T=this._unitHash(E);if(T!==null){var D=E in this._assigners?this._assigners[E]:this._assigners[E]=new e.VariantAssigner(T),M=D.assign(x.data.trafficSplit,x.data.trafficSeedHi,x.data.trafficSeedLo)===1;S.assigned=!0,S.eligible=M,M?b?(S.variant=this._cassignments[f],S.custom=!0):S.variant=D.assign(x.data.split,x.data.seedHi,x.data.seedLo):S.variant=0}}}else S.assigned=!0,S.eligible=!0,S.variant=x.data.fullOnVariant,S.fullOn=!0;S.unitType=E,S.id=x.data.id,S.iteration=x.data.iteration,S.trafficSplit=x.data.trafficSplit,S.fullOnVariant=x.data.fullOnVariant}return x!=null&&S.variant<x.data.variants.length&&(S.variables=x.variables[S.variant]),S}},{key:\"_peek\",value:function(f){return this._assign(f)}},{key:\"_treatment\",value:function(f){var b=this._assign(f);return b.exposed||(b.exposed=!0,this._queueExposure(f,b)),b}},{key:\"_queueExposure\",value:function(f,b){var m={id:b.id,name:f,exposedAt:Date.now(),unit:b.unitType,variant:b.variant,assigned:b.assigned,eligible:b.eligible,overridden:b.overridden,fullOn:b.fullOn,custom:b.custom,audienceMismatch:b.audienceMismatch};this._logEvent(\"exposure\",m),this._exposures.push(m),this._pending++,this._setTimeout()}},{key:\"_customFieldKeys\",value:function(){var f=new Set;if(!this._data.experiments)return[];var b,m=y(this._data.experiments);try{for(m.s();!(b=m.n()).done;){var x=b.value;if(x.customFieldValues!=null){var _,S=y(x.customFieldValues);try{for(S.s();!(_=S.n()).done;){var E=_.value;f.add(E.name)}}catch(j){S.e(j)}finally{S.f()}}}}catch(j){m.e(j)}finally{m.f()}return Array.from(f)}},{key:\"customFieldKeys\",value:function(){return this._checkReady(!0),this._customFieldKeys()}},{key:\"_customFieldValue\",value:function(f,b){var m,x=this._index[f];if(x!=null){var _=(m=x.data.customFieldValues)===null||m===void 0?void 0:m.find(function(S){return S.name===b});if(_!=null)switch(_.type){case\"text\":case\"string\":return _.value;case\"number\":return Number(_.value);case\"json\":try{return _.value===\"null\"?null:_.value===\"\"?\"\":JSON.parse(_.value)}catch{return console.error(\"Failed to parse JSON custom field value '\".concat(b,\"' for experiment '\").concat(f,\"'\")),null}case\"boolean\":return _.value===\"true\";default:return console.error(\"Unknown custom field type '\".concat(_.type,\"' for experiment '\").concat(f,\"' and key '\").concat(b,\"' - you may need to upgrade to the latest SDK version\")),null}}return null}},{key:\"customFieldValue\",value:function(f,b){return this._checkReady(!0),this._customFieldValue(f,b)}},{key:\"_customFieldValueType\",value:function(f,b){var m,x=this._index[f];if(x!=null){var _=(m=x.data.customFieldValues)===null||m===void 0?void 0:m.find(function(S){return S.name===b});if(_!=null)return _.type}return null}},{key:\"customFieldValueType\",value:function(f,b){return this._checkReady(!0),this._customFieldValueType(f,b)}},{key:\"_variableValue\",value:function(f,b){for(var m in this._indexVariables[f]){var x=this._indexVariables[f][m].data.name,_=this._assign(x);if(_.variables!==void 0&&(_.exposed||(_.exposed=!0,this._queueExposure(x,_)),f in _.variables&&(_.assigned||_.overridden)))return _.variables[f]}return b}},{key:\"_peekVariable\",value:function(f,b){for(var m in this._indexVariables[f]){var x=this._indexVariables[f][m].data.name,_=this._assign(x);if(_.variables!==void 0&&f in _.variables&&(_.assigned||_.overridden))return _.variables[f]}return b}},{key:\"_validateGoal\",value:function(f,b){if(b!=null){if(!(0,o.isObject)(b))throw new Error(\"Goal '\".concat(f,\"' properties must be of type object.\"));return Object.assign({},b)}return null}},{key:\"_track\",value:function(f,b){var m={name:f,properties:this._validateGoal(f,b),achievedAt:Date.now()};this._logEvent(\"goal\",m),this._goals.push(m),this._pending++,this._setTimeout()}},{key:\"_setTimeout\",value:function(){var f=this;this.isReady()&&this._publishTimeout===void 0&&this._opts.publishDelay>=0&&(this._publishTimeout=setTimeout(function(){f._flush()},this._opts.publishDelay))}},{key:\"_flush\",value:function(f,b){var m=this;if(this._publishTimeout!==void 0&&(clearTimeout(this._publishTimeout),delete this._publishTimeout),this._pending===0)typeof f==\"function\"&&f();else{if(this._failed)typeof f==\"function\"&&f();else{var x={publishedAt:Date.now(),units:Object.entries(this._units).map(function(_){return{type:_[0],uid:m._unitHash(_[0])}}),hashed:!0};this._goals.length>0&&(x.goals=this._goals.map(function(_){return{name:_.name,achievedAt:_.achievedAt,properties:_.properties}})),this._exposures.length>0&&(x.exposures=this._exposures.map(function(_){return{id:_.id,name:_.name,unit:_.unit,exposedAt:_.exposedAt,variant:_.variant,assigned:_.assigned,eligible:_.eligible,overridden:_.overridden,fullOn:_.fullOn,custom:_.custom,audienceMismatch:_.audienceMismatch}})),this._attrs.length>0&&(x.attributes=this._attrs.map(function(_){return{name:_.name,value:_.value,setAt:_.setAt}})),this._publisher.publish(x,this._sdk,this,b).then(function(){m._logEvent(\"publish\",x),typeof f==\"function\"&&f()}).catch(function(_){m._logError(_),typeof f==\"function\"&&f(_)})}this._pending=0,this._exposures=[],this._goals=[]}}},{key:\"_refresh\",value:function(f,b){var m=this;this._failed?typeof f==\"function\"&&f():this._dataProvider.getContextData(this._sdk,b).then(function(x){m._init(x,m._assignments),m._logEvent(\"refresh\",x),typeof f==\"function\"&&f()}).catch(function(x){m._logError(x),typeof f==\"function\"&&f(x)})}},{key:\"_logEvent\",value:function(f,b){this._eventLogger&&this._eventLogger(this,f,b)}},{key:\"_logError\",value:function(f){this._eventLogger&&this._eventLogger(this,\"error\",f)}},{key:\"_unitHash\",value:function(f){if(this._hashes||(this._hashes={}),!(f in this._hashes)){var b=f in this._units?(0,o.hashUnit)(this._units[f]):null;return this._hashes[f]=b,b}return this._hashes[f]}},{key:\"_init\",value:function(f){var b=this,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._data=f;var x={},_={};(f.experiments||[]).forEach(function(S){var E=[],j={data:S,variables:E};x[S.name]=j,S.variants.forEach(function(P,T){var D=P.config,M=D!=null&&D.length>0?JSON.parse(D):{};Object.keys(M).forEach(function(L){var U=j;_[L]?(0,n.insertUniqueSorted)(_[L],U,function(V,z){return V.data.id<z.data.id}):_[L]=[U]}),E[T]=M})}),this._index=x,this._indexVariables=_,this._assignments=m,!this._failed&&this._opts.refreshPeriod>0&&!this._refreshInterval&&(this._refreshInterval=setInterval(function(){return b._refresh()},this._opts.refreshPeriod))}},{key:\"_finalize\",value:function(f){var b=this;return this._finalized?Promise.resolve():this._finalizing?this._finalizing:(this._refreshInterval!==void 0&&(clearInterval(this._refreshInterval),delete this._refreshInterval),this.pending()>0?(this._finalizing=new Promise(function(m,x){b._flush(function(_){b._finalizing=null,_?x(_):(b._finalized=!0,b._logEvent(\"finalize\"),m())},f)}),this._finalizing):(this._finalized=!0,this._logEvent(\"finalize\"),Promise.resolve()))}}],u&&i(l.prototype,u),p&&i(l,p),Object.defineProperty(l,\"prototype\",{writable:!1}),c}();w.default=a},2928:function(O,w,s){\"use strict\";function y(p){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(f){return typeof f}:function(f){return f&&typeof Symbol==\"function\"&&f.constructor===Symbol&&f!==Symbol.prototype?\"symbol\":typeof f},y(p)}function g(p,f){for(var b=0;b<f.length;b++){var m=f[b];m.enumerable=m.enumerable||!1,m.configurable=!0,\"value\"in m&&(m.writable=!0),Object.defineProperty(p,(x=m.key,_=void 0,_=function(S,E){if(y(S)!==\"object\"||S===null)return S;var j=S[Symbol.toPrimitive];if(j!==void 0){var P=j.call(S,E||\"default\");if(y(P)!==\"object\")return P;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(E===\"string\"?String:Number)(S)}(x,\"string\"),y(_)===\"symbol\"?_:String(_)),m)}var x,_}function v(p,f,b){return f&&g(p.prototype,f),b&&g(p,b),Object.defineProperty(p,\"prototype\",{writable:!1}),p}function h(p,f){if(!(p instanceof f))throw new TypeError(\"Cannot call a class as a function\")}function d(p,f){if(typeof f!=\"function\"&&f!==null)throw new TypeError(\"Super expression must either be null or a function\");p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,\"prototype\",{writable:!1}),f&&n(p,f)}function i(p){var f=t();return function(){var b,m=a(p);if(f){var x=a(this).constructor;b=Reflect.construct(m,arguments,x)}else b=m.apply(this,arguments);return r(this,b)}}function r(p,f){if(f&&(y(f)===\"object\"||typeof f==\"function\"))return f;if(f!==void 0)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(b){if(b===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return b}(p)}function o(p){var f=typeof Map==\"function\"?new Map:void 0;return o=function(b){if(b===null||(m=b,Function.toString.call(m).indexOf(\"[native code]\")===-1))return b;var m;if(typeof b!=\"function\")throw new TypeError(\"Super expression must either be null or a function\");if(f!==void 0){if(f.has(b))return f.get(b);f.set(b,x)}function x(){return e(b,arguments,a(this).constructor)}return x.prototype=Object.create(b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),n(x,b)},o(p)}function e(p,f,b){return e=t()?Reflect.construct.bind():function(m,x,_){var S=[null];S.push.apply(S,x);var E=new(Function.bind.apply(m,S));return _&&n(E,_.prototype),E},e.apply(null,arguments)}function t(){if(typeof Reflect>\"u\"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==\"function\")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function n(p,f){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,m){return b.__proto__=m,b},n(p,f)}function a(p){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},a(p)}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.AbortError=w.RetryError=w.TimeoutError=void 0;var c=function(p){d(b,p);var f=i(b);function b(m){var x;return h(this,b),(x=f.call(this,\"Timeout exceeded.\")).name=\"TimeoutError\",x.timeout=m,x}return v(b)}(o(Error));w.TimeoutError=c;var l=function(p){d(b,p);var f=i(b);function b(m,x,_){var S;return h(this,b),(S=f.call(this,\"Retries exhausted. URL: \".concat(_,\" - Last Error: \").concat(x.message))).name=\"RetryError\",S.retries=m,S.exception=x,S}return v(b)}(o(Error));w.RetryError=l;var u=function(p){d(b,p);var f=i(b);function b(m){var x;return h(this,b),(x=f.call(this,m)).name=\"AbortError\",x}return v(b)}(o(Error));w.AbortError=u},5525:function(O,w,s){\"use strict\";Object.defineProperty(w,\"__esModule\",{value:!0}),w.fetch=void 0;var y=s(2928);function g(v,h){return h=h||{},new Promise(function(d,i){var r=new XMLHttpRequest,o=[],e=[],t={},n=function(){r.abort()},a=h.signal?function(){var u;return(u=h.signal)===null||u===void 0?void 0:u.removeEventListener(\"abort\",n)}:function(){},c=function u(){return{ok:(r.status/100|0)==2,statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(JSON.parse(r.responseText))},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return e},get:function(p){return t[p.toLowerCase()]},has:function(p){return p.toLowerCase()in t}}}};for(var l in r.open(h.method||\"get\",v,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm,function(u,p,f){return o.push(p=p.toLowerCase()),e.push([p,f]),t[p]=t[p]?\"\".concat(t[p],\",\").concat(f):f,u}),a(),d(c())},h.signal&&h.signal.addEventListener(\"abort\",n),r.onerror=function(u){a(),i(u)},r.onabort=function(){a(),i(new y.AbortError(\"The user aborted a request.\"))},r.withCredentials=h.credentials===\"include\",h.headers)r.setRequestHeader(l,h.headers[l]);r.send(h.body||null)})}w.fetch=g,w.default=g},3651:function(O,w,s){\"use strict\";var y=Object.create?function(o,e,t,n){n===void 0&&(n=t);var a=Object.getOwnPropertyDescriptor(e,t);a&&!(\"get\"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(o,n,a)}:function(o,e,t,n){n===void 0&&(n=t),o[n]=e[t]},g=Object.create?function(o,e){Object.defineProperty(o,\"default\",{enumerable:!0,value:e})}:function(o,e){o.default=e},v=function(o){if(o&&o.__esModule)return o;var e={};if(o!=null)for(var t in o)t!==\"default\"&&Object.prototype.hasOwnProperty.call(o,t)&&y(e,o,t);return g(e,o),e},h=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(w,\"__esModule\",{value:!0});var d=s(1231),i=h(s(5525)),r=(0,d.isLongLivedApp)()?window.fetch?window.fetch.bind(window):i.default:(0,d.isWorker)()?self.fetch?self.fetch.bind(self):i.default:s.g?s.g.fetch?s.g.fetch.bind(s.g):function(o,e){return new Promise(function(t,n){Promise.resolve().then(function(){return v(s(3300))}).then(function(a){a.default(o.replace(/^\\/\\//g,\"https://\"),e).then(t).catch(n)}).catch(n)})}:void 0;w.default=r},2299:function(O,w,s){\"use strict\";function y(r){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(o){return typeof o}:function(o){return o&&typeof Symbol==\"function\"&&o.constructor===Symbol&&o!==Symbol.prototype?\"symbol\":typeof o},y(r)}function g(r,o){return function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=e==null?null:typeof Symbol<\"u\"&&e[Symbol.iterator]||e[\"@@iterator\"];if(n!=null){var a,c,l,u,p=[],f=!0,b=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(a=l.call(n)).done)&&(p.push(a.value),p.length!==t);f=!0);}catch(m){b=!0,c=m}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(b)throw c}}return p}}(r,o)||function(e,t){if(e){if(typeof e==\"string\")return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n===\"Object\"&&e.constructor&&(n=e.constructor.name),n===\"Map\"||n===\"Set\")return Array.from(e);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}}(r,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(r,o){(o==null||o>r.length)&&(o=r.length);for(var e=0,t=new Array(o);e<o;e++)t[e]=r[e];return t}function h(r,o){for(var e=0;e<o.length;e++){var t=o[e];t.enumerable=t.enumerable||!1,t.configurable=!0,\"value\"in t&&(t.writable=!0),Object.defineProperty(r,(n=t.key,a=void 0,a=function(c,l){if(y(c)!==\"object\"||c===null)return c;var u=c[Symbol.toPrimitive];if(u!==void 0){var p=u.call(c,l||\"default\");if(y(p)!==\"object\")return p;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(l===\"string\"?String:Number)(c)}(n,\"string\"),y(a)===\"symbol\"?a:String(a)),t)}var n,a}s(9720),s(5192),s(9653),s(6977),s(6078),Object.defineProperty(w,\"__esModule\",{value:!0}),w.Evaluator=void 0;var d=s(1231),i=function(){function r(n,a){(function(c,l){if(!(c instanceof l))throw new TypeError(\"Cannot call a class as a function\")})(this,r),this.operators=n,this.vars=a}var o,e,t;return o=r,(e=[{key:\"evaluate\",value:function(n){if(Array.isArray(n))return this.operators.and.evaluate(this,n);if((0,d.isObject)(n))for(var a=0,c=Object.entries(n);a<c.length;a++){var l=g(c[a],2),u=l[0],p=l[1],f=this.operators[u];if(f!==void 0)return f.evaluate(this,p);break}return null}},{key:\"booleanConvert\",value:function(n){switch(y(n)){case\"boolean\":return n;case\"number\":return n!==0;case\"string\":return n!==\"false\"&&n!==\"0\"&&n!==\"\";default:return n!=null}}},{key:\"numberConvert\",value:function(n){switch(y(n)){case\"number\":return n;case\"boolean\":return n?1:0;case\"string\":var a=parseFloat(n);return Number.isFinite(a)?a:null;default:return null}}},{key:\"stringConvert\",value:function(n){switch(y(n)){case\"string\":return n;case\"boolean\":return n.toString();case\"number\":return n.toFixed(15).replace(/\\.?0{0,15}$/,\"\");default:return null}}},{key:\"extractVar\",value:function(n){for(var a,c=n.split(\"/\"),l=(a=this.vars)!==null&&a!==void 0?a:{},u=0;u<c.length;++u){var p=l[c[u]];if(p===void 0)return null;l=p}return l}},{key:\"compare\",value:function(n,a){if(n===null)return a===null?0:null;if(a===null)return null;switch(y(n)){case\"number\":var c=this.numberConvert(a);if(c!==null)return n===c?0:n>c?1:-1;break;case\"string\":var l=this.stringConvert(a);if(l!==null)return n===l?0:n>l?1:-1;break;case\"boolean\":var u=this.booleanConvert(a);if(u!=null)return n===u?0:n>u?1:-1;break;default:if((0,d.isEqualsDeep)(n,a))return 0}return null}}])&&h(o.prototype,e),t&&h(o,t),Object.defineProperty(o,\"prototype\",{writable:!1}),r}();w.Evaluator=i},8728:function(O,w,s){\"use strict\";function y(m){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(x){return typeof x}:function(x){return x&&typeof Symbol==\"function\"&&x.constructor===Symbol&&x!==Symbol.prototype?\"symbol\":typeof x},y(m)}function g(m,x){for(var _=0;_<x.length;_++){var S=x[_];S.enumerable=S.enumerable||!1,S.configurable=!0,\"value\"in S&&(S.writable=!0),Object.defineProperty(m,(E=S.key,j=void 0,j=function(P,T){if(y(P)!==\"object\"||P===null)return P;var D=P[Symbol.toPrimitive];if(D!==void 0){var M=D.call(P,T||\"default\");if(y(M)!==\"object\")return M;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(T===\"string\"?String:Number)(P)}(E,\"string\"),y(j)===\"symbol\"?j:String(j)),S)}var E,j}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.JsonExpr=void 0;var v=s(9771),h=s(4652),d=s(6197),i=s(640),r=s(3251),o=s(8588),e=s(1501),t=s(9083),n=s(2299),a=s(4228),c=s(2682),l=s(4325),u=s(9188),p=s(8095),f={and:new h.AndCombinator,or:new d.OrCombinator,value:new v.ValueOperator,var:new i.VarOperator,null:new o.NullOperator,not:new r.NotOperator,in:new t.InOperator,match:new e.MatchOperator,eq:new a.EqualsOperator,gt:new c.GreaterThanOperator,gte:new l.GreaterThanOrEqualOperator,lt:new u.LessThanOperator,lte:new p.LessThanOrEqualOperator},b=function(){function m(){(function(E,j){if(!(E instanceof j))throw new TypeError(\"Cannot call a class as a function\")})(this,m)}var x,_,S;return x=m,(_=[{key:\"evaluateBooleanExpr\",value:function(E,j){var P=new n.Evaluator(f,j);return P.booleanConvert(P.evaluate(E))}},{key:\"evaluateExpr\",value:function(E,j){return new n.Evaluator(f,j).evaluate(E)}}])&&g(x.prototype,_),S&&g(x,S),Object.defineProperty(x,\"prototype\",{writable:!1}),m}();w.JsonExpr=b},4652:function(O,w,s){\"use strict\";function y(i){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(r){return typeof r}:function(r){return r&&typeof Symbol==\"function\"&&r.constructor===Symbol&&r!==Symbol.prototype?\"symbol\":typeof r},y(i)}function g(i,r){var o=typeof Symbol<\"u\"&&i[Symbol.iterator]||i[\"@@iterator\"];if(!o){if(Array.isArray(i)||(o=function(l,u){if(l){if(typeof l==\"string\")return v(l,u);var p=Object.prototype.toString.call(l).slice(8,-1);if(p===\"Object\"&&l.constructor&&(p=l.constructor.name),p===\"Map\"||p===\"Set\")return Array.from(l);if(p===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return v(l,u)}}(i))||r&&i&&typeof i.length==\"number\"){o&&(i=o);var e=0,t=function(){};return{s:t,n:function(){return e>=i.length?{done:!0}:{done:!1,value:i[e++]}},e:function(l){throw l},f:t}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,a=!0,c=!1;return{s:function(){o=o.call(i)},n:function(){var l=o.next();return a=l.done,l},e:function(l){c=!0,n=l},f:function(){try{a||o.return==null||o.return()}finally{if(c)throw n}}}}function v(i,r){(r==null||r>i.length)&&(r=i.length);for(var o=0,e=new Array(r);o<r;o++)e[o]=i[o];return e}function h(i,r){for(var o=0;o<r.length;o++){var e=r[o];e.enumerable=e.enumerable||!1,e.configurable=!0,\"value\"in e&&(e.writable=!0),Object.defineProperty(i,(t=e.key,n=void 0,n=function(a,c){if(y(a)!==\"object\"||a===null)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var u=l.call(a,c||\"default\");if(y(u)!==\"object\")return u;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(c===\"string\"?String:Number)(a)}(t,\"string\"),y(n)===\"symbol\"?n:String(n)),e)}var t,n}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.AndCombinator=void 0;var d=function(){function i(){(function(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")})(this,i)}var r,o,e;return r=i,(o=[{key:\"evaluate\",value:function(t,n){if(Array.isArray(n)){var a,c=g(n);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(!t.booleanConvert(t.evaluate(l)))return!1}}catch(u){c.e(u)}finally{c.f()}return!0}return null}}])&&h(r.prototype,o),e&&h(r,e),Object.defineProperty(r,\"prototype\",{writable:!1}),i}();w.AndCombinator=d},4915:function(O,w,s){\"use strict\";function y(h){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(d){return typeof d}:function(d){return d&&typeof Symbol==\"function\"&&d.constructor===Symbol&&d!==Symbol.prototype?\"symbol\":typeof d},y(h)}function g(h,d){for(var i=0;i<d.length;i++){var r=d[i];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(h,(o=r.key,e=void 0,e=function(t,n){if(y(t)!==\"object\"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var c=a.call(t,n||\"default\");if(y(c)!==\"object\")return c;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(n===\"string\"?String:Number)(t)}(o,\"string\"),y(e)===\"symbol\"?e:String(e)),r)}var o,e}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.BinaryOperator=void 0;var v=function(){function h(){(function(o,e){if(!(o instanceof e))throw new TypeError(\"Cannot call a class as a function\")})(this,h)}var d,i,r;return d=h,(i=[{key:\"evaluate\",value:function(o,e){if(Array.isArray(e)){var t=e.length>0?o.evaluate(e[0]):null;if(t!==null){var n=e.length>1?o.evaluate(e[1]):null;if(n!==null)return this.binary(o,t,n)}}return null}}])&&g(d.prototype,i),r&&g(d,r),Object.defineProperty(d,\"prototype\",{writable:!1}),h}();w.BinaryOperator=v},4228:function(O,w,s){\"use strict\";function y(e){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(t){return typeof t}:function(t){return t&&typeof Symbol==\"function\"&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},y(e)}function g(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,(c=a.key,l=void 0,l=function(u,p){if(y(u)!==\"object\"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var b=f.call(u,p||\"default\");if(y(b)!==\"object\")return b;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(p===\"string\"?String:Number)(u)}(c,\"string\"),y(l)===\"symbol\"?l:String(l)),a)}var c,l}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h(e,t)}function d(e){var t=function(){if(typeof Reflect>\"u\"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==\"function\")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,a=r(e);if(t){var c=r(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&(y(t)===\"object\"||typeof t==\"function\"))return t;if(t!==void 0)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(n){if(n===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}(e)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.EqualsOperator=void 0;var o=function(e){(function(u,p){if(typeof p!=\"function\"&&p!==null)throw new TypeError(\"Super expression must either be null or a function\");u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,\"prototype\",{writable:!1}),p&&h(u,p)})(l,e);var t,n,a,c=d(l);function l(){return g(this,l),c.apply(this,arguments)}return t=l,(n=[{key:\"binary\",value:function(u,p,f){var b=u.compare(p,f);return b!==null?b===0:null}}])&&v(t.prototype,n),a&&v(t,a),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(s(4915).BinaryOperator);w.EqualsOperator=o},2682:function(O,w,s){\"use strict\";function y(e){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(t){return typeof t}:function(t){return t&&typeof Symbol==\"function\"&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},y(e)}function g(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,(c=a.key,l=void 0,l=function(u,p){if(y(u)!==\"object\"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var b=f.call(u,p||\"default\");if(y(b)!==\"object\")return b;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(p===\"string\"?String:Number)(u)}(c,\"string\"),y(l)===\"symbol\"?l:String(l)),a)}var c,l}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h(e,t)}function d(e){var t=function(){if(typeof Reflect>\"u\"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==\"function\")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,a=r(e);if(t){var c=r(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&(y(t)===\"object\"||typeof t==\"function\"))return t;if(t!==void 0)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(n){if(n===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}(e)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.GreaterThanOperator=void 0;var o=function(e){(function(u,p){if(typeof p!=\"function\"&&p!==null)throw new TypeError(\"Super expression must either be null or a function\");u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,\"prototype\",{writable:!1}),p&&h(u,p)})(l,e);var t,n,a,c=d(l);function l(){return g(this,l),c.apply(this,arguments)}return t=l,(n=[{key:\"binary\",value:function(u,p,f){var b=u.compare(p,f);return b!==null?b>0:null}}])&&v(t.prototype,n),a&&v(t,a),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(s(4915).BinaryOperator);w.GreaterThanOperator=o},4325:function(O,w,s){\"use strict\";function y(e){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(t){return typeof t}:function(t){return t&&typeof Symbol==\"function\"&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},y(e)}function g(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,(c=a.key,l=void 0,l=function(u,p){if(y(u)!==\"object\"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var b=f.call(u,p||\"default\");if(y(b)!==\"object\")return b;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(p===\"string\"?String:Number)(u)}(c,\"string\"),y(l)===\"symbol\"?l:String(l)),a)}var c,l}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h(e,t)}function d(e){var t=function(){if(typeof Reflect>\"u\"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==\"function\")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,a=r(e);if(t){var c=r(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&(y(t)===\"object\"||typeof t==\"function\"))return t;if(t!==void 0)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(n){if(n===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}(e)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.GreaterThanOrEqualOperator=void 0;var o=function(e){(function(u,p){if(typeof p!=\"function\"&&p!==null)throw new TypeError(\"Super expression must either be null or a function\");u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,\"prototype\",{writable:!1}),p&&h(u,p)})(l,e);var t,n,a,c=d(l);function l(){return g(this,l),c.apply(this,arguments)}return t=l,(n=[{key:\"binary\",value:function(u,p,f){var b=u.compare(p,f);return b!==null?b>=0:null}}])&&v(t.prototype,n),a&&v(t,a),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(s(4915).BinaryOperator);w.GreaterThanOrEqualOperator=o},9083:function(O,w,s){\"use strict\";function y(c){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(l){return typeof l}:function(l){return l&&typeof Symbol==\"function\"&&l.constructor===Symbol&&l!==Symbol.prototype?\"symbol\":typeof l},y(c)}function g(c,l){var u=typeof Symbol<\"u\"&&c[Symbol.iterator]||c[\"@@iterator\"];if(!u){if(Array.isArray(c)||(u=function(_,S){if(_){if(typeof _==\"string\")return v(_,S);var E=Object.prototype.toString.call(_).slice(8,-1);if(E===\"Object\"&&_.constructor&&(E=_.constructor.name),E===\"Map\"||E===\"Set\")return Array.from(_);if(E===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return v(_,S)}}(c))||l&&c&&typeof c.length==\"number\"){u&&(c=u);var p=0,f=function(){};return{s:f,n:function(){return p>=c.length?{done:!0}:{done:!1,value:c[p++]}},e:function(_){throw _},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,m=!0,x=!1;return{s:function(){u=u.call(c)},n:function(){var _=u.next();return m=_.done,_},e:function(_){x=!0,b=_},f:function(){try{m||u.return==null||u.return()}finally{if(x)throw b}}}}function v(c,l){(l==null||l>c.length)&&(l=c.length);for(var u=0,p=new Array(l);u<l;u++)p[u]=c[u];return p}function h(c,l){if(!(c instanceof l))throw new TypeError(\"Cannot call a class as a function\")}function d(c,l){for(var u=0;u<l.length;u++){var p=l[u];p.enumerable=p.enumerable||!1,p.configurable=!0,\"value\"in p&&(p.writable=!0),Object.defineProperty(c,(f=p.key,b=void 0,b=function(m,x){if(y(m)!==\"object\"||m===null)return m;var _=m[Symbol.toPrimitive];if(_!==void 0){var S=_.call(m,x||\"default\");if(y(S)!==\"object\")return S;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(x===\"string\"?String:Number)(m)}(f,\"string\"),y(b)===\"symbol\"?b:String(b)),p)}var f,b}function i(c,l){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,p){return u.__proto__=p,u},i(c,l)}function r(c){var l=function(){if(typeof Reflect>\"u\"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==\"function\")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,p=e(c);if(l){var f=e(this).constructor;u=Reflect.construct(p,arguments,f)}else u=p.apply(this,arguments);return o(this,u)}}function o(c,l){if(l&&(y(l)===\"object\"||typeof l==\"function\"))return l;if(l!==void 0)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(u){if(u===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return u}(c)}function e(c){return e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},e(c)}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.InOperator=void 0;var t=s(4915),n=s(1231),a=function(c){(function(m,x){if(typeof x!=\"function\"&&x!==null)throw new TypeError(\"Super expression must either be null or a function\");m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,\"prototype\",{writable:!1}),x&&i(m,x)})(b,c);var l,u,p,f=r(b);function b(){return h(this,b),f.apply(this,arguments)}return l=b,(u=[{key:\"binary\",value:function(m,x,_){if(Array.isArray(x)){var S,E=g(x);try{for(E.s();!(S=E.n()).done;){var j=S.value;if(m.compare(j,_)===0)return!0}}catch(D){E.e(D)}finally{E.f()}return!1}if(typeof x==\"string\"){var P=m.stringConvert(_);return P!==null&&x.includes(P)}if((0,n.isObject)(x)){var T=m.stringConvert(_);return T!=null&&Object.prototype.hasOwnProperty.call(x,T)}return null}}])&&d(l.prototype,u),p&&d(l,p),Object.defineProperty(l,\"prototype\",{writable:!1}),b}(t.BinaryOperator);w.InOperator=a},9188:function(O,w,s){\"use strict\";function y(e){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(t){return typeof t}:function(t){return t&&typeof Symbol==\"function\"&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},y(e)}function g(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,(c=a.key,l=void 0,l=function(u,p){if(y(u)!==\"object\"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var b=f.call(u,p||\"default\");if(y(b)!==\"object\")return b;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(p===\"string\"?String:Number)(u)}(c,\"string\"),y(l)===\"symbol\"?l:String(l)),a)}var c,l}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h(e,t)}function d(e){var t=function(){if(typeof Reflect>\"u\"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==\"function\")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,a=r(e);if(t){var c=r(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&(y(t)===\"object\"||typeof t==\"function\"))return t;if(t!==void 0)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(n){if(n===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}(e)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.LessThanOperator=void 0;var o=function(e){(function(u,p){if(typeof p!=\"function\"&&p!==null)throw new TypeError(\"Super expression must either be null or a function\");u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,\"prototype\",{writable:!1}),p&&h(u,p)})(l,e);var t,n,a,c=d(l);function l(){return g(this,l),c.apply(this,arguments)}return t=l,(n=[{key:\"binary\",value:function(u,p,f){var b=u.compare(p,f);return b!==null?b<0:null}}])&&v(t.prototype,n),a&&v(t,a),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(s(4915).BinaryOperator);w.LessThanOperator=o},8095:function(O,w,s){\"use strict\";function y(e){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(t){return typeof t}:function(t){return t&&typeof Symbol==\"function\"&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},y(e)}function g(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,(c=a.key,l=void 0,l=function(u,p){if(y(u)!==\"object\"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var b=f.call(u,p||\"default\");if(y(b)!==\"object\")return b;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(p===\"string\"?String:Number)(u)}(c,\"string\"),y(l)===\"symbol\"?l:String(l)),a)}var c,l}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h(e,t)}function d(e){var t=function(){if(typeof Reflect>\"u\"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==\"function\")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,a=r(e);if(t){var c=r(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&(y(t)===\"object\"||typeof t==\"function\"))return t;if(t!==void 0)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(n){if(n===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}(e)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.LessThanOrEqualOperator=void 0;var o=function(e){(function(u,p){if(typeof p!=\"function\"&&p!==null)throw new TypeError(\"Super expression must either be null or a function\");u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,\"prototype\",{writable:!1}),p&&h(u,p)})(l,e);var t,n,a,c=d(l);function l(){return g(this,l),c.apply(this,arguments)}return t=l,(n=[{key:\"binary\",value:function(u,p,f){var b=u.compare(p,f);return b!==null?b<=0:null}}])&&v(t.prototype,n),a&&v(t,a),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(s(4915).BinaryOperator);w.LessThanOrEqualOperator=o},1501:function(O,w,s){\"use strict\";function y(e){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(t){return typeof t}:function(t){return t&&typeof Symbol==\"function\"&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},y(e)}function g(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,(c=a.key,l=void 0,l=function(u,p){if(y(u)!==\"object\"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var b=f.call(u,p||\"default\");if(y(b)!==\"object\")return b;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(p===\"string\"?String:Number)(u)}(c,\"string\"),y(l)===\"symbol\"?l:String(l)),a)}var c,l}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h(e,t)}function d(e){var t=function(){if(typeof Reflect>\"u\"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==\"function\")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,a=r(e);if(t){var c=r(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&(y(t)===\"object\"||typeof t==\"function\"))return t;if(t!==void 0)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(n){if(n===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}(e)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.MatchOperator=void 0;var o=function(e){(function(u,p){if(typeof p!=\"function\"&&p!==null)throw new TypeError(\"Super expression must either be null or a function\");u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,\"prototype\",{writable:!1}),p&&h(u,p)})(l,e);var t,n,a,c=d(l);function l(){return g(this,l),c.apply(this,arguments)}return t=l,(n=[{key:\"binary\",value:function(u,p,f){if((p=u.stringConvert(p))!==null&&(f=u.stringConvert(f))!==null)try{return new RegExp(f).test(p)}catch{return null}return null}}])&&v(t.prototype,n),a&&v(t,a),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(s(4915).BinaryOperator);w.MatchOperator=o},3251:function(O,w,s){\"use strict\";function y(e){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(t){return typeof t}:function(t){return t&&typeof Symbol==\"function\"&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},y(e)}function g(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,(c=a.key,l=void 0,l=function(u,p){if(y(u)!==\"object\"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var b=f.call(u,p||\"default\");if(y(b)!==\"object\")return b;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(p===\"string\"?String:Number)(u)}(c,\"string\"),y(l)===\"symbol\"?l:String(l)),a)}var c,l}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h(e,t)}function d(e){var t=function(){if(typeof Reflect>\"u\"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==\"function\")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,a=r(e);if(t){var c=r(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&(y(t)===\"object\"||typeof t==\"function\"))return t;if(t!==void 0)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(n){if(n===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}(e)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.NotOperator=void 0;var o=function(e){(function(u,p){if(typeof p!=\"function\"&&p!==null)throw new TypeError(\"Super expression must either be null or a function\");u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,\"prototype\",{writable:!1}),p&&h(u,p)})(l,e);var t,n,a,c=d(l);function l(){return g(this,l),c.apply(this,arguments)}return t=l,(n=[{key:\"unary\",value:function(u,p){return!u.booleanConvert(p)}}])&&v(t.prototype,n),a&&v(t,a),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(s(7262).UnaryOperator);w.NotOperator=o},8588:function(O,w,s){\"use strict\";function y(e){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(t){return typeof t}:function(t){return t&&typeof Symbol==\"function\"&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},y(e)}function g(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,(c=a.key,l=void 0,l=function(u,p){if(y(u)!==\"object\"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var b=f.call(u,p||\"default\");if(y(b)!==\"object\")return b;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(p===\"string\"?String:Number)(u)}(c,\"string\"),y(l)===\"symbol\"?l:String(l)),a)}var c,l}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h(e,t)}function d(e){var t=function(){if(typeof Reflect>\"u\"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==\"function\")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,a=r(e);if(t){var c=r(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&(y(t)===\"object\"||typeof t==\"function\"))return t;if(t!==void 0)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(n){if(n===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}(e)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.NullOperator=void 0;var o=function(e){(function(u,p){if(typeof p!=\"function\"&&p!==null)throw new TypeError(\"Super expression must either be null or a function\");u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,\"prototype\",{writable:!1}),p&&h(u,p)})(l,e);var t,n,a,c=d(l);function l(){return g(this,l),c.apply(this,arguments)}return t=l,(n=[{key:\"unary\",value:function(u,p){return p===null}}])&&v(t.prototype,n),a&&v(t,a),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(s(7262).UnaryOperator);w.NullOperator=o},6197:function(O,w,s){\"use strict\";function y(i){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(r){return typeof r}:function(r){return r&&typeof Symbol==\"function\"&&r.constructor===Symbol&&r!==Symbol.prototype?\"symbol\":typeof r},y(i)}function g(i,r){var o=typeof Symbol<\"u\"&&i[Symbol.iterator]||i[\"@@iterator\"];if(!o){if(Array.isArray(i)||(o=function(l,u){if(l){if(typeof l==\"string\")return v(l,u);var p=Object.prototype.toString.call(l).slice(8,-1);if(p===\"Object\"&&l.constructor&&(p=l.constructor.name),p===\"Map\"||p===\"Set\")return Array.from(l);if(p===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return v(l,u)}}(i))||r&&i&&typeof i.length==\"number\"){o&&(i=o);var e=0,t=function(){};return{s:t,n:function(){return e>=i.length?{done:!0}:{done:!1,value:i[e++]}},e:function(l){throw l},f:t}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,a=!0,c=!1;return{s:function(){o=o.call(i)},n:function(){var l=o.next();return a=l.done,l},e:function(l){c=!0,n=l},f:function(){try{a||o.return==null||o.return()}finally{if(c)throw n}}}}function v(i,r){(r==null||r>i.length)&&(r=i.length);for(var o=0,e=new Array(r);o<r;o++)e[o]=i[o];return e}function h(i,r){for(var o=0;o<r.length;o++){var e=r[o];e.enumerable=e.enumerable||!1,e.configurable=!0,\"value\"in e&&(e.writable=!0),Object.defineProperty(i,(t=e.key,n=void 0,n=function(a,c){if(y(a)!==\"object\"||a===null)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var u=l.call(a,c||\"default\");if(y(u)!==\"object\")return u;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(c===\"string\"?String:Number)(a)}(t,\"string\"),y(n)===\"symbol\"?n:String(n)),e)}var t,n}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.OrCombinator=void 0;var d=function(){function i(){(function(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")})(this,i)}var r,o,e;return r=i,(o=[{key:\"evaluate\",value:function(t,n){if(Array.isArray(n)){var a,c=g(n);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(t.booleanConvert(t.evaluate(l)))return!0}}catch(u){c.e(u)}finally{c.f()}return n.length===0}return null}}])&&h(r.prototype,o),e&&h(r,e),Object.defineProperty(r,\"prototype\",{writable:!1}),i}();w.OrCombinator=d},7262:function(O,w,s){\"use strict\";function y(h){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(d){return typeof d}:function(d){return d&&typeof Symbol==\"function\"&&d.constructor===Symbol&&d!==Symbol.prototype?\"symbol\":typeof d},y(h)}function g(h,d){for(var i=0;i<d.length;i++){var r=d[i];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(h,(o=r.key,e=void 0,e=function(t,n){if(y(t)!==\"object\"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var c=a.call(t,n||\"default\");if(y(c)!==\"object\")return c;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(n===\"string\"?String:Number)(t)}(o,\"string\"),y(e)===\"symbol\"?e:String(e)),r)}var o,e}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.UnaryOperator=void 0;var v=function(){function h(){(function(o,e){if(!(o instanceof e))throw new TypeError(\"Cannot call a class as a function\")})(this,h)}var d,i,r;return d=h,(i=[{key:\"evaluate\",value:function(o,e){return e=o.evaluate(e),this.unary(o,e)}}])&&g(d.prototype,i),r&&g(d,r),Object.defineProperty(d,\"prototype\",{writable:!1}),h}();w.UnaryOperator=v},9771:function(O,w,s){\"use strict\";function y(h){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(d){return typeof d}:function(d){return d&&typeof Symbol==\"function\"&&d.constructor===Symbol&&d!==Symbol.prototype?\"symbol\":typeof d},y(h)}function g(h,d){for(var i=0;i<d.length;i++){var r=d[i];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(h,(o=r.key,e=void 0,e=function(t,n){if(y(t)!==\"object\"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var c=a.call(t,n||\"default\");if(y(c)!==\"object\")return c;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(n===\"string\"?String:Number)(t)}(o,\"string\"),y(e)===\"symbol\"?e:String(e)),r)}var o,e}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.ValueOperator=void 0;var v=function(){function h(){(function(o,e){if(!(o instanceof e))throw new TypeError(\"Cannot call a class as a function\")})(this,h)}var d,i,r;return d=h,(i=[{key:\"evaluate\",value:function(o,e){return e}}])&&g(d.prototype,i),r&&g(d,r),Object.defineProperty(d,\"prototype\",{writable:!1}),h}();w.ValueOperator=v},640:function(O,w,s){\"use strict\";function y(d){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(i){return typeof i}:function(i){return i&&typeof Symbol==\"function\"&&i.constructor===Symbol&&i!==Symbol.prototype?\"symbol\":typeof i},y(d)}function g(d,i){for(var r=0;r<i.length;r++){var o=i[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(d,(e=o.key,t=void 0,t=function(n,a){if(y(n)!==\"object\"||n===null)return n;var c=n[Symbol.toPrimitive];if(c!==void 0){var l=c.call(n,a||\"default\");if(y(l)!==\"object\")return l;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(a===\"string\"?String:Number)(n)}(e,\"string\"),y(t)===\"symbol\"?t:String(t)),o)}var e,t}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.VarOperator=void 0;var v=s(1231),h=function(){function d(){(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,d)}var i,r,o;return i=d,(r=[{key:\"evaluate\",value:function(e,t){return(0,v.isObject)(t)&&(t=t.path),typeof t==\"string\"?e.extractVar(t):null}}])&&g(i.prototype,r),o&&g(i,o),Object.defineProperty(i,\"prototype\",{writable:!1}),d}();w.VarOperator=h},7682:function(O,w,s){\"use strict\";function y(i){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(r){return typeof r}:function(r){return r&&typeof Symbol==\"function\"&&r.constructor===Symbol&&r!==Symbol.prototype?\"symbol\":typeof r},y(i)}function g(i,r){for(var o=0;o<r.length;o++){var e=r[o];e.enumerable=e.enumerable||!1,e.configurable=!0,\"value\"in e&&(e.writable=!0),Object.defineProperty(i,(t=e.key,n=void 0,n=function(a,c){if(y(a)!==\"object\"||a===null)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var u=l.call(a,c||\"default\");if(y(u)!==\"object\")return u;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(c===\"string\"?String:Number)(a)}(t,\"string\"),y(n)===\"symbol\"?n:String(n)),e)}var t,n}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.AudienceMatcher=void 0;var v=s(1231),h=s(8728),d=function(){function i(){(function(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")})(this,i),this._jsonExpr=new h.JsonExpr}var r,o,e;return r=i,(o=[{key:\"evaluate\",value:function(t,n){try{var a=JSON.parse(t);if(a&&a.filter&&(Array.isArray(a.filter)||(0,v.isObject)(a.filter)))return this._jsonExpr.evaluateBooleanExpr(a.filter,n)}catch(c){console.error(c)}return null}}])&&g(r.prototype,o),e&&g(r,e),Object.defineProperty(r,\"prototype\",{writable:!1}),i}();w.AudienceMatcher=d},4703:function(O,w,s){\"use strict\";function y(r,o,e,t,n,a){return((o=o+r+(t>>>0)+a)<<n|o>>>32-n)+e}function g(r,o,e,t,n,a,c){return y(o&e|~o&t,r,o,n,a,c)}function v(r,o,e,t,n,a,c){return y(o&t|e&~t,r,o,n,a,c)}function h(r,o,e,t,n,a,c){return y(o^e^t,r,o,n,a,c)}function d(r,o,e,t,n,a,c){return y(e^(o|~t),r,o,n,a,c)}function i(r,o){var e=r[0],t=r[1],n=r[2],a=r[3];e=g(e,t,n,a,o[0],7,-680876936),a=g(a,e,t,n,o[1],12,-389564586),n=g(n,a,e,t,o[2],17,606105819),t=g(t,n,a,e,o[3],22,-1044525330),e=g(e,t,n,a,o[4],7,-176418897),a=g(a,e,t,n,o[5],12,1200080426),n=g(n,a,e,t,o[6],17,-1473231341),t=g(t,n,a,e,o[7],22,-45705983),e=g(e,t,n,a,o[8],7,1770035416),a=g(a,e,t,n,o[9],12,-1958414417),n=g(n,a,e,t,o[10],17,-42063),t=g(t,n,a,e,o[11],22,-1990404162),e=g(e,t,n,a,o[12],7,1804603682),a=g(a,e,t,n,o[13],12,-40341101),n=g(n,a,e,t,o[14],17,-1502002290),e=v(e,t=g(t,n,a,e,o[15],22,1236535329),n,a,o[1],5,-165796510),a=v(a,e,t,n,o[6],9,-1069501632),n=v(n,a,e,t,o[11],14,643717713),t=v(t,n,a,e,o[0],20,-373897302),e=v(e,t,n,a,o[5],5,-701558691),a=v(a,e,t,n,o[10],9,38016083),n=v(n,a,e,t,o[15],14,-660478335),t=v(t,n,a,e,o[4],20,-405537848),e=v(e,t,n,a,o[9],5,568446438),a=v(a,e,t,n,o[14],9,-1019803690),n=v(n,a,e,t,o[3],14,-187363961),t=v(t,n,a,e,o[8],20,1163531501),e=v(e,t,n,a,o[13],5,-1444681467),a=v(a,e,t,n,o[2],9,-51403784),n=v(n,a,e,t,o[7],14,1735328473),e=h(e,t=v(t,n,a,e,o[12],20,-1926607734),n,a,o[5],4,-378558),a=h(a,e,t,n,o[8],11,-2022574463),n=h(n,a,e,t,o[11],16,1839030562),t=h(t,n,a,e,o[14],23,-35309556),e=h(e,t,n,a,o[1],4,-1530992060),a=h(a,e,t,n,o[4],11,1272893353),n=h(n,a,e,t,o[7],16,-155497632),t=h(t,n,a,e,o[10],23,-1094730640),e=h(e,t,n,a,o[13],4,681279174),a=h(a,e,t,n,o[0],11,-358537222),n=h(n,a,e,t,o[3],16,-722521979),t=h(t,n,a,e,o[6],23,76029189),e=h(e,t,n,a,o[9],4,-640364487),a=h(a,e,t,n,o[12],11,-421815835),n=h(n,a,e,t,o[15],16,530742520),e=d(e,t=h(t,n,a,e,o[2],23,-995338651),n,a,o[0],6,-198630844),a=d(a,e,t,n,o[7],10,1126891415),n=d(n,a,e,t,o[14],15,-1416354905),t=d(t,n,a,e,o[5],21,-57434055),e=d(e,t,n,a,o[12],6,1700485571),a=d(a,e,t,n,o[3],10,-1894986606),n=d(n,a,e,t,o[10],15,-1051523),t=d(t,n,a,e,o[1],21,-2054922799),e=d(e,t,n,a,o[8],6,1873313359),a=d(a,e,t,n,o[15],10,-30611744),n=d(n,a,e,t,o[6],15,-1560198380),t=d(t,n,a,e,o[13],21,1309151649),e=d(e,t,n,a,o[4],6,-145523070),a=d(a,e,t,n,o[11],10,-1120210379),n=d(n,a,e,t,o[2],15,718787259),t=d(t,n,a,e,o[9],21,-343485551),r[0]=e+r[0]>>>0,r[1]=t+r[1]>>>0,r[2]=n+r[2]>>>0,r[3]=a+r[3]>>>0}s(5206),Object.defineProperty(w,\"__esModule\",{value:!0}),w.md5=void 0,w.md5=function(r){var o,e=new DataView(r),t=e.byteLength,n=-64&t,a=new Uint32Array(16),c=Uint32Array.of(1732584193,-271733879,-1732584194,271733878);for(o=0;o<n;o+=64){for(var l=0;l<16;++l)a[l]=e.getUint32(o+(l<<2),!0);i(c,a)}for(var u=0,p=-4&t;o<p;o+=4)a[u++]=e.getUint32(o,!0);switch(3&t){case 3:a[u++]=2147483648|e.getUint8(o)|e.getUint8(o+1)<<8|e.getUint8(o+2)<<16;break;case 2:a[u++]=8388608|e.getUint8(o)|e.getUint8(o+1)<<8;break;case 1:a[u++]=32768|e.getUint8(o);break;default:a[u++]=128}if(u>14){for(;u<16;++u)a[u]=0;i(c,a),u=0}for(;u<16;++u)a[u]=0;return a[14]=t<<3,i(c,a),new Uint8Array(c.buffer)}},7433:function(O,w,s){\"use strict\";s(332),Object.defineProperty(w,\"__esModule\",{value:!0}),w.murmur3_32=void 0;var y=Math.imul;function g(h,d){return h<<d|h>>>32-d}function v(h){return y(g(y(h,3432918353),15),461845907)}w.murmur3_32=function(h,d){d=(d||0)>>>0;var i,r=new DataView(h),o=-4&r.byteLength;for(i=0;i<o;i+=4)d=g(d^=v(r.getUint32(i,!0)),13),d=y(d,5)+3864292196;var e,t=0;switch(3&r.byteLength){case 3:t^=r.getUint8(i+2)<<16;case 2:t^=r.getUint8(i+1)<<8;case 1:d^=v(t^=r.getUint8(i))}return d^=r.byteLength,e=d,e=y(e^=e>>>16,2246822507),e=y(e^=e>>>13,3266489909),(d=(e^=e>>>16)>>>0)>>>0}},9003:function(O,w,s){\"use strict\";function y(h){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(d){return typeof d}:function(d){return d&&typeof Symbol==\"function\"&&d.constructor===Symbol&&d!==Symbol.prototype?\"symbol\":typeof d},y(h)}function g(h,d){for(var i=0;i<d.length;i++){var r=d[i];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(h,(o=r.key,e=void 0,e=function(t,n){if(y(t)!==\"object\"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var c=a.call(t,n||\"default\");if(y(c)!==\"object\")return c;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(n===\"string\"?String:Number)(t)}(o,\"string\"),y(e)===\"symbol\"?e:String(e)),r)}var o,e}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.ContextDataProvider=void 0;var v=function(){function h(){(function(o,e){if(!(o instanceof e))throw new TypeError(\"Cannot call a class as a function\")})(this,h)}var d,i,r;return d=h,(i=[{key:\"getContextData\",value:function(o,e){return o.getClient().getContext(e)}}])&&g(d.prototype,i),r&&g(d,r),Object.defineProperty(d,\"prototype\",{writable:!1}),h}();w.ContextDataProvider=v},9949:function(O,w,s){\"use strict\";function y(h){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(d){return typeof d}:function(d){return d&&typeof Symbol==\"function\"&&d.constructor===Symbol&&d!==Symbol.prototype?\"symbol\":typeof d},y(h)}function g(h,d){for(var i=0;i<d.length;i++){var r=d[i];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(h,(o=r.key,e=void 0,e=function(t,n){if(y(t)!==\"object\"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var c=a.call(t,n||\"default\");if(y(c)!==\"object\")return c;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(n===\"string\"?String:Number)(t)}(o,\"string\"),y(e)===\"symbol\"?e:String(e)),r)}var o,e}s(6078),s(9653),Object.defineProperty(w,\"__esModule\",{value:!0}),w.ContextPublisher=void 0;var v=function(){function h(){(function(o,e){if(!(o instanceof e))throw new TypeError(\"Cannot call a class as a function\")})(this,h)}var d,i,r;return d=h,(i=[{key:\"publish\",value:function(o,e,t,n){return e.getClient().publish(o,n)}}])&&g(d.prototype,i),r&&g(d,r),Object.defineProperty(d,\"prototype\",{writable:!1}),h}();w.ContextPublisher=v},153:function(O,w,s){\"use strict\";function y(c){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(l){return typeof l}:function(l){return l&&typeof Symbol==\"function\"&&l.constructor===Symbol&&l!==Symbol.prototype?\"symbol\":typeof l},y(c)}function g(c){return function(l){if(Array.isArray(l))return v(l)}(c)||function(l){if(typeof Symbol<\"u\"&&l[Symbol.iterator]!=null||l[\"@@iterator\"]!=null)return Array.from(l)}(c)||function(l,u){if(l){if(typeof l==\"string\")return v(l,u);var p=Object.prototype.toString.call(l).slice(8,-1);if(p===\"Object\"&&l.constructor&&(p=l.constructor.name),p===\"Map\"||p===\"Set\")return Array.from(l);if(p===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return v(l,u)}}(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(c,l){(l==null||l>c.length)&&(l=c.length);for(var u=0,p=new Array(l);u<l;u++)p[u]=c[u];return p}function h(c,l){for(var u=0;u<l.length;u++){var p=l[u];p.enumerable=p.enumerable||!1,p.configurable=!0,\"value\"in p&&(p.writable=!0),Object.defineProperty(c,d(p.key),p)}}function d(c){var l=function(u,p){if(y(u)!==\"object\"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var b=f.call(u,p||\"default\");if(y(b)!==\"object\")return b;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(p===\"string\"?String:Number)(u)}(c,\"string\");return y(l)===\"symbol\"?l:String(l)}s(9601),s(9720),s(6078),s(9653);var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(w,\"__esModule\",{value:!0});var r=i(s(7578)),o=i(s(7621)),e=s(9949),t=s(9003),n=s(1231),a=function(){function c(f){(function(m,x){if(!(m instanceof x))throw new TypeError(\"Cannot call a class as a function\")})(this,c);var b=Object.assign.apply(Object,[{agent:\"absmartly-javascript-sdk\"}].concat(g(Object.entries(f||{}).filter(function(m){return[\"application\",\"agent\",\"apiKey\",\"endpoint\",\"keepalive\",\"environment\",\"retries\",\"timeout\"].indexOf(m[0])!==-1}).map(function(m){return x={},_=m[0],S=m[1],(_=d(_))in x?Object.defineProperty(x,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):x[_]=S,x;var x,_,S}))));f=Object.assign({},f),this._client=f.client||new r.default(b),this._eventLogger=f.eventLogger||c.defaultEventLogger,this._publisher=f.publisher||new e.ContextPublisher,this._provider=f.provider||new t.ContextDataProvider}var l,u,p;return l=c,p=[{key:\"_contextOptions\",value:function(f){return Object.assign({publishDelay:(0,n.isLongLivedApp)()?100:-1,refreshPeriod:0},f||{})}},{key:\"_validateParams\",value:function(f){Object.entries(f.units).forEach(function(b){var m=y(b[1]);if(m!==\"string\"&&m!==\"number\")throw new Error(\"Unit '\".concat(b[0],\"' UID is of unsupported type '\").concat(m,\"'. UID must be one of ['string', 'number']\"));if(typeof b[1]==\"string\"&&b[1].length===0)throw new Error(\"Unit '\".concat(b[0],\"' UID length must be >= 1\"))})}}],(u=[{key:\"getContextData\",value:function(f){return this._provider.getContextData(this,f)}},{key:\"createContext\",value:function(f,b,m){c._validateParams(f);var x=c._contextOptions(b),_=this._provider.getContextData(this,m);return new o.default(this,x,f,_)}},{key:\"setEventLogger\",value:function(f){this._eventLogger=f}},{key:\"getEventLogger\",value:function(){return this._eventLogger}},{key:\"setContextPublisher\",value:function(f){this._publisher=f}},{key:\"getContextPublisher\",value:function(){return this._publisher}},{key:\"setContextDataProvider\",value:function(f){this._provider=f}},{key:\"getContextDataProvider\",value:function(){return this._provider}},{key:\"getClient\",value:function(){return this._client}},{key:\"createContextWith\",value:function(f,b,m){c._validateParams(f);var x=c._contextOptions(m);return new o.default(this,x,f,b)}}])&&h(l.prototype,u),p&&h(l,p),Object.defineProperty(l,\"prototype\",{writable:!1}),c}();w.default=a,a.defaultEventLogger=function(c,l,u){l===\"error\"&&console.error(u)}},1231:function(O,w,s){\"use strict\";function y(r){return y=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(o){return typeof o}:function(o){return o&&typeof Symbol==\"function\"&&o.constructor===Symbol&&o!==Symbol.prototype?\"symbol\":typeof o},y(r)}s(4048),s(9653),s(8145),s(6977),Object.defineProperty(w,\"__esModule\",{value:!0}),w.chooseVariant=w.hashUnit=w.base64UrlNoPadding=w.stringToUint8Array=w.arrayEqualsShallow=w.isEqualsDeep=w.isPromise=w.isObject=w.isNumeric=w.isWorker=w.isLongLivedApp=w.getApplicationVersion=w.getApplicationName=void 0;var g=s(4703);w.getApplicationName=function(r){return typeof r!=\"string\"?r.name:r};function v(r){if(!(r instanceof Object))return!1;var o=Object.getPrototypeOf(r);return o==null||o===Object.prototype}function h(r,o,e,t){if(r===o)return!0;if(y(r)!==y(o))return!1;switch(y(r)){case\"boolean\":case\"string\":return r===o;case\"number\":return Number.isNaN(r)?Number.isNaN(o):r===o;case\"object\":var n=Array.isArray(r);if(n&&!Array.isArray(o))return!1;var a=v(r);if(a&&!v(o)||!n&&!a)return!1;if(n&&Array.isArray(o)){if(r.length===o.length)return function(l,u){for(var p,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],m=(p=f?.length)!==null&&p!==void 0?p:0;m--;)if(f[m]===l)return b[m]===u;for(b=b??[],(f=f??[]).push(l),b.push(u),m=l.length;m--;)if(!h(l[m],u[m],f,b))return!1;return b.pop(),f.pop(),!0}(r,o,e,t)}else if(r&&o){var c=Object.keys(r);if(c.length===Object.keys(o).length)return function(l,u,p,f,b){for(var m,x=(m=f?.length)!==null&&m!==void 0?m:0;x--;)if(f&&f[x]===l)return b&&b[x]===u;for(b=b??[],(f=f??[]).push(l),b.push(u),x=p.length;x--;){var _=p[x];if(!Object.prototype.hasOwnProperty.call(u,_)||!h(l[_],u[_],f,b))return!1}return b.pop(),f.pop(),!0}(r,o,c,e,t)}}return!1}function d(r){for(var o=r.length,e=new Array(r.length),t=0,n=0;n<o;++n){var a=r.charCodeAt(n);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=63&a|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=63&a|128)}return Uint8Array.from(e)}w.getApplicationVersion=function(r){return typeof r!=\"string\"?r.version:0},w.isLongLivedApp=function(){return typeof window<\"u\"&&window.document!==void 0||typeof navigator<\"u\"&&navigator.product===\"ReactNative\"},w.isWorker=function(){return(typeof self>\"u\"?\"undefined\":y(self))===\"object\"&&self.constructor&&self.constructor.name===\"DedicatedWorkerGlobalScope\"},w.isNumeric=function(r){return typeof r==\"number\"},w.isObject=v,w.isPromise=function(r){return r!==null&&y(r)===\"object\"&&typeof r.then==\"function\"},w.isEqualsDeep=h,w.arrayEqualsShallow=function(r,o){return r===o||r?.length===o?.length&&!r?.some(function(e,t){return o&&e!==o[t]})},w.stringToUint8Array=d;function i(r){var o,e=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",t=r.byteLength%3,n=4*(r.byteLength/3|0)+(t===0?0:t===1?2:3),a=new Array(n),c=0,l=r.byteLength-t;for(o=0;o<l;o+=3){var u=r[o]<<16|r[o+1]<<8|r[o+2];a[c]=e[u>>18&63],a[c+1]=e[u>>12&63],a[c+2]=e[u>>6&63],a[c+3]=e[63&u],c+=4}switch(t){case 2:var p=r[o]<<16|r[o+1]<<8;a[c]=e[p>>18&63],a[c+1]=e[p>>12&63],a[c+2]=e[p>>6&63];break;case 1:var f=r[o]<<16;a[c]=e[f>>18&63],a[c+1]=e[f>>12&63]}return a.join(\"\")}w.base64UrlNoPadding=i,w.hashUnit=function(r){var o=typeof r==\"string\"?r:r.toFixed(0);return i((0,g.md5)(d(o).buffer))},w.chooseVariant=function(r,o){for(var e=0,t=0;t<r.length;++t)if(o<(e+=r[t]))return t;return r.length-1}},9662:function(O,w,s){var y=s(614),g=s(6330),v=TypeError;O.exports=function(h){if(y(h))return h;throw v(g(h)+\" is not a function\")}},9483:function(O,w,s){var y=s(4411),g=s(6330),v=TypeError;O.exports=function(h){if(y(h))return h;throw v(g(h)+\" is not a constructor\")}},6077:function(O,w,s){var y=s(614),g=String,v=TypeError;O.exports=function(h){if(typeof h==\"object\"||y(h))return h;throw v(\"Can't set \"+g(h)+\" as a prototype\")}},1223:function(O,w,s){var y=s(5112),g=s(30),v=s(3070).f,h=y(\"unscopables\"),d=Array.prototype;d[h]==null&&v(d,h,{configurable:!0,value:g(null)}),O.exports=function(i){d[h][i]=!0}},9670:function(O,w,s){var y=s(111),g=String,v=TypeError;O.exports=function(h){if(y(h))return h;throw v(g(h)+\" is not an object\")}},3013:function(O){O.exports=typeof ArrayBuffer<\"u\"&&typeof DataView<\"u\"},260:function(O,w,s){\"use strict\";var y,g,v,h=s(3013),d=s(9781),i=s(7854),r=s(614),o=s(111),e=s(2597),t=s(648),n=s(6330),a=s(8880),c=s(8052),l=s(3070).f,u=s(7976),p=s(9518),f=s(7674),b=s(5112),m=s(9711),x=s(9909),_=x.enforce,S=x.get,E=i.Int8Array,j=E&&E.prototype,P=i.Uint8ClampedArray,T=P&&P.prototype,D=E&&p(E),M=j&&p(j),L=Object.prototype,U=i.TypeError,V=b(\"toStringTag\"),z=m(\"TYPED_ARRAY_TAG\"),R=\"TypedArrayConstructor\",B=h&&!!f&&t(i.opera)!==\"Opera\",C=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},W={BigInt64Array:8,BigUint64Array:8},N=function(I){var q=p(I);if(o(q)){var H=S(q);return H&&e(H,R)?H[R]:N(q)}},F=function(I){if(!o(I))return!1;var q=t(I);return e(k,q)||e(W,q)};for(y in k)(v=(g=i[y])&&g.prototype)?_(v)[R]=g:B=!1;for(y in W)(v=(g=i[y])&&g.prototype)&&(_(v)[R]=g);if((!B||!r(D)||D===Function.prototype)&&(D=function(){throw U(\"Incorrect invocation\")},B))for(y in k)i[y]&&f(i[y],D);if((!B||!M||M===L)&&(M=D.prototype,B))for(y in k)i[y]&&f(i[y].prototype,M);if(B&&p(T)!==M&&f(T,M),d&&!e(M,V))for(y in C=!0,l(M,V,{get:function(){return o(this)?this[z]:void 0}}),k)i[y]&&a(i[y],z,y);O.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_TAG:C&&z,aTypedArray:function(I){if(F(I))return I;throw U(\"Target is not a typed array\")},aTypedArrayConstructor:function(I){if(r(I)&&(!f||u(D,I)))return I;throw U(n(I)+\" is not a typed array constructor\")},exportTypedArrayMethod:function(I,q,H,Y){if(d){if(H)for(var Q in k){var Z=i[Q];if(Z&&e(Z.prototype,I))try{delete Z.prototype[I]}catch{try{Z.prototype[I]=q}catch{}}}M[I]&&!H||c(M,I,H?q:B&&j[I]||q,Y)}},exportTypedArrayStaticMethod:function(I,q,H){var Y,Q;if(d){if(f){if(H){for(Y in k)if((Q=i[Y])&&e(Q,I))try{delete Q[I]}catch{}}if(D[I]&&!H)return;try{return c(D,I,H?q:B&&D[I]||q)}catch{}}for(Y in k)!(Q=i[Y])||Q[I]&&!H||c(Q,I,q)}},getTypedArrayConstructor:N,isView:function(I){if(!o(I))return!1;var q=t(I);return q===\"DataView\"||e(k,q)||e(W,q)},isTypedArray:F,TypedArray:D,TypedArrayPrototype:M}},1318:function(O,w,s){var y=s(5656),g=s(1400),v=s(6244),h=function(d){return function(i,r,o){var e,t=y(i),n=v(t),a=g(o,n);if(d&&r!=r){for(;n>a;)if((e=t[a++])!=e)return!0}else for(;n>a;a++)if((d||a in t)&&t[a]===r)return d||a||0;return!d&&-1}};O.exports={includes:h(!0),indexOf:h(!1)}},2092:function(O,w,s){var y=s(9974),g=s(1702),v=s(8361),h=s(7908),d=s(6244),i=s(5417),r=g([].push),o=function(e){var t=e==1,n=e==2,a=e==3,c=e==4,l=e==6,u=e==7,p=e==5||l;return function(f,b,m,x){for(var _,S,E=h(f),j=v(E),P=y(b,m),T=d(j),D=0,M=x||i,L=t?M(f,T):n||u?M(f,0):void 0;T>D;D++)if((p||D in j)&&(S=P(_=j[D],D,E),e))if(t)L[D]=S;else if(S)switch(e){case 3:return!0;case 5:return _;case 6:return D;case 2:r(L,_)}else switch(e){case 4:return!1;case 7:r(L,_)}return l?-1:a||c?c:L}};O.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)}},7475:function(O,w,s){var y=s(3157),g=s(4411),v=s(111),h=s(5112)(\"species\"),d=Array;O.exports=function(i){var r;return y(i)&&(r=i.constructor,(g(r)&&(r===d||y(r.prototype))||v(r)&&(r=r[h])===null)&&(r=void 0)),r===void 0?d:r}},5417:function(O,w,s){var y=s(7475);O.exports=function(g,v){return new(y(g))(v===0?0:v)}},7072:function(O,w,s){var y=s(5112)(\"iterator\"),g=!1;try{var v=0,h={next:function(){return{done:!!v++}},return:function(){g=!0}};h[y]=function(){return this},Array.from(h,function(){throw 2})}catch{}O.exports=function(d,i){if(!i&&!g)return!1;var r=!1;try{var o={};o[y]=function(){return{next:function(){return{done:r=!0}}}},d(o)}catch{}return r}},4326:function(O,w,s){var y=s(1702),g=y({}.toString),v=y(\"\".slice);O.exports=function(h){return v(g(h),8,-1)}},648:function(O,w,s){var y=s(1694),g=s(614),v=s(4326),h=s(5112)(\"toStringTag\"),d=Object,i=v(function(){return arguments}())==\"Arguments\";O.exports=y?v:function(r){var o,e,t;return r===void 0?\"Undefined\":r===null?\"Null\":typeof(e=function(n,a){try{return n[a]}catch{}}(o=d(r),h))==\"string\"?e:i?v(o):(t=v(o))==\"Object\"&&g(o.callee)?\"Arguments\":t}},9920:function(O,w,s){var y=s(2597),g=s(3887),v=s(1236),h=s(3070);O.exports=function(d,i,r){for(var o=g(i),e=h.f,t=v.f,n=0;n<o.length;n++){var a=o[n];y(d,a)||r&&y(r,a)||e(d,a,t(i,a))}}},8544:function(O,w,s){var y=s(7293);O.exports=!y(function(){function g(){}return g.prototype.constructor=null,Object.getPrototypeOf(new g)!==g.prototype})},8880:function(O,w,s){var y=s(9781),g=s(3070),v=s(9114);O.exports=y?function(h,d,i){return g.f(h,d,v(1,i))}:function(h,d,i){return h[d]=i,h}},9114:function(O){O.exports=function(w,s){return{enumerable:!(1&w),configurable:!(2&w),writable:!(4&w),value:s}}},8709:function(O,w,s){\"use strict\";var y=s(9670),g=s(2140),v=TypeError;O.exports=function(h){if(y(this),h===\"string\"||h===\"default\")h=\"string\";else if(h!==\"number\")throw v(\"Incorrect hint\");return g(this,h)}},8052:function(O,w,s){var y=s(614),g=s(3070),v=s(6339),h=s(3072);O.exports=function(d,i,r,o){o||(o={});var e=o.enumerable,t=o.name!==void 0?o.name:i;if(y(r)&&v(r,t,o),o.global)e?d[i]=r:h(i,r);else{try{o.unsafe?d[i]&&(e=!0):delete d[i]}catch{}e?d[i]=r:g.f(d,i,{value:r,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return d}},3072:function(O,w,s){var y=s(7854),g=Object.defineProperty;O.exports=function(v,h){try{g(y,v,{value:h,configurable:!0,writable:!0})}catch{y[v]=h}return h}},9781:function(O,w,s){var y=s(7293);O.exports=!y(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},4154:function(O){var w=typeof document==\"object\"&&document.all,s=w===void 0&&w!==void 0;O.exports={all:w,IS_HTMLDDA:s}},317:function(O,w,s){var y=s(7854),g=s(111),v=y.document,h=g(v)&&g(v.createElement);O.exports=function(d){return h?v.createElement(d):{}}},8113:function(O,w,s){var y=s(5005);O.exports=y(\"navigator\",\"userAgent\")||\"\"},7392:function(O,w,s){var y,g,v=s(7854),h=s(8113),d=v.process,i=v.Deno,r=d&&d.versions||i&&i.version,o=r&&r.v8;o&&(g=(y=o.split(\".\"))[0]>0&&y[0]<4?1:+(y[0]+y[1])),!g&&h&&(!(y=h.match(/Edge\\/(\\d+)/))||y[1]>=74)&&(y=h.match(/Chrome\\/(\\d+)/))&&(g=+y[1]),O.exports=g},748:function(O){O.exports=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"]},2109:function(O,w,s){var y=s(7854),g=s(1236).f,v=s(8880),h=s(8052),d=s(3072),i=s(9920),r=s(4705);O.exports=function(o,e){var t,n,a,c,l,u=o.target,p=o.global,f=o.stat;if(t=p?y:f?y[u]||d(u,{}):(y[u]||{}).prototype)for(n in e){if(c=e[n],a=o.dontCallGetSet?(l=g(t,n))&&l.value:t[n],!r(p?n:u+(f?\".\":\"#\")+n,o.forced)&&a!==void 0){if(typeof c==typeof a)continue;i(c,a)}(o.sham||a&&a.sham)&&v(c,\"sham\",!0),h(t,n,c,o)}}},7293:function(O){O.exports=function(w){try{return!!w()}catch{return!0}}},9974:function(O,w,s){var y=s(1470),g=s(9662),v=s(4374),h=y(y.bind);O.exports=function(d,i){return g(d),i===void 0?d:v?h(d,i):function(){return d.apply(i,arguments)}}},4374:function(O,w,s){var y=s(7293);O.exports=!y(function(){var g=function(){}.bind();return typeof g!=\"function\"||g.hasOwnProperty(\"prototype\")})},6916:function(O,w,s){var y=s(4374),g=Function.prototype.call;O.exports=y?g.bind(g):function(){return g.apply(g,arguments)}},6530:function(O,w,s){var y=s(9781),g=s(2597),v=Function.prototype,h=y&&Object.getOwnPropertyDescriptor,d=g(v,\"name\"),i=d&&function(){}.name===\"something\",r=d&&(!y||y&&h(v,\"name\").configurable);O.exports={EXISTS:d,PROPER:i,CONFIGURABLE:r}},1470:function(O,w,s){var y=s(4326),g=s(1702);O.exports=function(v){if(y(v)===\"Function\")return g(v)}},1702:function(O,w,s){var y=s(4374),g=Function.prototype,v=g.call,h=y&&g.bind.bind(v,v);O.exports=y?h:function(d){return function(){return v.apply(d,arguments)}}},5005:function(O,w,s){var y=s(7854),g=s(614),v=function(h){return g(h)?h:void 0};O.exports=function(h,d){return arguments.length<2?v(y[h]):y[h]&&y[h][d]}},1246:function(O,w,s){var y=s(648),g=s(8173),v=s(8554),h=s(7497),d=s(5112)(\"iterator\");O.exports=function(i){if(!v(i))return g(i,d)||g(i,\"@@iterator\")||h[y(i)]}},4121:function(O,w,s){var y=s(6916),g=s(9662),v=s(9670),h=s(6330),d=s(1246),i=TypeError;O.exports=function(r,o){var e=arguments.length<2?d(r):o;if(g(e))return v(y(e,r));throw i(h(r)+\" is not iterable\")}},8173:function(O,w,s){var y=s(9662),g=s(8554);O.exports=function(v,h){var d=v[h];return g(d)?void 0:y(d)}},7854:function(O,w,s){var y=function(g){return g&&g.Math==Math&&g};O.exports=y(typeof globalThis==\"object\"&&globalThis)||y(typeof window==\"object\"&&window)||y(typeof self==\"object\"&&self)||y(typeof s.g==\"object\"&&s.g)||function(){return this}()||Function(\"return this\")()},2597:function(O,w,s){var y=s(1702),g=s(7908),v=y({}.hasOwnProperty);O.exports=Object.hasOwn||function(h,d){return v(g(h),d)}},3501:function(O){O.exports={}},490:function(O,w,s){var y=s(5005);O.exports=y(\"document\",\"documentElement\")},4664:function(O,w,s){var y=s(9781),g=s(7293),v=s(317);O.exports=!y&&!g(function(){return Object.defineProperty(v(\"div\"),\"a\",{get:function(){return 7}}).a!=7})},8361:function(O,w,s){var y=s(1702),g=s(7293),v=s(4326),h=Object,d=y(\"\".split);O.exports=g(function(){return!h(\"z\").propertyIsEnumerable(0)})?function(i){return v(i)==\"String\"?d(i,\"\"):h(i)}:h},9587:function(O,w,s){var y=s(614),g=s(111),v=s(7674);O.exports=function(h,d,i){var r,o;return v&&y(r=d.constructor)&&r!==i&&g(o=r.prototype)&&o!==i.prototype&&v(h,o),h}},2788:function(O,w,s){var y=s(1702),g=s(614),v=s(5465),h=y(Function.toString);g(v.inspectSource)||(v.inspectSource=function(d){return h(d)}),O.exports=v.inspectSource},9909:function(O,w,s){var y,g,v,h=s(4811),d=s(7854),i=s(111),r=s(8880),o=s(2597),e=s(5465),t=s(6200),n=s(3501),a=\"Object already initialized\",c=d.TypeError,l=d.WeakMap;if(h||e.state){var u=e.state||(e.state=new l);u.get=u.get,u.has=u.has,u.set=u.set,y=function(f,b){if(u.has(f))throw c(a);return b.facade=f,u.set(f,b),b},g=function(f){return u.get(f)||{}},v=function(f){return u.has(f)}}else{var p=t(\"state\");n[p]=!0,y=function(f,b){if(o(f,p))throw c(a);return b.facade=f,r(f,p,b),b},g=function(f){return o(f,p)?f[p]:{}},v=function(f){return o(f,p)}}O.exports={set:y,get:g,has:v,enforce:function(f){return v(f)?g(f):y(f,{})},getterFor:function(f){return function(b){var m;if(!i(b)||(m=g(b)).type!==f)throw c(\"Incompatible receiver, \"+f+\" required\");return m}}}},7659:function(O,w,s){var y=s(5112),g=s(7497),v=y(\"iterator\"),h=Array.prototype;O.exports=function(d){return d!==void 0&&(g.Array===d||h[v]===d)}},3157:function(O,w,s){var y=s(4326);O.exports=Array.isArray||function(g){return y(g)==\"Array\"}},4067:function(O,w,s){var y=s(648),g=s(1702)(\"\".slice);O.exports=function(v){return g(y(v),0,3)===\"Big\"}},614:function(O,w,s){var y=s(4154),g=y.all;O.exports=y.IS_HTMLDDA?function(v){return typeof v==\"function\"||v===g}:function(v){return typeof v==\"function\"}},4411:function(O,w,s){var y=s(1702),g=s(7293),v=s(614),h=s(648),d=s(5005),i=s(2788),r=function(){},o=[],e=d(\"Reflect\",\"construct\"),t=/^\\s*(?:class|function)\\b/,n=y(t.exec),a=!t.exec(r),c=function(u){if(!v(u))return!1;try{return e(r,o,u),!0}catch{return!1}},l=function(u){if(!v(u))return!1;switch(h(u)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return!1}try{return a||!!n(t,i(u))}catch{return!0}};l.sham=!0,O.exports=!e||g(function(){var u;return c(c.call)||!c(Object)||!c(function(){u=!0})||u})?l:c},4705:function(O,w,s){var y=s(7293),g=s(614),v=/#|\\.prototype\\./,h=function(e,t){var n=i[d(e)];return n==o||n!=r&&(g(t)?y(t):!!t)},d=h.normalize=function(e){return String(e).replace(v,\".\").toLowerCase()},i=h.data={},r=h.NATIVE=\"N\",o=h.POLYFILL=\"P\";O.exports=h},8554:function(O){O.exports=function(w){return w==null}},111:function(O,w,s){var y=s(614),g=s(4154),v=g.all;O.exports=g.IS_HTMLDDA?function(h){return typeof h==\"object\"?h!==null:y(h)||h===v}:function(h){return typeof h==\"object\"?h!==null:y(h)}},1913:function(O){O.exports=!1},2190:function(O,w,s){var y=s(5005),g=s(614),v=s(7976),h=s(3307),d=Object;O.exports=h?function(i){return typeof i==\"symbol\"}:function(i){var r=y(\"Symbol\");return g(r)&&v(r.prototype,d(i))}},7497:function(O){O.exports={}},6244:function(O,w,s){var y=s(7466);O.exports=function(g){return y(g.length)}},6339:function(O,w,s){var y=s(7293),g=s(614),v=s(2597),h=s(9781),d=s(6530).CONFIGURABLE,i=s(2788),r=s(9909),o=r.enforce,e=r.get,t=Object.defineProperty,n=h&&!y(function(){return t(function(){},\"length\",{value:8}).length!==8}),a=String(String).split(\"String\"),c=O.exports=function(l,u,p){String(u).slice(0,7)===\"Symbol(\"&&(u=\"[\"+String(u).replace(/^Symbol\\(([^)]*)\\)/,\"$1\")+\"]\"),p&&p.getter&&(u=\"get \"+u),p&&p.setter&&(u=\"set \"+u),(!v(l,\"name\")||d&&l.name!==u)&&(h?t(l,\"name\",{value:u,configurable:!0}):l.name=u),n&&p&&v(p,\"arity\")&&l.length!==p.arity&&t(l,\"length\",{value:p.arity});try{p&&v(p,\"constructor\")&&p.constructor?h&&t(l,\"prototype\",{writable:!1}):l.prototype&&(l.prototype=void 0)}catch{}var f=o(l);return v(f,\"source\")||(f.source=a.join(typeof u==\"string\"?u:\"\")),l};Function.prototype.toString=c(function(){return g(this)&&e(this).source||i(this)},\"toString\")},4758:function(O){var w=Math.ceil,s=Math.floor;O.exports=Math.trunc||function(y){var g=+y;return(g>0?s:w)(g)}},7023:function(O,w,s){var y=s(7854).isFinite;O.exports=Number.isFinite||function(g){return typeof g==\"number\"&&y(g)}},1574:function(O,w,s){\"use strict\";var y=s(9781),g=s(1702),v=s(6916),h=s(7293),d=s(1956),i=s(5181),r=s(5296),o=s(7908),e=s(8361),t=Object.assign,n=Object.defineProperty,a=g([].concat);O.exports=!t||h(function(){if(y&&t({b:1},t(n({},\"a\",{enumerable:!0,get:function(){n(this,\"b\",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var c={},l={},u=Symbol(),p=\"abcdefghijklmnopqrst\";return c[u]=7,p.split(\"\").forEach(function(f){l[f]=f}),t({},c)[u]!=7||d(t({},l)).join(\"\")!=p})?function(c,l){for(var u=o(c),p=arguments.length,f=1,b=i.f,m=r.f;p>f;)for(var x,_=e(arguments[f++]),S=b?a(d(_),b(_)):d(_),E=S.length,j=0;E>j;)x=S[j++],y&&!v(m,_,x)||(u[x]=_[x]);return u}:t},30:function(O,w,s){var y,g=s(9670),v=s(6048),h=s(748),d=s(3501),i=s(490),r=s(317),o=s(6200),e=\"prototype\",t=\"script\",n=o(\"IE_PROTO\"),a=function(){},c=function(p){return\"<\"+t+\">\"+p+\"</\"+t+\">\"},l=function(p){p.write(c(\"\")),p.close();var f=p.parentWindow.Object;return p=null,f},u=function(){try{y=new ActiveXObject(\"htmlfile\")}catch{}var p,f,b;u=typeof document<\"u\"?document.domain&&y?l(y):(f=r(\"iframe\"),b=\"java\"+t+\":\",f.style.display=\"none\",i.appendChild(f),f.src=String(b),(p=f.contentWindow.document).open(),p.write(c(\"document.F=Object\")),p.close(),p.F):l(y);for(var m=h.length;m--;)delete u[e][h[m]];return u()};d[n]=!0,O.exports=Object.create||function(p,f){var b;return p!==null?(a[e]=g(p),b=new a,a[e]=null,b[n]=p):b=u(),f===void 0?b:v.f(b,f)}},6048:function(O,w,s){var y=s(9781),g=s(3353),v=s(3070),h=s(9670),d=s(5656),i=s(1956);w.f=y&&!g?Object.defineProperties:function(r,o){h(r);for(var e,t=d(o),n=i(o),a=n.length,c=0;a>c;)v.f(r,e=n[c++],t[e]);return r}},3070:function(O,w,s){var y=s(9781),g=s(4664),v=s(3353),h=s(9670),d=s(4948),i=TypeError,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,e=\"enumerable\",t=\"configurable\",n=\"writable\";w.f=y?v?function(a,c,l){if(h(a),c=d(c),h(l),typeof a==\"function\"&&c===\"prototype\"&&\"value\"in l&&n in l&&!l[n]){var u=o(a,c);u&&u[n]&&(a[c]=l.value,l={configurable:t in l?l[t]:u[t],enumerable:e in l?l[e]:u[e],writable:!1})}return r(a,c,l)}:r:function(a,c,l){if(h(a),c=d(c),h(l),g)try{return r(a,c,l)}catch{}if(\"get\"in l||\"set\"in l)throw i(\"Accessors not supported\");return\"value\"in l&&(a[c]=l.value),a}},1236:function(O,w,s){var y=s(9781),g=s(6916),v=s(5296),h=s(9114),d=s(5656),i=s(4948),r=s(2597),o=s(4664),e=Object.getOwnPropertyDescriptor;w.f=y?e:function(t,n){if(t=d(t),n=i(n),o)try{return e(t,n)}catch{}if(r(t,n))return h(!g(v.f,t,n),t[n])}},8006:function(O,w,s){var y=s(6324),g=s(748).concat(\"length\",\"prototype\");w.f=Object.getOwnPropertyNames||function(v){return y(v,g)}},5181:function(O,w){w.f=Object.getOwnPropertySymbols},9518:function(O,w,s){var y=s(2597),g=s(614),v=s(7908),h=s(6200),d=s(8544),i=h(\"IE_PROTO\"),r=Object,o=r.prototype;O.exports=d?r.getPrototypeOf:function(e){var t=v(e);if(y(t,i))return t[i];var n=t.constructor;return g(n)&&t instanceof n?n.prototype:t instanceof r?o:null}},7976:function(O,w,s){var y=s(1702);O.exports=y({}.isPrototypeOf)},6324:function(O,w,s){var y=s(1702),g=s(2597),v=s(5656),h=s(1318).indexOf,d=s(3501),i=y([].push);O.exports=function(r,o){var e,t=v(r),n=0,a=[];for(e in t)!g(d,e)&&g(t,e)&&i(a,e);for(;o.length>n;)g(t,e=o[n++])&&(~h(a,e)||i(a,e));return a}},1956:function(O,w,s){var y=s(6324),g=s(748);O.exports=Object.keys||function(v){return y(v,g)}},5296:function(O,w){\"use strict\";var s={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,g=y&&!s.call({1:2},1);w.f=g?function(v){var h=y(this,v);return!!h&&h.enumerable}:s},7674:function(O,w,s){var y=s(1702),g=s(9670),v=s(6077);O.exports=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var h,d=!1,i={};try{(h=y(Object.getOwnPropertyDescriptor(Object.prototype,\"__proto__\").set))(i,[]),d=i instanceof Array}catch{}return function(r,o){return g(r),v(o),d?h(r,o):r.__proto__=o,r}}():void 0)},4699:function(O,w,s){var y=s(9781),g=s(1702),v=s(1956),h=s(5656),d=g(s(5296).f),i=g([].push),r=function(o){return function(e){for(var t,n=h(e),a=v(n),c=a.length,l=0,u=[];c>l;)t=a[l++],y&&!d(n,t)||i(u,o?[t,n[t]]:n[t]);return u}};O.exports={entries:r(!0),values:r(!1)}},2140:function(O,w,s){var y=s(6916),g=s(614),v=s(111),h=TypeError;O.exports=function(d,i){var r,o;if(i===\"string\"&&g(r=d.toString)&&!v(o=y(r,d))||g(r=d.valueOf)&&!v(o=y(r,d))||i!==\"string\"&&g(r=d.toString)&&!v(o=y(r,d)))return o;throw h(\"Can't convert object to primitive value\")}},3887:function(O,w,s){var y=s(5005),g=s(1702),v=s(8006),h=s(5181),d=s(9670),i=g([].concat);O.exports=y(\"Reflect\",\"ownKeys\")||function(r){var o=v.f(d(r)),e=h.f;return e?i(o,e(r)):o}},857:function(O,w,s){var y=s(7854);O.exports=y},4488:function(O,w,s){var y=s(8554),g=TypeError;O.exports=function(v){if(y(v))throw g(\"Can't call method on \"+v);return v}},6200:function(O,w,s){var y=s(2309),g=s(9711),v=y(\"keys\");O.exports=function(h){return v[h]||(v[h]=g(h))}},5465:function(O,w,s){var y=s(7854),g=s(3072),v=\"__core-js_shared__\",h=y[v]||g(v,{});O.exports=h},2309:function(O,w,s){var y=s(1913),g=s(5465);(O.exports=function(v,h){return g[v]||(g[v]=h!==void 0?h:{})})(\"versions\",[]).push({version:\"3.27.1\",mode:y?\"pure\":\"global\",copyright:\"\\xA9 2014-2022 Denis Pushkarev (zloirock.ru)\",license:\"https://github.com/zloirock/core-js/blob/v3.27.1/LICENSE\",source:\"https://github.com/zloirock/core-js\"})},8415:function(O,w,s){\"use strict\";var y=s(9303),g=s(1340),v=s(4488),h=RangeError;O.exports=function(d){var i=g(v(this)),r=\"\",o=y(d);if(o<0||o==1/0)throw h(\"Wrong number of repetitions\");for(;o>0;(o>>>=1)&&(i+=i))1&o&&(r+=i);return r}},3111:function(O,w,s){var y=s(1702),g=s(4488),v=s(1340),h=s(1361),d=y(\"\".replace),i=\"[\"+h+\"]\",r=RegExp(\"^\"+i+i+\"*\"),o=RegExp(i+i+\"*$\"),e=function(t){return function(n){var a=v(g(n));return 1&t&&(a=d(a,r,\"\")),2&t&&(a=d(a,o,\"\")),a}};O.exports={start:e(1),end:e(2),trim:e(3)}},6293:function(O,w,s){var y=s(7392),g=s(7293);O.exports=!!Object.getOwnPropertySymbols&&!g(function(){var v=Symbol();return!String(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&y&&y<41})},863:function(O,w,s){var y=s(1702);O.exports=y(1 .valueOf)},1400:function(O,w,s){var y=s(9303),g=Math.max,v=Math.min;O.exports=function(h,d){var i=y(h);return i<0?g(i+d,0):v(i,d)}},4599:function(O,w,s){var y=s(7593),g=TypeError;O.exports=function(v){var h=y(v,\"number\");if(typeof h==\"number\")throw g(\"Can't convert number to bigint\");return BigInt(h)}},5656:function(O,w,s){var y=s(8361),g=s(4488);O.exports=function(v){return y(g(v))}},9303:function(O,w,s){var y=s(4758);O.exports=function(g){var v=+g;return v!=v||v===0?0:y(v)}},7466:function(O,w,s){var y=s(9303),g=Math.min;O.exports=function(v){return v>0?g(y(v),9007199254740991):0}},7908:function(O,w,s){var y=s(4488),g=Object;O.exports=function(v){return g(y(v))}},7593:function(O,w,s){var y=s(6916),g=s(111),v=s(2190),h=s(8173),d=s(2140),i=s(5112),r=TypeError,o=i(\"toPrimitive\");O.exports=function(e,t){if(!g(e)||v(e))return e;var n,a=h(e,o);if(a){if(t===void 0&&(t=\"default\"),n=y(a,e,t),!g(n)||v(n))return n;throw r(\"Can't convert object to primitive value\")}return t===void 0&&(t=\"number\"),d(e,t)}},4948:function(O,w,s){var y=s(7593),g=s(2190);O.exports=function(v){var h=y(v,\"string\");return g(h)?h:h+\"\"}},1694:function(O,w,s){var y={};y[s(5112)(\"toStringTag\")]=\"z\",O.exports=String(y)===\"[object z]\"},1340:function(O,w,s){var y=s(648),g=String;O.exports=function(v){if(y(v)===\"Symbol\")throw TypeError(\"Cannot convert a Symbol value to a string\");return g(v)}},6330:function(O){var w=String;O.exports=function(s){try{return w(s)}catch{return\"Object\"}}},3832:function(O,w,s){var y=s(7854),g=s(7293),v=s(7072),h=s(260).NATIVE_ARRAY_BUFFER_VIEWS,d=y.ArrayBuffer,i=y.Int8Array;O.exports=!h||!g(function(){i(1)})||!g(function(){new i(-1)})||!v(function(r){new i,new i(null),new i(1.5),new i(r)},!0)||g(function(){return new i(new d(2),1,void 0).length!==1})},7321:function(O,w,s){var y=s(9974),g=s(6916),v=s(9483),h=s(7908),d=s(6244),i=s(4121),r=s(1246),o=s(7659),e=s(4067),t=s(260).aTypedArrayConstructor,n=s(4599);O.exports=function(a){var c,l,u,p,f,b,m,x,_=v(this),S=h(a),E=arguments.length,j=E>1?arguments[1]:void 0,P=j!==void 0,T=r(S);if(T&&!o(T))for(x=(m=i(S,T)).next,S=[];!(b=g(x,m)).done;)S.push(b.value);for(P&&E>2&&(j=y(j,arguments[2])),l=d(S),u=new(t(_))(l),p=e(u),c=0;l>c;c++)f=P?j(S[c],c):S[c],u[c]=p?n(f):+f;return u}},9711:function(O,w,s){var y=s(1702),g=0,v=Math.random(),h=y(1 .toString);O.exports=function(d){return\"Symbol(\"+(d===void 0?\"\":d)+\")_\"+h(++g+v,36)}},3307:function(O,w,s){var y=s(6293);O.exports=y&&!Symbol.sham&&typeof Symbol.iterator==\"symbol\"},3353:function(O,w,s){var y=s(9781),g=s(7293);O.exports=y&&g(function(){return Object.defineProperty(function(){},\"prototype\",{value:42,writable:!1}).prototype!=42})},4811:function(O,w,s){var y=s(7854),g=s(614),v=y.WeakMap;O.exports=g(v)&&/native code/.test(String(v))},5112:function(O,w,s){var y=s(7854),g=s(2309),v=s(2597),h=s(9711),d=s(6293),i=s(3307),r=g(\"wks\"),o=y.Symbol,e=o&&o.for,t=i?o:o&&o.withoutSetter||h;O.exports=function(n){if(!v(r,n)||!d&&typeof r[n]!=\"string\"){var a=\"Symbol.\"+n;d&&v(o,n)?r[n]=o[n]:r[n]=i&&e?e(a):t(a)}return r[n]}},1361:function(O){O.exports=`\t\n\\v\\f\\r \\xA0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF`},9826:function(O,w,s){\"use strict\";var y=s(2109),g=s(2092).find,v=s(1223),h=\"find\",d=!0;h in[]&&Array(1)[h](function(){d=!1}),y({target:\"Array\",proto:!0,forced:d},{find:function(i){return g(this,i,arguments.length>1?arguments[1]:void 0)}}),v(h)},6078:function(O,w,s){var y=s(2597),g=s(8052),v=s(8709),h=s(5112)(\"toPrimitive\"),d=Date.prototype;y(d,h)||g(d,h,v)},332:function(O,w,s){var y=s(2109),g=s(7293),v=Math.imul;y({target:\"Math\",stat:!0,forced:g(function(){return v(4294967295,5)!=-5||v.length!=2})},{imul:function(h,d){var i=65535,r=+h,o=+d,e=i&r,t=i&o;return 0|e*t+((i&r>>>16)*t+e*(i&o>>>16)<<16>>>0)}})},9653:function(O,w,s){\"use strict\";var y=s(2109),g=s(1913),v=s(9781),h=s(7854),d=s(857),i=s(1702),r=s(4705),o=s(2597),e=s(9587),t=s(7976),n=s(2190),a=s(7593),c=s(7293),l=s(8006).f,u=s(1236).f,p=s(3070).f,f=s(863),b=s(3111).trim,m=\"Number\",x=h[m],_=d[m],S=x.prototype,E=h.TypeError,j=i(\"\".slice),P=i(\"\".charCodeAt),T=function(z){var R=a(z,\"number\");return typeof R==\"bigint\"?R:D(R)},D=function(z){var R,B,C,k,W,N,F,I,q=a(z,\"number\");if(n(q))throw E(\"Cannot convert a Symbol value to a number\");if(typeof q==\"string\"&&q.length>2){if(q=b(q),(R=P(q,0))===43||R===45){if((B=P(q,2))===88||B===120)return NaN}else if(R===48){switch(P(q,1)){case 66:case 98:C=2,k=49;break;case 79:case 111:C=8,k=55;break;default:return+q}for(N=(W=j(q,2)).length,F=0;F<N;F++)if((I=P(W,F))<48||I>k)return NaN;return parseInt(W,C)}}return+q},M=r(m,!x(\" 0o1\")||!x(\"0b1\")||x(\"+0x1\")),L=function(z){return t(S,z)&&c(function(){f(z)})},U=function(z){var R=arguments.length<1?0:x(T(z));return L(this)?e(Object(R),this,U):R};U.prototype=S,M&&!g&&(S.constructor=U),y({global:!0,constructor:!0,wrap:!0,forced:M},{Number:U});var V=function(z,R){for(var B,C=v?l(R):\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range\".split(\",\"),k=0;C.length>k;k++)o(R,B=C[k])&&!o(z,B)&&p(z,B,u(R,B))};g&&_&&V(d[m],_),(M||g)&&V(d[m],x)},5192:function(O,w,s){s(2109)({target:\"Number\",stat:!0},{isFinite:s(7023)})},4048:function(O,w,s){s(2109)({target:\"Number\",stat:!0},{isNaN:function(y){return y!=y}})},6977:function(O,w,s){\"use strict\";var y=s(2109),g=s(1702),v=s(9303),h=s(863),d=s(8415),i=s(7293),r=RangeError,o=String,e=Math.floor,t=g(d),n=g(\"\".slice),a=g(1 .toFixed),c=function(f,b,m){return b===0?m:b%2==1?c(f,b-1,m*f):c(f*f,b/2,m)},l=function(f,b,m){for(var x=-1,_=m;++x<6;)_+=b*f[x],f[x]=_%1e7,_=e(_/1e7)},u=function(f,b){for(var m=6,x=0;--m>=0;)x+=f[m],f[m]=e(x/b),x=x%b*1e7},p=function(f){for(var b=6,m=\"\";--b>=0;)if(m!==\"\"||b===0||f[b]!==0){var x=o(f[b]);m=m===\"\"?x:m+t(\"0\",7-x.length)+x}return m};y({target:\"Number\",proto:!0,forced:i(function(){return a(8e-5,3)!==\"0.000\"||a(.9,0)!==\"1\"||a(1.255,2)!==\"1.25\"||a(0xde0b6b3a7640080,0)!==\"1000000000000000128\"})||!i(function(){a({})})},{toFixed:function(f){var b,m,x,_,S=h(this),E=v(f),j=[0,0,0,0,0,0],P=\"\",T=\"0\";if(E<0||E>20)throw r(\"Incorrect fraction digits\");if(S!=S)return\"NaN\";if(S<=-1e21||S>=1e21)return o(S);if(S<0&&(P=\"-\",S=-S),S>1e-21)if(m=(b=function(D){for(var M=0,L=D;L>=4096;)M+=12,L/=4096;for(;L>=2;)M+=1,L/=2;return M}(S*c(2,69,1))-69)<0?S*c(2,-b,1):S/c(2,b,1),m*=4503599627370496,(b=52-b)>0){for(l(j,0,m),x=E;x>=7;)l(j,1e7,0),x-=7;for(l(j,c(10,x,1),0),x=b-1;x>=23;)u(j,8388608),x-=23;u(j,1<<x),l(j,1,1),u(j,2),T=p(j)}else l(j,0,m),l(j,1<<-b,0),T=p(j)+t(\"0\",E);return T=E>0?P+((_=T.length)<=E?\"0.\"+t(\"0\",E-_)+T:n(T,0,_-E)+\".\"+n(T,_-E)):P+T}})},9601:function(O,w,s){var y=s(2109),g=s(1574);y({target:\"Object\",stat:!0,arity:2,forced:Object.assign!==g},{assign:g})},9720:function(O,w,s){var y=s(2109),g=s(4699).entries;y({target:\"Object\",stat:!0},{entries:function(v){return g(v)}})},8145:function(O,w,s){\"use strict\";var y=s(3832);(0,s(260).exportTypedArrayStaticMethod)(\"from\",s(7321),y)},5206:function(O,w,s){\"use strict\";var y=s(260),g=s(3832),v=y.aTypedArrayConstructor;(0,y.exportTypedArrayStaticMethod)(\"of\",function(){for(var h=0,d=arguments.length,i=new(v(this))(d);d>h;)i[h]=arguments[h++];return i},g)},3300:function(O,w,s){\"use strict\";var y=function(){if(typeof self<\"u\")return self;if(typeof window<\"u\")return window;if(s.g!==void 0)return s.g;throw new Error(\"unable to locate global object\")}();O.exports=w=y.fetch,y.fetch&&(w.default=y.fetch.bind(s.g)),w.Headers=y.Headers,w.Request=y.Request,w.Response=y.Response},1697:function(O,w,s){\"use strict\";O.exports=s(3188)()},3188:function(O){\"use strict\";function w(s){return s instanceof Buffer?Buffer.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}O.exports=function(s){return(s=s||{}).circles?function(g){var v=[],h=[];return g.proto?function i(r){if(typeof r!=\"object\"||r===null)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return d(r,i);if(r instanceof Map)return new Map(d(Array.from(r),i));if(r instanceof Set)return new Set(d(Array.from(r),i));var o={};for(var e in v.push(r),h.push(o),r){var t=r[e];if(typeof t!=\"object\"||t===null)o[e]=t;else if(t instanceof Date)o[e]=new Date(t);else if(t instanceof Map)o[e]=new Map(d(Array.from(t),i));else if(t instanceof Set)o[e]=new Set(d(Array.from(t),i));else if(ArrayBuffer.isView(t))o[e]=w(t);else{var n=v.indexOf(t);o[e]=n!==-1?h[n]:i(t)}}return v.pop(),h.pop(),o}:function i(r){if(typeof r!=\"object\"||r===null)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return d(r,i);if(r instanceof Map)return new Map(d(Array.from(r),i));if(r instanceof Set)return new Set(d(Array.from(r),i));var o={};for(var e in v.push(r),h.push(o),r)if(Object.hasOwnProperty.call(r,e)!==!1){var t=r[e];if(typeof t!=\"object\"||t===null)o[e]=t;else if(t instanceof Date)o[e]=new Date(t);else if(t instanceof Map)o[e]=new Map(d(Array.from(t),i));else if(t instanceof Set)o[e]=new Set(d(Array.from(t),i));else if(ArrayBuffer.isView(t))o[e]=w(t);else{var n=v.indexOf(t);o[e]=n!==-1?h[n]:i(t)}}return v.pop(),h.pop(),o};function d(i,r){for(var o=Object.keys(i),e=new Array(o.length),t=0;t<o.length;t++){var n=o[t],a=i[n];if(typeof a!=\"object\"||a===null)e[n]=a;else if(a instanceof Date)e[n]=new Date(a);else if(ArrayBuffer.isView(a))e[n]=w(a);else{var c=v.indexOf(a);e[n]=c!==-1?h[c]:r(a)}}return e}}(s):s.proto?function g(v){if(typeof v!=\"object\"||v===null)return v;if(v instanceof Date)return new Date(v);if(Array.isArray(v))return y(v,g);if(v instanceof Map)return new Map(y(Array.from(v),g));if(v instanceof Set)return new Set(y(Array.from(v),g));var h={};for(var d in v){var i=v[d];typeof i!=\"object\"||i===null?h[d]=i:i instanceof Date?h[d]=new Date(i):i instanceof Map?h[d]=new Map(y(Array.from(i),g)):i instanceof Set?h[d]=new Set(y(Array.from(i),g)):ArrayBuffer.isView(i)?h[d]=w(i):h[d]=g(i)}return h}:function g(v){if(typeof v!=\"object\"||v===null)return v;if(v instanceof Date)return new Date(v);if(Array.isArray(v))return y(v,g);if(v instanceof Map)return new Map(y(Array.from(v),g));if(v instanceof Set)return new Set(y(Array.from(v),g));var h={};for(var d in v)if(Object.hasOwnProperty.call(v,d)!==!1){var i=v[d];typeof i!=\"object\"||i===null?h[d]=i:i instanceof Date?h[d]=new Date(i):i instanceof Map?h[d]=new Map(y(Array.from(i),g)):i instanceof Set?h[d]=new Set(y(Array.from(i),g)):ArrayBuffer.isView(i)?h[d]=w(i):h[d]=g(i)}return h};function y(g,v){for(var h=Object.keys(g),d=new Array(h.length),i=0;i<h.length;i++){var r=h[i],o=g[r];typeof o!=\"object\"||o===null?d[r]=o:o instanceof Date?d[r]=new Date(o):ArrayBuffer.isView(o)?d[r]=w(o):d[r]=v(o)}return d}}}},$={};function G(O){var w=$[O];if(w!==void 0)return w.exports;var s=$[O]={exports:{}};return K[O](s,s.exports,G),s.exports}G.g=function(){if(typeof globalThis==\"object\")return globalThis;try{return this||new Function(\"return this\")()}catch{if(typeof window==\"object\")return window}}();var A={};return function(){\"use strict\";var O=A,w=function(i){return i&&i.__esModule?i:{default:i}},s=w(G(7621)),y=w(G(153)),g=G(7468),v=G(9003),h=G(9949),d=G(6354);O.default={mergeConfig:g.mergeConfig,AbortController:d.AbortController,Context:s.default,ContextDataProvider:v.ContextDataProvider,ContextPublisher:h.ContextPublisher,SDK:y.default}}(),A=A.default}()})});var ke=Ae((le,xe)=>{\"use strict\";(function(K,$){typeof le==\"object\"&&typeof xe==\"object\"?xe.exports=$():typeof define==\"function\"&&define.amd?define([],$):typeof le==\"object\"?le.ABsmartlySDKPlugins=$():K.ABsmartlySDKPlugins=$()})(le,()=>{return K={44:function(G,A,O){\"use strict\";var w=this&&this.__awaiter||function(d,i,r,o){return new(r||(r=Promise))(function(e,t){function n(l){try{c(o.next(l))}catch(u){t(u)}}function a(l){try{c(o.throw(l))}catch(u){t(u)}}function c(l){var u;l.done?e(l.value):(u=l.value,u instanceof r?u:new r(function(p){p(u)})).then(n,a)}c((o=o.apply(d,i||[])).next())})},s=this&&this.__generator||function(d,i){var r,o,e,t={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]},n=Object.create((typeof Iterator==\"function\"?Iterator:Object).prototype);return n.next=a(0),n.throw=a(1),n.return=a(2),typeof Symbol==\"function\"&&(n[Symbol.iterator]=function(){return this}),n;function a(c){return function(l){return function(u){if(r)throw new TypeError(\"Generator is already executing.\");for(;n&&(n=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(e=2&u[0]?o.return:u[0]?o.throw||((e=o.return)&&e.call(o),0):o.next)&&!(e=e.call(o,u[1])).done)return e;switch(o=0,e&&(u=[2&u[0],e.value]),u[0]){case 0:case 1:e=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!((e=(e=t.trys).length>0&&e[e.length-1])||u[0]!==6&&u[0]!==2)){t=0;continue}if(u[0]===3&&(!e||u[1]>e[0]&&u[1]<e[3])){t.label=u[1];break}if(u[0]===6&&t.label<e[1]){t.label=e[1],e=u;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(u);break}e[2]&&t.ops.pop(),t.trys.pop();continue}u=i.call(d,t)}catch(p){u=[6,p],o=0}finally{r=e=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([c,l])}}},y=this&&this.__values||function(d){var i=typeof Symbol==\"function\"&&Symbol.iterator,r=i&&d[i],o=0;if(r)return r.call(d);if(d&&typeof d.length==\"number\")return{next:function(){return d&&o>=d.length&&(d=void 0),{value:d&&d[o++],done:!d}}};throw new TypeError(i?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},g=this&&this.__read||function(d,i){var r=typeof Symbol==\"function\"&&d[Symbol.iterator];if(!r)return d;var o,e,t=r.call(d),n=[];try{for(;(i===void 0||i-- >0)&&!(o=t.next()).done;)n.push(o.value)}catch(a){e={error:a}}finally{try{o&&!o.done&&(r=t.return)&&r.call(t)}finally{if(e)throw e.error}}return n};Object.defineProperty(A,\"__esModule\",{value:!0}),A.OverridesPluginLite=void 0;var v=O(609),h=function(){function d(i){var r,o,e,t,n;if(this.initialized=!1,!i.context)throw new Error(\"[OverridesPluginLite] Context is required\");this.config={context:i.context,cookieName:(r=i.cookieName)!==null&&r!==void 0?r:\"absmartly_overrides\",useQueryString:(o=i.useQueryString)===null||o===void 0||o,queryPrefix:(e=i.queryPrefix)!==null&&e!==void 0?e:\"_exp_\",persistQueryToCookie:(t=i.persistQueryToCookie)!==null&&t!==void 0&&t,debug:(n=i.debug)!==null&&n!==void 0&&n},this.config.debug&&(0,v.logDebug)(\"[OverridesPluginLite] Initialized with config:\",{cookieName:this.config.cookieName,useQueryString:this.config.useQueryString,queryPrefix:this.config.queryPrefix})}return d.prototype.ready=function(){return w(this,void 0,void 0,function(){var i,r,o,e,t,n,a,c,l,u,p;return s(this,function(f){if(this.initialized)return this.config.debug&&(0,v.logDebug)(\"[OverridesPluginLite] Already initialized\"),[2];if(this.initialized=!0,this.registerWithContext(),i={},this.config.useQueryString&&typeof window<\"u\"&&(i=this.getQueryStringOverrides(),this.config.persistQueryToCookie&&this.config.cookieName&&Object.keys(i).length>0&&this.persistOverridesToCookie(i)),Object.keys(i).length===0&&this.config.cookieName&&(i=this.getCookieOverrides()),Object.keys(i).length===0)return this.config.debug&&(0,v.logDebug)(\"[OverridesPluginLite] No overrides found\"),[2];try{for(r=y(Object.entries(i)),o=r.next();!o.done;o=r.next())e=g(o.value,2),t=e[0],n=e[1],a=typeof n==\"number\"?n:n.variant,isNaN(a)?this.config.debug&&(0,v.logDebug)(\"[OverridesPluginLite] Skipping invalid variant for \".concat(t,\": \").concat(a)):((p=(u=this.config.context).override)===null||p===void 0||p.call(u,t,a),this.config.debug&&(0,v.logDebug)(\"[OverridesPluginLite] Override: \".concat(t,\" -> variant \").concat(a)))}catch(b){c={error:b}}finally{try{o&&!o.done&&(l=r.return)&&l.call(r)}finally{if(c)throw c.error}}return[2]})})},d.prototype.initialize=function(){return w(this,void 0,void 0,function(){return s(this,function(i){return[2,this.ready()]})})},d.prototype.getQueryStringOverrides=function(){var i,r;if(typeof window>\"u\"||!window.location)return{};var o=new URLSearchParams(window.location.search),e={},t=this.config.queryPrefix;try{for(var n=y(o.entries()),a=n.next();!a.done;a=n.next()){var c=g(a.value,2),l=c[0],u=c[1];if(l.startsWith(t)){var p=l.substring(t.length);if(p){var f=u.split(\",\"),b=parseInt(f[0],10);isNaN(b)||(f.length===1?e[p]=b:e[p]={variant:b,env:f[1]?parseInt(f[1],10):void 0,id:f[2]?parseInt(f[2],10):void 0})}}}}catch(m){i={error:m}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return this.config.debug&&Object.keys(e).length>0&&(0,v.logDebug)(\"[OverridesPluginLite] Query string overrides:\",e),e},d.prototype.getCookieOverrides=function(){var i,r;if(typeof document>\"u\")return{};var o=this.config.cookieName+\"=\",e=document.cookie.split(\";\");try{for(var t=y(e),n=t.next();!n.done;n=t.next()){var a=n.value;if((a=a.trim()).indexOf(o)===0){var c=decodeURIComponent(a.substring(o.length));return this.parseCookieValue(c)}}}catch(l){i={error:l}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(i)throw i.error}}return{}},d.prototype.parseCookieValue=function(i){var r,o;if(!i)return{};var e={},t=i;if(i.includes(\"|\")&&(t=(m=i.split(\"|\"))[m.length-1]),!t)return{};var n=t.split(\",\");try{for(var a=y(n),c=a.next();!c.done;c=a.next()){var l=c.value,u=g(l.split(\":\"),2),p=u[0],f=u[1];if(p&&f){var b=decodeURIComponent(p),m=f.split(\".\"),x=parseInt(m[0],10);isNaN(x)||(m.length===1?e[b]=x:e[b]={variant:x,env:m[1]?parseInt(m[1],10):void 0,id:m[2]?parseInt(m[2],10):void 0})}}}catch(_){r={error:_}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return e},d.prototype.persistOverridesToCookie=function(i){var r,o;if(this.config.cookieName&&typeof document<\"u\"){var e=[];try{for(var t=y(Object.entries(i)),n=t.next();!n.done;n=t.next()){var a=g(n.value,2),c=a[0],l=a[1],u=encodeURIComponent(c);if(typeof l==\"number\")e.push(\"\".concat(u,\":\").concat(l));else{var p=\"\".concat(u,\":\").concat(l.variant);l.env!==void 0&&(p+=\".\".concat(l.env)),l.id!==void 0&&(p+=\".\".concat(l.id)),e.push(p)}}}catch(b){r={error:b}}finally{try{n&&!n.done&&(o=t.return)&&o.call(t)}finally{if(r)throw r.error}}var f=e.join(\",\");document.cookie=\"\".concat(this.config.cookieName,\"=\").concat(encodeURIComponent(f),\";path=/;max-age=\").concat(86400),this.config.debug&&(0,v.logDebug)(\"[OverridesPluginLite] Persisted to cookie:\",f)}},d.prototype.registerWithContext=function(){this.config.context&&(this.config.context.__plugins||(this.config.context.__plugins={}),this.config.context.__plugins.overridesPlugin={name:\"OverridesPluginLite\",version:\"1.0.0\",initialized:!0,capabilities:[\"cookie-overrides\",\"query-overrides\"],instance:this,timestamp:Date.now()},this.config.debug&&(0,v.logDebug)(\"[OverridesPluginLite] Registered with context at __plugins.overridesPlugin\"))},d.prototype.unregisterFromContext=function(){var i,r;!((r=(i=this.config.context)===null||i===void 0?void 0:i.__plugins)===null||r===void 0)&&r.overridesPlugin&&(delete this.config.context.__plugins.overridesPlugin,this.config.debug&&(0,v.logDebug)(\"[OverridesPluginLite] Unregistered from context\"))},d.prototype.destroy=function(){this.initialized=!1,this.unregisterFromContext()},d}();A.OverridesPluginLite=h},91:function(G,A,O){\"use strict\";var w=this&&this.__awaiter||function(i,r,o,e){return new(o||(o=Promise))(function(t,n){function a(u){try{l(e.next(u))}catch(p){n(p)}}function c(u){try{l(e.throw(u))}catch(p){n(p)}}function l(u){var p;u.done?t(u.value):(p=u.value,p instanceof o?p:new o(function(f){f(p)})).then(a,c)}l((e=e.apply(i,r||[])).next())})},s=this&&this.__generator||function(i,r){var o,e,t,n={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},a=Object.create((typeof Iterator==\"function\"?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),typeof Symbol==\"function\"&&(a[Symbol.iterator]=function(){return this}),a;function c(l){return function(u){return function(p){if(o)throw new TypeError(\"Generator is already executing.\");for(;a&&(a=0,p[0]&&(n=0)),n;)try{if(o=1,e&&(t=2&p[0]?e.return:p[0]?e.throw||((t=e.return)&&t.call(e),0):e.next)&&!(t=t.call(e,p[1])).done)return t;switch(e=0,t&&(p=[2&p[0],t.value]),p[0]){case 0:case 1:t=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,e=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(!((t=(t=n.trys).length>0&&t[t.length-1])||p[0]!==6&&p[0]!==2)){n=0;continue}if(p[0]===3&&(!t||p[1]>t[0]&&p[1]<t[3])){n.label=p[1];break}if(p[0]===6&&n.label<t[1]){n.label=t[1],t=p;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(p);break}t[2]&&n.ops.pop(),n.trys.pop();continue}p=r.call(i,n)}catch(f){p=[6,f],e=0}finally{o=t=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([l,u])}}},y=this&&this.__read||function(i,r){var o=typeof Symbol==\"function\"&&i[Symbol.iterator];if(!o)return i;var e,t,n=o.call(i),a=[];try{for(;(r===void 0||r-- >0)&&!(e=n.next()).done;)a.push(e.value)}catch(c){t={error:c}}finally{try{e&&!e.done&&(o=n.return)&&o.call(n)}finally{if(t)throw t.error}}return a},g=this&&this.__spreadArray||function(i,r,o){if(o||arguments.length===2)for(var e,t=0,n=r.length;t<n;t++)!e&&t in r||(e||(e=Array.prototype.slice.call(r,0,t)),e[t]=r[t]);return i.concat(e||Array.prototype.slice.call(r))};Object.defineProperty(A,\"__esModule\",{value:!0}),A.CookiePlugin=void 0;var v=O(609),h=O(319),d=function(){function i(r){r===void 0&&(r={}),this.context=r.context,this.debug=r.debug||!1,this.cookieDomain=r.cookieDomain||\".absmartly.com\",this.cookiePath=r.cookiePath||\"/\",this.sameSite=r.sameSite||\"Lax\",this.secure=r.secure||!1,this.cookieExpiryDays=r.cookieExpiryDays||730,this.unitIdCookieName=r.unitIdCookieName||\"abs\",this.publicIdCookieName=r.publicIdCookieName||\"abs_public\",this.expiryCookieName=r.expiryCookieName||\"abs_expiry\",this.utmCookieName=r.utmCookieName||\"abs_utm_params\",this.utmParams=r.utmParamsList||[\"utm_source\",\"utm_medium\",\"utm_campaign\",\"utm_term\",\"utm_content\"],this.autoUpdateExpiry=r.autoUpdateExpiry!==!1,this.expiryCheckInterval=r.expiryCheckInterval||30}return i.prototype.debugLog=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];this.debug&&v.logDebug.apply(void 0,g([\"[CookiePlugin]\"],y(r),!1))},i.prototype.setCookie=function(r,o,e){var t=e!==void 0?e:this.cookieExpiryDays,n=(0,h.setCookie)(r,o,t,{domain:this.cookieDomain,path:this.cookiePath,sameSite:this.sameSite,secure:this.secure});return n&&this.debugLog(\"Set cookie \".concat(r,\":\"),o),n},i.prototype.deleteCookie=function(r){(0,h.deleteCookie)(r,{domain:this.cookieDomain,path:this.cookiePath})},i.prototype.getUnitId=function(){if(this.unitId)return this.unitId;var r=navigator.cookieEnabled,o=(0,h.isLocalStorageAvailable)(),e=null;return r&&(e=(0,h.getCookie)(this.unitIdCookieName)||(0,h.getCookie)(this.publicIdCookieName)),!e&&o&&(e=localStorage.getItem(\"abs_id\")),e&&(this.unitId=e),e},i.prototype.setUnitId=function(r){this.unitId=r;var o=navigator.cookieEnabled,e=(0,h.isLocalStorageAvailable)();o&&(this.setCookie(this.unitIdCookieName,r),this.setCookie(this.publicIdCookieName,r),this.autoUpdateExpiry&&this.updateExpiryTimestamp()),e&&localStorage.setItem(\"abs_id\",r),this.debugLog(\"Unit ID set:\",r)},i.prototype.generateAndSetUnitId=function(){var r=(0,h.generateUniqueId)();return this.setUnitId(r),r},i.prototype.updateExpiryTimestamp=function(){if(navigator.cookieEnabled){var r=Date.now();this.setCookie(this.expiryCookieName,r.toString()),this.debugLog(\"Updated expiry timestamp:\",r)}},i.prototype.isExpiryFresh=function(){if(!navigator.cookieEnabled)return!1;var r=(0,h.getCookie)(this.expiryCookieName);if(!r)return!1;try{var o=parseInt(r,10),e=(Date.now()-o)/864e5,t=e<=this.expiryCheckInterval;return this.debugLog(\"Expiry check:\",{daysSinceSet:e,isFresh:t}),t}catch(n){return this.debugLog(\"Error parsing expiry cookie:\",n),!1}},i.prototype.getUtmParams=function(){var r={},o=new URLSearchParams(window.location.search);if(this.utmParams.forEach(function(n){var a=o.get(n);a&&(r[n]=a)}),Object.keys(r).length===0&&document.referrer)try{var e=new URL(document.referrer);this.utmParams.forEach(function(n){var a=e.searchParams.get(n);a&&(r[n]=a)})}catch(n){this.debugLog(\"Error parsing referrer URL:\",n)}if(Object.keys(r).length===0){var t=this.getStoredUtmParams();if(t)return t}return r},i.prototype.storeUtmParams=function(r){if(Object.keys(r).length!==0){var o={params:r,timestamp:Date.now()},e=navigator.cookieEnabled;if((0,h.isLocalStorageAvailable)())try{localStorage.setItem(this.utmCookieName,JSON.stringify(o)),this.debugLog(\"Stored UTM params in localStorage:\",r)}catch(t){this.debugLog(\"Failed to store UTM params in localStorage:\",t)}e&&(this.setCookie(this.utmCookieName,JSON.stringify(o),30),this.debugLog(\"Stored UTM params in cookie:\",r))}},i.prototype.getStoredUtmParams=function(){var r=null,o=(0,h.isLocalStorageAvailable)(),e=navigator.cookieEnabled;if(o)try{r=localStorage.getItem(this.utmCookieName)}catch(n){this.debugLog(\"Failed to get UTM params from localStorage:\",n)}if(!r&&e&&(r=(0,h.getCookie)(this.utmCookieName)),r)try{var t=JSON.parse(r);if(Date.now()-t.timestamp<2592e6)return t.params}catch(n){this.debugLog(\"Failed to parse stored UTM params:\",n)}return null},i.prototype.applyUtmAttributesToContext=function(r){var o=this,e=r||this.context;if(e){var t=this.getUtmParams();Object.keys(t).length>0&&this.storeUtmParams(t),Object.entries(t).forEach(function(n){var a=y(n,2),c=a[0],l=a[1],u=c.slice(4);e.attribute(u,l),o.debugLog(\"Set attribute \".concat(u,\":\"),l)})}else(0,v.logDebug)(\"[CookiePlugin] No context available to apply UTM attributes\")},i.prototype.clearAllCookies=function(){this.deleteCookie(this.unitIdCookieName),this.deleteCookie(this.publicIdCookieName),this.deleteCookie(this.expiryCookieName),this.deleteCookie(this.utmCookieName),(0,h.isLocalStorageAvailable)()&&(localStorage.removeItem(\"abs_id\"),localStorage.removeItem(this.utmCookieName)),this.unitId=void 0,this.debugLog(\"All cookies and storage cleared\")},i.prototype.ready=function(){return w(this,void 0,void 0,function(){var r;return s(this,function(o){return this.debugLog(\"Initializing CookiePlugin\"),(r=this.getUnitId())?(this.debugLog(\"Using existing unit ID:\",r),this.autoUpdateExpiry&&!this.isExpiryFresh()&&this.updateExpiryTimestamp()):(r=this.generateAndSetUnitId(),this.debugLog(\"Generated new unit ID:\",r)),this.context&&this.applyUtmAttributesToContext(),this.debugLog(\"CookiePlugin initialized successfully\"),[2]})})},i.prototype.initialize=function(){return w(this,void 0,void 0,function(){return s(this,function(r){return[2,this.ready()]})})},i.prototype.setContext=function(r){this.context=r,this.debugLog(\"Context set for CookiePlugin\")},i.prototype.needsServerSideCookie=function(){var r=this.getUnitId(),o=navigator.cookieEnabled,e=(0,h.isLocalStorageAvailable)();if(r){if(o&&!this.isExpiryFresh())return this.debugLog(\"Existing ID present but expiry not fresh - need worker call\"),!0}else if(o||e){var t=(0,h.getCookie)(this.expiryCookieName);return this.debugLog(t?\"No existing ID but expiry cookie exists - need worker call\":\"No existing ID and no expiry cookie - need worker call\"),!0}return!1},i.prototype.trackLanding=function(r){var o=r||this.context;if(o){var e=new URLSearchParams(window.location.search),t=this.utmParams.some(function(p){return e.get(p)}),n=document.referrer,a=n&&!n.includes(this.cookieDomain.replace(\".\",\"\")),c=navigator.cookieEnabled||(0,h.isLocalStorageAvailable)(),l=!!((0,h.getCookie)(this.unitIdCookieName)||(0,h.getCookie)(this.publicIdCookieName)||(0,h.getCookie)(this.expiryCookieName)||(0,h.isLocalStorageAvailable)()&&localStorage.getItem(\"abs_id\"));if(t||a||c&&!l){var u={referrer_url:n||\"\",landing_url:window.location.href,accepts_cookies:navigator.cookieEnabled,accepts_storage:(0,h.isLocalStorageAvailable)(),has_utm:t};this.debugLog(\"Tracking landing:\",u),o.track(\"landing\",u)}}else(0,v.logDebug)(\"[CookiePlugin] No context available for tracking landing\")},i}();A.CookiePlugin=d},196:function(G,A,O){\"use strict\";var w=this&&this.__createBinding||(Object.create?function(i,r,o,e){e===void 0&&(e=o);var t=Object.getOwnPropertyDescriptor(r,o);t&&!(\"get\"in t?!r.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(i,e,t)}:function(i,r,o,e){e===void 0&&(e=o),i[e]=r[o]}),s=this&&this.__exportStar||function(i,r){for(var o in i)o===\"default\"||Object.prototype.hasOwnProperty.call(r,o)||w(r,i,o)};Object.defineProperty(A,\"__esModule\",{value:!0}),A.WebVitalsPlugin=A.CookiePlugin=A.BrowserCookieAdapter=A.OverridesPlugin=A.OverridesPluginFull=A.DOMChangesPlugin=A.DOMChangesPluginLite=void 0;var y=O(702);Object.defineProperty(A,\"DOMChangesPluginLite\",{enumerable:!0,get:function(){return y.DOMChangesPluginLite}}),Object.defineProperty(A,\"DOMChangesPlugin\",{enumerable:!0,get:function(){return y.DOMChangesPluginLite}});var g=O(977);Object.defineProperty(A,\"OverridesPluginFull\",{enumerable:!0,get:function(){return g.OverridesPluginFull}}),Object.defineProperty(A,\"OverridesPlugin\",{enumerable:!0,get:function(){return g.OverridesPluginFull}});var v=O(637);Object.defineProperty(A,\"BrowserCookieAdapter\",{enumerable:!0,get:function(){return v.BrowserCookieAdapter}});var h=O(91);Object.defineProperty(A,\"CookiePlugin\",{enumerable:!0,get:function(){return h.CookiePlugin}});var d=O(420);Object.defineProperty(A,\"WebVitalsPlugin\",{enumerable:!0,get:function(){return d.WebVitalsPlugin}}),s(O(574),A),s(O(639),A),A.default=y.DOMChangesPluginLite},214:function(G,A,O){\"use strict\";var w=this&&this.__assign||function(){return w=Object.assign||function(h){for(var d,i=1,r=arguments.length;i<r;i++)for(var o in d=arguments[i])Object.prototype.hasOwnProperty.call(d,o)&&(h[o]=d[o]);return h},w.apply(this,arguments)},s=this&&this.__values||function(h){var d=typeof Symbol==\"function\"&&Symbol.iterator,i=d&&h[d],r=0;if(i)return i.call(h);if(h&&typeof h.length==\"number\")return{next:function(){return h&&r>=h.length&&(h=void 0),{value:h&&h[r++],done:!h}}};throw new TypeError(d?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},y=this&&this.__read||function(h,d){var i=typeof Symbol==\"function\"&&h[Symbol.iterator];if(!i)return h;var r,o,e=i.call(h),t=[];try{for(;(d===void 0||d-- >0)&&!(r=e.next()).done;)t.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(i=e.return)&&i.call(e)}finally{if(o)throw o.error}}return t};Object.defineProperty(A,\"__esModule\",{value:!0}),A.PendingChangeManager=void 0;var g=O(609),v=function(){function h(d,i){i===void 0&&(i=!1),this.applyFn=d,this.pending=new Map,this.observers=new Map,this.appliedSelectors=new Set,this.batchTimer=null,this.batchedWork=new Set,this.debug=i}return h.prototype.addPending=function(d){var i=d.change,r=d.observerRoot,o=r;r&&!document.querySelector(r)&&(this.debug&&(0,g.logDebug)(\"[ABsmartly] Observer root not found, using document:\",r),o=void 0);var e=\"\".concat(i.selector,\"-\").concat(o||\"document\");this.debug&&(0,g.logDebug)(\"[ABsmartly] Adding pending change for selector:\",i.selector);var t=this.getObserverRoot(o).querySelector(i.selector);if(t)this.applyChange(t,w(w({},d),{observerRoot:o}));else{var n=this.pending.get(e)||[];n.push(w(w({},d),{observerRoot:o})),this.pending.set(e,n),this.ensureObserver(o)}},h.prototype.removePending=function(d,i,r){var o=\"\".concat(d,\"-\").concat(r||\"document\"),e=this.pending.get(o);if(e){var t=e.filter(function(n){return n.experimentName!==i});t.length===0?this.pending.delete(o):this.pending.set(o,t)}this.checkObserverCleanup(r)},h.prototype.removeAllPending=function(d){var i,r;try{for(var o=s(this.pending.entries()),e=o.next();!e.done;e=o.next()){var t=y(e.value,2),n=t[0],a=t[1].filter(function(c){return c.experimentName!==d});a.length===0?this.pending.delete(n):this.pending.set(n,a)}}catch(c){i={error:c}}finally{try{e&&!e.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}this.cleanupObservers()},h.prototype.ensureObserver=function(d){var i=this,r=d||\"document\";if(!this.observers.has(r)){var o=this.getObserverRoot(d),e=new MutationObserver(function(t){i.handleMutations(t,d)});e.observe(o,{childList:!0,subtree:!0}),this.observers.set(r,e),this.debug&&(0,g.logDebug)(\"[ABsmartly] Started observer for root:\",r)}},h.prototype.handleMutations=function(d,i){var r,o,e,t,n=this,a=[];try{for(var c=s(d),l=c.next();!l.done;l=c.next()){var u=l.value,p=function(x){var _,S,E,j;if(!(x instanceof Element))return\"continue\";var P=i||\"document\";try{for(var T=(_=void 0,s(f.pending.entries())),D=T.next();!D.done;D=T.next()){var M=y(D.value,2),L=M[0],U=M[1];if(L.endsWith(\"-\".concat(P))){var V=function(B){var C=B.change;if(x.matches(C.selector))return a.push(function(){return n.applyChange(x,B)}),\"continue\";x.querySelectorAll(C.selector).forEach(function(k){a.push(function(){return n.applyChange(k,B)})})};try{for(var z=(E=void 0,s(U)),R=z.next();!R.done;R=z.next())V(R.value)}catch(B){E={error:B}}finally{try{R&&!R.done&&(j=z.return)&&j.call(z)}finally{if(E)throw E.error}}}}}catch(B){_={error:B}}finally{try{D&&!D.done&&(S=T.return)&&S.call(T)}finally{if(_)throw _.error}}},f=this;try{for(var b=(e=void 0,s(u.addedNodes)),m=b.next();!m.done;m=b.next())p(m.value)}catch(x){e={error:x}}finally{try{m&&!m.done&&(t=b.return)&&t.call(b)}finally{if(e)throw e.error}}}}catch(x){r={error:x}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}a.length>0&&this.batchWork(a)},h.prototype.batchWork=function(d){var i=this;d.forEach(function(r){return i.batchedWork.add(r)}),this.batchTimer&&clearTimeout(this.batchTimer),this.batchTimer=setTimeout(function(){i.processBatchedWork()},32)},h.prototype.processBatchedWork=function(){var d=Array.from(this.batchedWork);this.batchedWork.clear(),this.batchTimer=null,this.debug&&d.length>0&&(0,g.logDebug)(\"[ABsmartly] Processing batched work:\",d.length,\"items\"),d.forEach(function(i){return i()})},h.prototype.applyChange=function(d,i){var r=i.change,o=i.experimentName,e=i.observerRoot,t=\"\".concat(r.selector,\"-\").concat(e||\"document\",\"-\").concat(o);if(!this.appliedSelectors.has(t)&&(this.debug&&(0,g.logDebug)(\"[ABsmartly] Applying pending change to element:\",r.selector),this.applyFn(r,o,d))){this.appliedSelectors.add(t);var n=\"\".concat(r.selector,\"-\").concat(e||\"document\"),a=this.pending.get(n);if(a){var c=a.filter(function(l){return l.experimentName!==o||l.change.selector!==r.selector});c.length===0?this.pending.delete(n):this.pending.set(n,c)}this.checkObserverCleanup(e)}},h.prototype.getObserverRoot=function(d){if(!d)return document.documentElement;var i=document.querySelector(d);return i||document.documentElement},h.prototype.checkObserverCleanup=function(d){var i,r,o=d||\"document\",e=!1;try{for(var t=s(this.pending.keys()),n=t.next();!n.done;n=t.next())if(n.value.endsWith(\"-\".concat(o))){e=!0;break}}catch(c){i={error:c}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(i)throw i.error}}if(!e){var a=this.observers.get(o);a&&(a.disconnect(),this.observers.delete(o),this.debug&&(0,g.logDebug)(\"[ABsmartly] Disconnected observer for root:\",o))}},h.prototype.cleanupObservers=function(){var d,i,r,o,e=this,t=[];try{for(var n=s(this.observers.keys()),a=n.next();!a.done;a=n.next()){var c=a.value,l=!1;try{for(var u=(r=void 0,s(this.pending.keys())),p=u.next();!p.done;p=u.next())if(p.value.endsWith(\"-\".concat(c))){l=!0;break}}catch(f){r={error:f}}finally{try{p&&!p.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}l||t.push(c)}}catch(f){d={error:f}}finally{try{a&&!a.done&&(i=n.return)&&i.call(n)}finally{if(d)throw d.error}}t.forEach(function(f){var b=e.observers.get(f);b&&(b.disconnect(),e.observers.delete(f),e.debug&&(0,g.logDebug)(\"[ABsmartly] Cleaned up observer for root:\",f))})},h.prototype.destroy=function(){var d,i;this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null);try{for(var r=s(this.observers.values()),o=r.next();!o.done;o=r.next())o.value.disconnect()}catch(e){d={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(d)throw d.error}}this.observers.clear(),this.pending.clear(),this.appliedSelectors.clear(),this.batchedWork.clear(),this.debug&&(0,g.logDebug)(\"[ABsmartly] PendingChangeManager destroyed\")},h.prototype.getPendingCount=function(){var d,i,r=0;try{for(var o=s(this.pending.values()),e=o.next();!e.done;e=o.next())r+=e.value.length}catch(t){d={error:t}}finally{try{e&&!e.done&&(i=o.return)&&i.call(o)}finally{if(d)throw d.error}}return r},h.prototype.getAppliedCount=function(){return this.appliedSelectors.size},h.prototype.hasPendingForExperiment=function(d){var i,r;try{for(var o=s(this.pending.values()),e=o.next();!e.done;e=o.next())if(e.value.some(function(t){return t.experimentName===d}))return!0}catch(t){i={error:t}}finally{try{e&&!e.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return!1},h}();A.PendingChangeManager=v},248:function(G,A,O){\"use strict\";var w,s=this&&this.__extends||(w=function(e,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])},w(e,t)},function(e,t){if(typeof t!=\"function\"&&t!==null)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function n(){this.constructor=e}w(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),y=this&&this.__assign||function(){return y=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},y.apply(this,arguments)},g=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(c,l){function u(b){try{f(a.next(b))}catch(m){l(m)}}function p(b){try{f(a.throw(b))}catch(m){l(m)}}function f(b){var m;b.done?c(b.value):(m=b.value,m instanceof n?m:new n(function(x){x(m)})).then(u,p)}f((a=a.apply(e,t||[])).next())})},v=this&&this.__generator||function(e,t){var n,a,c,l={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]},u=Object.create((typeof Iterator==\"function\"?Iterator:Object).prototype);return u.next=p(0),u.throw=p(1),u.return=p(2),typeof Symbol==\"function\"&&(u[Symbol.iterator]=function(){return this}),u;function p(f){return function(b){return function(m){if(n)throw new TypeError(\"Generator is already executing.\");for(;u&&(u=0,m[0]&&(l=0)),l;)try{if(n=1,a&&(c=2&m[0]?a.return:m[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,m[1])).done)return c;switch(a=0,c&&(m=[2&m[0],c.value]),m[0]){case 0:case 1:c=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,a=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(!((c=(c=l.trys).length>0&&c[c.length-1])||m[0]!==6&&m[0]!==2)){l=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){l.label=m[1];break}if(m[0]===6&&l.label<c[1]){l.label=c[1],c=m;break}if(c&&l.label<c[2]){l.label=c[2],l.ops.push(m);break}c[2]&&l.ops.pop(),l.trys.pop();continue}m=t.call(e,l)}catch(x){m=[6,x],a=0}finally{n=c=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([f,b])}}},h=this&&this.__values||function(e){var t=typeof Symbol==\"function\"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length==\"number\")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},d=this&&this.__read||function(e,t){var n=typeof Symbol==\"function\"&&e[Symbol.iterator];if(!n)return e;var a,c,l=n.call(e),u=[];try{for(;(t===void 0||t-- >0)&&!(a=l.next()).done;)u.push(a.value)}catch(p){c={error:p}}finally{try{a&&!a.done&&(n=l.return)&&n.call(l)}finally{if(c)throw c.error}}return u};Object.defineProperty(A,\"__esModule\",{value:!0}),A.OverridesPlugin=void 0;var i=O(44),r=O(609),o=function(e){function t(n){var a,c,l,u,p,f,b,m,x,_,S,E,j,P,T,D,M,L,U,V,z,R=e.call(this,{context:n.context,cookieName:n.cookieName,useQueryString:(a=n.useQueryString)!==null&&a!==void 0?a:typeof window<\"u\",queryPrefix:(c=n.queryPrefix)!==null&&c!==void 0?c:\"_exp_\",persistQueryToCookie:(l=n.persistQueryToCookie)!==null&&l!==void 0&&l,debug:(u=n.debug)!==null&&u!==void 0&&u})||this;if(R.onExperimentsAddedCallbacks=[],!n.context)throw new Error(\"[OverridesPlugin] Context is required\");R.isServerSide=typeof window>\"u\";var B,C=n.sdkEndpoint;if(C||((B=n.context)._endpoint?C=B._endpoint:!((p=B._config)===null||p===void 0)&&p.endpoint?C=B._config.endpoint:!((f=B._dataProvider)===null||f===void 0)&&f._endpoint?C=B._dataProvider._endpoint:!((b=B._options)===null||b===void 0)&&b.endpoint&&(C=B._options.endpoint.replace(\"/v1\",\"\"))),!C&&!n.absmartlyEndpoint&&!((B=n.context)._endpoint||!((m=B._config)===null||m===void 0)&&m.endpoint||!((x=B._dataProvider)===null||x===void 0)&&x._endpoint||!((_=B._options)===null||_===void 0)&&_.endpoint))throw new Error(\"[OverridesPlugin] SDK endpoint must be provided if not available from context\");return R.fullConfig={context:n.context,cookieName:n.cookieName,cookieAdapter:n.cookieAdapter,cookieOptions:(S=n.cookieOptions)!==null&&S!==void 0?S:{path:\"/\"},useQueryString:(E=n.useQueryString)!==null&&E!==void 0?E:!R.isServerSide,queryPrefix:(j=n.queryPrefix)!==null&&j!==void 0?j:\"_exp_\",envParam:(P=n.envParam)!==null&&P!==void 0?P:\"env\",persistQueryToCookie:(T=n.persistQueryToCookie)!==null&&T!==void 0&&T,url:n.url,absmartlyEndpoint:(D=n.absmartlyEndpoint)!==null&&D!==void 0?D:\"\",sdkEndpoint:C||\"\",domChangesFieldName:(M=n.domChangesFieldName)!==null&&M!==void 0?M:\"__dom_changes\",sdkApiKey:(L=n.sdkApiKey)!==null&&L!==void 0?L:\"\",application:(U=n.application)!==null&&U!==void 0?U:\"\",environment:(V=n.environment)!==null&&V!==void 0?V:\"\",debug:(z=n.debug)!==null&&z!==void 0&&z},R.fullConfig.debug&&(0,r.logDebug)(\"[OverridesPlugin] Initialized with config:\",{isServerSide:R.isServerSide,cookieName:R.fullConfig.cookieName,useQueryString:R.fullConfig.useQueryString,queryPrefix:R.fullConfig.queryPrefix,envParam:R.fullConfig.envParam,persistQueryToCookie:R.fullConfig.persistQueryToCookie,sdkEndpoint:R.fullConfig.sdkEndpoint,absmartlyEndpoint:R.fullConfig.absmartlyEndpoint}),R}return s(t,e),t.prototype.ready=function(){return g(this,void 0,void 0,function(){var n;return v(this,function(a){switch(a.label){case 0:return this.initialized?(this.fullConfig.debug&&(0,r.logDebug)(\"[OverridesPlugin] Already initialized, skipping re-initialization\"),[2]):(this.initialized=!0,this.registerWithContext(),n=this.getOverrides(),Object.keys(n.overrides).length===0?(this.fullConfig.debug&&(0,r.logDebug)(\"[OverridesPlugin] No overrides found\"),[2]):[4,this.applyOverridesWithFetching(n.overrides,n.devEnv)]);case 1:return a.sent(),[2]}})})},t.prototype.initialize=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,this.ready()]})})},t.prototype.getOverrides=function(){var n={overrides:{},devEnv:null};if(this.fullConfig.cookieName){var a=this.getEnhancedCookieOverrides();n.overrides=y({},a.overrides),n.devEnv=a.devEnv}if(this.fullConfig.useQueryString){var c=this.getEnhancedQueryStringOverrides();Object.keys(c.overrides).length>0&&(n.overrides=y(y({},n.overrides),c.overrides),c.devEnv!==null&&(n.devEnv=c.devEnv),this.fullConfig.persistQueryToCookie&&this.fullConfig.cookieName&&this.persistEnhancedOverridesToCookie(n))}return n},t.prototype.getEnhancedQueryStringOverrides=function(){var n,a;try{var c=void 0;if(this.isServerSide){if(!this.fullConfig.url)return{overrides:{},devEnv:null};var l=typeof this.fullConfig.url==\"string\"?new URL(this.fullConfig.url):this.fullConfig.url;c=new URLSearchParams(l.search)}else c=new URLSearchParams(window.location.search);var u={},p=null;if(this.fullConfig.envParam){var f=c.get(this.fullConfig.envParam);f&&(p=f)}var b=this.fullConfig.queryPrefix;try{for(var m=h(c.entries()),x=m.next();!x.done;x=m.next()){var _=d(x.value,2),S=_[0],E=_[1];if(S.startsWith(b)){var j=S.substring(b.length);if(j){var P=E.split(\",\"),T=parseInt(P[0],10);isNaN(T)||(P.length===1?u[j]=T:u[j]={variant:T,env:P[1]?parseInt(P[1],10):void 0,id:P[2]?parseInt(P[2],10):void 0})}}}}catch(D){n={error:D}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}return this.fullConfig.debug&&Object.keys(u).length>0&&(0,r.logDebug)(\"[OverridesPlugin] Query string overrides:\",u,\"env:\",p),{overrides:u,devEnv:p}}catch(D){return(0,r.logDebug)(\"[OverridesPlugin] Error parsing query string:\",D),{overrides:{},devEnv:null}}},t.prototype.getEnhancedCookieOverrides=function(){var n,a;if(!this.fullConfig.cookieName)return{overrides:{},devEnv:null};var c=null;if(this.fullConfig.cookieAdapter)c=this.fullConfig.cookieAdapter.get(this.fullConfig.cookieName);else if(typeof document<\"u\"){var l=this.fullConfig.cookieName+\"=\",u=document.cookie.split(\";\");try{for(var p=h(u),f=p.next();!f.done;f=p.next()){var b=f.value;if((b=b.trim()).indexOf(l)===0){c=decodeURIComponent(b.substring(l.length));break}}}catch(x){n={error:x}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}}this.fullConfig.debug&&c&&(0,r.logDebug)(\"[OverridesPlugin] Raw cookie value:\",c);var m=this.parseEnhancedCookieValue(c);return this.fullConfig.debug&&Object.keys(m.overrides).length>0&&(0,r.logDebug)(\"[OverridesPlugin] Parsed cookie overrides:\",m),m},t.prototype.parseEnhancedCookieValue=function(n){var a,c;if(!n)return{overrides:{},devEnv:null};try{var l=null,u=n;if(n.startsWith(\"devEnv=\")){var p=n.split(\"|\");l=decodeURIComponent(p[0].substring(7)),u=p[1]||\"\"}var f={};if(u){var b=u.split(\",\");try{for(var m=h(b),x=m.next();!x.done;x=m.next()){var _=x.value,S=d(_.split(\":\"),2),E=S[0],j=S[1];if(E&&j){var P=decodeURIComponent(E),T=(p=j.split(\".\"),parseInt(p[0],10));isNaN(T)||(p.length===1?f[P]=T:f[P]={variant:T,env:p[1]?parseInt(p[1],10):void 0,id:p[2]?parseInt(p[2],10):void 0})}}}catch(D){a={error:D}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(a)throw a.error}}}return{overrides:f,devEnv:l}}catch(D){return(0,r.logDebug)(\"[OverridesPlugin] Error parsing overrides:\",D),{overrides:{},devEnv:null}}},t.prototype.persistEnhancedOverridesToCookie=function(n){var a,c;if(this.fullConfig.cookieName){var l=[];n.devEnv&&l.push(\"devEnv=\".concat(encodeURIComponent(n.devEnv)));var u=[];try{for(var p=h(Object.entries(n.overrides)),f=p.next();!f.done;f=p.next()){var b=d(f.value,2),m=b[0],x=b[1],_=encodeURIComponent(m);if(typeof x==\"number\")u.push(\"\".concat(_,\":\").concat(x));else{var S=x,E=\"\".concat(_,\":\").concat(S.variant);S.env!==void 0&&(E+=\".\".concat(S.env)),S.id!==void 0&&(E+=\".\".concat(S.id)),u.push(E)}}}catch(L){a={error:L}}finally{try{f&&!f.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}var j=l.length>0?\"\".concat(l.join(\"|\"),\"|\").concat(u.join(\",\")):u.join(\",\");if(this.fullConfig.cookieAdapter){var P=y({},this.fullConfig.cookieOptions);this.isServerSide&&(P.httpOnly===void 0&&(P.httpOnly=!0),P.secure===void 0&&(P.secure=!0),P.sameSite===void 0&&(P.sameSite=\"lax\")),this.fullConfig.cookieAdapter.set(this.fullConfig.cookieName,j,P)}else if(typeof document<\"u\"){P=this.fullConfig.cookieOptions||{};var T=\"\".concat(this.fullConfig.cookieName,\"=\").concat(encodeURIComponent(j));P.path&&(T+=\";path=\".concat(P.path)),P.maxAge&&(T+=\";max-age=\".concat(P.maxAge));var D=P;if(D.expires){var M=D.expires instanceof Date?D.expires.toUTCString():D.expires;T+=\";expires=\".concat(M)}P.domain&&(T+=\";domain=\".concat(P.domain)),P.secure&&(T+=\";secure\"),P.sameSite&&(T+=\";samesite=\".concat(P.sameSite)),document.cookie=T}this.fullConfig.debug&&(0,r.logDebug)(\"[OverridesPlugin] Persisted to cookie:\",j)}},t.prototype.applyOverridesWithFetching=function(n,a){return g(this,void 0,void 0,function(){var c,l,u,p,f,b,m,x,_,S,E,j,P,T,D,M,L,U;return v(this,function(V){switch(V.label){case 0:(0,r.logDebug)(\"[OverridesPlugin] Initializing with overrides:\",n),(0,r.logDebug)(\"[OverridesPlugin] Dev environment:\",a),c=[],l=new Set;try{for(u=h(Object.entries(n)),p=u.next();!p.done;p=u.next())f=d(p.value,2),b=f[0],P=f[1],(m=typeof P==\"number\"?{variant:P}:P).env===1?((0,r.logDebug)(\"[OverridesPlugin] \".concat(b,\" categorized as DEV experiment (env=1)\")),c.push([b,m])):m.env===2&&m.id?((0,r.logDebug)(\"[OverridesPlugin] \".concat(b,\" categorized as DRAFT experiment (env=2, id=\").concat(m.id,\")\")),l.add(m.id)):(0,r.logDebug)(\"[OverridesPlugin] \".concat(b,\" categorized as RUNNING experiment (env=\").concat(m.env||0,\")\"))}catch(z){D={error:z}}finally{try{p&&!p.done&&(M=u.return)&&M.call(u)}finally{if(D)throw D.error}}return(0,r.logDebug)(\"[OverridesPlugin] Categorization summary:\",{total_overrides:Object.keys(n).length,dev_experiments:c.length,draft_experiments:l.size,running_experiments:Object.keys(n).length-c.length-l.size,dev_environment:a}),l.size>0?((0,r.logDebug)(\"[OverridesPlugin] Will fetch \".concat(l.size,\" DRAFT experiments from API\")),[4,this.fetchFromAPI(Array.from(l))]):[3,2];case 1:V.sent(),V.label=2;case 2:return x=a||this.fullConfig.environment||null,c.length>0&&x?((0,r.logDebug)(\"[OverridesPlugin] Will fetch \".concat(c.length,\" DEV experiments for environment: \").concat(x)),[4,this.fetchFromDevSDK(c,x)]):[3,4];case 3:return V.sent(),[3,5];case 4:c.length>0&&(0,r.logDebug)(\"[OverridesPlugin] Have \".concat(c.length,\" DEV experiments but NO devEnv specified - NOT fetching\")),V.label=5;case 5:try{for(_=h(Object.entries(n)),S=_.next();!S.done;S=_.next())E=d(S.value,2),j=E[0],P=E[1],T=typeof P==\"number\"?P:P.variant,this.fullConfig.context.override(j,T),this.fullConfig.debug&&(0,r.logDebug)(\"[OverridesPlugin] Override: \".concat(j,\" -> variant \").concat(T))}catch(z){L={error:z}}finally{try{S&&!S.done&&(U=_.return)&&U.call(_)}finally{if(L)throw L.error}}return[2]}})})},t.prototype.fetchFromAPI=function(n){return g(this,void 0,void 0,function(){var a,c,l,u,p,f;return v(this,function(b){switch(b.label){case 0:if(n.length===0)return this.fullConfig.debug&&(0,r.logDebug)(\"[OverridesPlugin] No experiment IDs to fetch from API\"),[2];(a=this.fullConfig.absmartlyEndpoint)||(a=this.fullConfig.sdkEndpoint.replace(\".absmartly.io\",\".absmartly.com\")),a.endsWith(\"/v1\")&&(a=a.slice(0,-3)),a.startsWith(\"http\")||(a=\"https://\".concat(a)),c=\"\".concat(a,\"/v1/experiments?ids=\").concat(n.join(\",\")),this.fullConfig.debug&&(0,r.logDebug)(\"[OverridesPlugin] Fetching non-running experiments from API:\",c),b.label=1;case 1:return b.trys.push([1,4,,5]),l={\"Content-Type\":\"application/json\"},this.fullConfig.sdkApiKey&&(l.Authorization=\"ApiKey \".concat(this.fullConfig.sdkApiKey)),[4,fetch(c,{method:\"GET\",credentials:\"include\",headers:l,mode:\"cors\"})];case 2:return u=b.sent(),(0,r.logDebug)(\"[OverridesPlugin] API Response status:\",u.status,u.statusText),u.ok?[4,u.json()]:((0,r.logDebug)(\"[OverridesPlugin] API request failed with status \".concat(u.status)),u.status===401&&(0,r.logDebug)(\"[OverridesPlugin] Check if you need to log in to the ABsmartly console first\"),[2]);case 3:return(p=b.sent()).experiments&&(this.injectExperimentsIntoContext(p.experiments),this.notifyExperimentsAdded()),[3,5];case 4:return f=b.sent(),(0,r.logDebug)(\"[OverridesPlugin] Failed to fetch experiments from API:\",f),[3,5];case 5:return[2]}})})},t.prototype.fetchFromDevSDK=function(n,a){return g(this,void 0,void 0,function(){var c,l,u,p,f,b,m;return v(this,function(x){switch(x.label){case 0:(c=this.fullConfig.sdkEndpoint).startsWith(\"http\")||(c=\"https://\".concat(c)),c.endsWith(\"/v1\")&&(c=c.slice(0,-3)),l=\"\".concat(c,\"/v1/context?environment=\").concat(encodeURIComponent(a)),this.fullConfig.application&&(l+=\"&application=\".concat(encodeURIComponent(this.fullConfig.application))),this.fullConfig.debug&&(0,r.logDebug)(\"[OverridesPlugin] Fetching development experiments from SDK:\",l),x.label=1;case 1:return x.trys.push([1,4,,5]),u={},this.fullConfig.sdkApiKey&&(u.Authorization=\"ApiKey \".concat(this.fullConfig.sdkApiKey)),[4,fetch(l,{method:\"GET\",headers:u})];case 2:return p=x.sent(),(0,r.logDebug)(\"[OverridesPlugin] DEV Response status:\",p.status,p.statusText),p.ok?[4,p.json()]:((0,r.logDebug)(\"[OverridesPlugin] DEV SDK request failed with status \".concat(p.status)),[2]);case 3:return(f=x.sent()).experiments&&(b=Object.entries(f.experiments).map(function(_){var S=d(_,2),E=S[0],j=S[1];return y(y({},j),{name:E})}),this.injectExperimentsIntoContext(b),this.notifyExperimentsAdded()),[3,5];case 4:return m=x.sent(),(0,r.logDebug)(\"[OverridesPlugin] Failed to fetch experiments from dev SDK:\",m),[3,5];case 5:return[2]}})})},t.prototype.injectExperimentsIntoContext=function(n){var a,c,l,u,p,f=this.fullConfig.context.data.bind(this.fullConfig.context),b=new Map;try{for(var m=h(n),x=m.next();!x.done;x=m.next()){var _=x.value,S={id:_.id,name:_.name,unitType:((u=_.unit_type)===null||u===void 0?void 0:u.name)||\"user_id\",iteration:_.iteration||1,seedHi:0,seedLo:0,split:_.split||[],trafficSeedHi:0,trafficSeedLo:0,trafficSplit:[0,1],fullOnVariant:0,applications:((p=_.applications)===null||p===void 0?void 0:p.map(function(M){var L;return{name:((L=M.application)===null||L===void 0?void 0:L.name)||M.name}}))||[],variants:[],audience:_.audience||\"\",audienceStrict:_.audience_strict||!1};if(_.variants&&Array.isArray(_.variants))for(var E=0;E<_.variants.length;E++){var j=_.variants[E],P={name:j.name||\"Variant \".concat(E),config:typeof j.config==\"string\"?j.config:JSON.stringify(j.config||{})};if(j.variables)P.variables=j.variables;else if(j.config)try{var T=typeof j.config==\"string\"?JSON.parse(j.config):j.config,D=this.fullConfig.domChangesFieldName;T[D]&&(P.variables=((l={})[D]=T[D],l),(0,r.logDebug)(\"[OverridesPlugin] Variant \".concat(E,\" has DOM changes field '\").concat(D,\"'\")))}catch(M){(0,r.logDebug)(\"[OverridesPlugin] Failed to parse variant config:\",M)}S.variants[E]=P}b.set(_.name,S)}}catch(M){a={error:M}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(a)throw a.error}}this.fullConfig.context.data=function(){var M,L,U=f();if(!U)return U;var V=U.experiments||[],z=new Set(V.map(function(W){return W.name})),R=function(W,N){if(z.has(W)){var F=V.findIndex(function(I){return I.name===W});F>=0&&(V[F]=N)}else V.push(N)};try{for(var B=h(b),C=B.next();!C.done;C=B.next()){var k=d(C.value,2);R(k[0],k[1])}}catch(W){M={error:W}}finally{try{C&&!C.done&&(L=B.return)&&L.call(B)}finally{if(M)throw M.error}}return y(y({},U),{experiments:V})},this.fullConfig.debug&&(0,r.logDebug)(\"[OverridesPlugin] Injected \".concat(n.length,\" experiments into context\"))},t.prototype.onExperimentsAdded=function(n){this.onExperimentsAddedCallbacks.push(n)},t.prototype.notifyExperimentsAdded=function(){var n,a;this.fullConfig.debug&&(0,r.logDebug)(\"[OverridesPlugin] Notifying \".concat(this.onExperimentsAddedCallbacks.length,\" listeners about new experiments\"));try{for(var c=h(this.onExperimentsAddedCallbacks),l=c.next();!l.done;l=c.next()){var u=l.value;try{u()}catch(p){(0,r.logDebug)(\"[OverridesPlugin] Error in experiments added callback:\",p)}}}catch(p){n={error:p}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}},t.prototype.registerWithContext=function(){this.fullConfig.context&&(this.fullConfig.context.__plugins||(this.fullConfig.context.__plugins={}),this.fullConfig.context.__plugins.overridesPlugin={name:\"OverridesPlugin\",version:\"1.0.0\",initialized:!0,capabilities:[\"cookie-overrides\",\"query-overrides\",\"api-fetch\",\"dev-environments\"],instance:this,timestamp:Date.now()},this.fullConfig.debug&&(0,r.logDebug)(\"[OverridesPlugin] Registered with context at __plugins.overridesPlugin\"))},t.prototype.unregisterFromContext=function(){var n,a;!((a=(n=this.fullConfig.context)===null||n===void 0?void 0:n.__plugins)===null||a===void 0)&&a.overridesPlugin&&(delete this.fullConfig.context.__plugins.overridesPlugin,this.fullConfig.debug&&(0,r.logDebug)(\"[OverridesPlugin] Unregistered from context\"))},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.unregisterFromContext(),this.onExperimentsAddedCallbacks=[]},t}(i.OverridesPluginLite);A.OverridesPlugin=o},253:function(G,A,O){\"use strict\";var w=this&&this.__values||function(d){var i=typeof Symbol==\"function\"&&Symbol.iterator,r=i&&d[i],o=0;if(r)return r.call(d);if(d&&typeof d.length==\"number\")return{next:function(){return d&&o>=d.length&&(d=void 0),{value:d&&d[o++],done:!d}}};throw new TypeError(i?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},s=this&&this.__read||function(d,i){var r=typeof Symbol==\"function\"&&d[Symbol.iterator];if(!r)return d;var o,e,t=r.call(d),n=[];try{for(;(i===void 0||i-- >0)&&!(o=t.next()).done;)n.push(o.value)}catch(a){e={error:a}}finally{try{o&&!o.done&&(r=t.return)&&r.call(t)}finally{if(e)throw e.error}}return n},y=this&&this.__spreadArray||function(d,i,r){if(r||arguments.length===2)for(var o,e=0,t=i.length;e<t;e++)!o&&e in i||(o||(o=Array.prototype.slice.call(i,0,e)),o[e]=i[e]);return d.concat(o||Array.prototype.slice.call(i))};Object.defineProperty(A,\"__esModule\",{value:!0}),A.HTMLInjector=void 0;var g=O(609),v=O(973),h=function(){function d(i){i===void 0&&(i=!1),this.injectedIds=new Set,this.debug=i}return d.prototype.parseInjectionKey=function(i){var r,o;try{for(var e=w([\"headStart\",\"headEnd\",\"bodyStart\",\"bodyEnd\"]),t=e.next();!t.done;t=e.next()){var n=t.value;if(i===n)return{location:n,priority:0};if(i.startsWith(n)){var a=i.substring(n.length),c=parseInt(a,10);if(!isNaN(c))return{location:n,priority:c}}}}catch(l){r={error:l}}finally{try{t&&!t.done&&(o=e.return)&&o.call(e)}finally{if(r)throw r.error}}return this.debug&&(0,g.logDebug)(\"[HTMLInjector] Invalid injection key:\",i),null},d.prototype.collectInjections=function(i,r){var o,e,t,n,a,c,l,u;r===void 0&&(r=window.location.href);var p=new Map;try{for(var f=w(i),b=f.next();!b.done;b=f.next()){var m=s(b.value,2),x=m[0],_=m[1];try{for(var S=(t=void 0,w(_)),E=S.next();!E.done;E=S.next()){var j=s(E.value,2),P=j[0],T=j[1];if(T&&typeof T==\"object\"){if(T.urlFilter&&!v.URLMatcher.matches(T.urlFilter,r)){this.debug&&(0,g.logDebug)(\"[HTMLInjector] Skipping \".concat(x,\" variant \").concat(P,\" - URL filter doesn't match:\"),{currentUrl:r,urlFilter:T.urlFilter});continue}var D=T.data;if(D&&typeof D==\"object\")try{for(var M=(a=void 0,w(Object.entries(D))),L=M.next();!L.done;L=M.next()){var U=s(L.value,2),V=U[0],z=U[1];if(typeof z==\"string\"){var R=this.parseInjectionKey(V);if(R){var B={code:z,priority:R.priority,location:R.location};p.has(R.location)||p.set(R.location,[]),p.get(R.location).push(B),this.debug&&(0,g.logDebug)(\"[HTMLInjector] Collected injection:\",{experiment:x,variant:P,location:R.location,priority:R.priority,codeLength:z.length})}}else this.debug&&(0,g.logDebug)(\"[HTMLInjector] Skipping non-string injection code for key \".concat(V,\":\"),z)}}catch(I){a={error:I}}finally{try{L&&!L.done&&(c=M.return)&&c.call(M)}finally{if(a)throw a.error}}else this.debug&&(0,g.logDebug)(\"[HTMLInjector] Invalid injection data for \".concat(x,\" variant \").concat(P,\":\"),D)}else this.debug&&(0,g.logDebug)(\"[HTMLInjector] Invalid injection data for \".concat(x,\" variant \").concat(P,\":\"),T)}}catch(I){t={error:I}}finally{try{E&&!E.done&&(n=S.return)&&n.call(S)}finally{if(t)throw t.error}}}}catch(I){o={error:I}}finally{try{b&&!b.done&&(e=f.return)&&e.call(f)}finally{if(o)throw o.error}}try{for(var C=w(p),k=C.next();!k.done;k=C.next()){var W=s(k.value,2),N=W[0],F=W[1];F.sort(function(I,q){return q.priority-I.priority}),this.debug&&(0,g.logDebug)(\"[HTMLInjector] Sorted \".concat(N,\" injections by priority:\"),{location:N,count:F.length,priorities:F.map(function(I){return I.priority})})}}catch(I){l={error:I}}finally{try{k&&!k.done&&(u=C.return)&&u.call(C)}finally{if(l)throw l.error}}return p},d.prototype.inject=function(i){var r,o,e,t;try{for(var n=w(i),a=n.next();!a.done;a=n.next()){var c=s(a.value,2),l=c[0],u=c[1],p=l===\"headStart\"||l===\"bodyStart\"?y([],s(u),!1).reverse():u;try{for(var f=(e=void 0,w(p)),b=f.next();!b.done;b=f.next()){var m=b.value;this.injectAtLocation(l,m.code)}}catch(x){e={error:x}}finally{try{b&&!b.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}}}catch(x){r={error:x}}finally{try{a&&!a.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}this.debug&&(0,g.logDebug)(\"[HTMLInjector] All injections complete\")},d.prototype.injectAtLocation=function(i,r){var o=\"absmartly-inject-\".concat(i,\"-\").concat(Date.now(),\"-\").concat(Math.random());if(!this.injectedIds.has(o))try{switch(i){case\"headStart\":this.injectHeadStart(r,o);break;case\"headEnd\":this.injectHeadEnd(r,o);break;case\"bodyStart\":this.injectBodyStart(r,o);break;case\"bodyEnd\":this.injectBodyEnd(r,o)}this.injectedIds.add(o),this.debug&&(0,g.logDebug)(\"[HTMLInjector] Injected at \".concat(i,\":\"),{location:i,codeLength:r.length,injectionId:o})}catch(e){this.debug&&(0,g.logDebug)(\"[HTMLInjector] Error injecting at \".concat(i,\":\"),e)}},d.prototype.injectHeadStart=function(i,r){if(document.head){var o=this.createContainer(i,r);document.head.insertBefore(o,document.head.firstChild)}else this.debug&&(0,g.logDebug)(\"[HTMLInjector] <head> element not found for headStart injection\")},d.prototype.injectHeadEnd=function(i,r){if(document.head){var o=this.createContainer(i,r);document.head.appendChild(o)}else this.debug&&(0,g.logDebug)(\"[HTMLInjector] <head> element not found for headEnd injection\")},d.prototype.injectBodyStart=function(i,r){if(document.body){var o=this.createContainer(i,r);document.body.insertBefore(o,document.body.firstChild)}else this.debug&&(0,g.logDebug)(\"[HTMLInjector] <body> element not found for bodyStart injection\")},d.prototype.injectBodyEnd=function(i,r){if(document.body){var o=this.createContainer(i,r);document.body.appendChild(o)}else this.debug&&(0,g.logDebug)(\"[HTMLInjector] <body> element not found for bodyEnd injection\")},d.prototype.createContainer=function(i,r){var o=document.createElement(\"div\");return o.id=r,o.setAttribute(\"data-absmartly-injection\",\"true\"),o.innerHTML=i,o},d.prototype.destroy=function(){var i,r;try{for(var o=w(this.injectedIds),e=o.next();!e.done;e=o.next()){var t=e.value,n=document.getElementById(t);n&&n.remove()}}catch(a){i={error:a}}finally{try{e&&!e.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}this.injectedIds.clear(),this.debug&&(0,g.logDebug)(\"[HTMLInjector] Destroyed and cleaned up all injections\")},d}();A.HTMLInjector=h},319:(G,A)=>{\"use strict\";function O(w,s,y,g){g===void 0&&(g={});try{var v=new Date;v.setTime(v.getTime()+24*y*60*60*1e3);var h=\"expires=\".concat(v.toUTCString()),d=g.path||\"/\",i=\"\".concat(w,\"=\").concat(s,\";\").concat(h,\";path=\").concat(d);g.domain&&g.domain!==\"localhost\"&&(i+=\";domain=\".concat(g.domain));var r=g.sameSite||\"Lax\";return i+=\";SameSite=\".concat(r),g.secure&&(i+=\";Secure\"),document.cookie=i,!0}catch(o){return console.error(\"Unable to set cookie \".concat(w,\":\"),o),!1}}Object.defineProperty(A,\"__esModule\",{value:!0}),A.getCookie=function(w){var s,y=\"; \".concat(document.cookie).split(\"; \".concat(w,\"=\"));return y.length===2&&((s=y.pop())===null||s===void 0?void 0:s.split(\";\").shift())||null},A.setCookie=O,A.deleteCookie=function(w,s){s===void 0&&(s={}),O(w,\"\",-1,s)},A.generateUniqueId=function(){return Date.now().toString(36)+Math.random().toString(36).substring(2)},A.generateUUID=function(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(w){var s=16*Math.random()|0;return(w===\"x\"?s:3&s|8).toString(16)})},A.isLocalStorageAvailable=function(){try{var w=\"__localStorage_test__\";return localStorage.setItem(w,w),localStorage.removeItem(w),!0}catch{return!1}}},356:function(G,A,O){\"use strict\";var w=this&&this.__rest||function(i,r){var o={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(o[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols==\"function\"){var t=0;for(e=Object.getOwnPropertySymbols(i);t<e.length;t++)r.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(i,e[t])&&(o[e[t]]=i[e[t]])}return o},s=this&&this.__values||function(i){var r=typeof Symbol==\"function\"&&Symbol.iterator,o=r&&i[r],e=0;if(o)return o.call(i);if(i&&typeof i.length==\"number\")return{next:function(){return i&&e>=i.length&&(i=void 0),{value:i&&i[e++],done:!i}}};throw new TypeError(r?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},y=this&&this.__read||function(i,r){var o=typeof Symbol==\"function\"&&i[Symbol.iterator];if(!o)return i;var e,t,n=o.call(i),a=[];try{for(;(r===void 0||r-- >0)&&!(e=n.next()).done;)a.push(e.value)}catch(c){t={error:c}}finally{try{e&&!e.done&&(o=n.return)&&o.call(n)}finally{if(t)throw t.error}}return a},g=this&&this.__spreadArray||function(i,r,o){if(o||arguments.length===2)for(var e,t=0,n=r.length;t<n;t++)!e&&t in r||(e||(e=Array.prototype.slice.call(r,0,t)),e[t]=r[t]);return i.concat(e||Array.prototype.slice.call(r))};Object.defineProperty(A,\"__esModule\",{value:!0}),A.VariantExtractor=void 0;var v=O(609),h=O(973),d=function(){function i(r,o,e){o===void 0&&(o=\"__dom_changes\"),e===void 0&&(e=!1),this.cachedAllChanges=null,this.context=r,this.variableName=o,this.debug=e}return i.prototype.clearCache=function(){this.cachedAllChanges=null},i.prototype.extractAllChanges=function(){var r,o,e,t,n,a,c;if(this.cachedAllChanges)return this.debug&&(0,v.logDebug)(\"[ABsmartly VariantExtractor] Returning cached changes\"),this.cachedAllChanges;var l=new Map;try{var u=this.context.data();if((0,v.logDebug)(\"[VariantExtractor DEBUG] Raw context data structure:\",{hasData:!!u,contextKeys:u?Object.keys(u):[],experimentCount:((e=u?.experiments)===null||e===void 0?void 0:e.length)||0,firstExperiment:!((t=u?.experiments)===null||t===void 0)&&t[0]?{name:u.experiments[0].name,variantCount:((n=u.experiments[0].variants)===null||n===void 0?void 0:n.length)||0,firstVariantStructure:!((a=u.experiments[0].variants)===null||a===void 0)&&a[0]?Object.keys(u.experiments[0].variants[0]):[]}:null,rawContextData:JSON.stringify(u).substring(0,500)+\"...\"}),this.debug&&(0,v.logDebug)(\"[ABsmartly VariantExtractor] Extracting changes from context:\",{hasData:!!u,experimentCount:((c=u?.experiments)===null||c===void 0?void 0:c.length)||0}),u?.experiments){this.debug&&(0,v.logDebug)(\"[ABsmartly VariantExtractor] Available experiments:\",u.experiments.map(function(x){var _;return{name:x.name,hasVariants:!!x.variants,variantCount:((_=x.variants)===null||_===void 0?void 0:_.length)||0}}));try{for(var p=s(u.experiments),f=p.next();!f.done;f=p.next()){var b=f.value,m=this.extractAllVariantsForExperiment(b);m.size>0?(l.set(b.name,m),this.debug&&(0,v.logDebug)(\"[ABsmartly VariantExtractor] Experiment '\".concat(b.name,\"' has DOM changes:\"),{variantsWithChanges:Array.from(m.keys()),changesByVariant:Array.from(m.entries()).map(function(x){var _=y(x,2),S=_[0],E=_[1];return{variant:S,changeCount:E.length,changeTypes:g([],y(new Set(E.map(function(j){return j.type}))),!1)}})})):this.debug&&(0,v.logDebug)(\"[ABsmartly VariantExtractor] Experiment '\".concat(b.name,\"' has no DOM changes\"))}}catch(x){r={error:x}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}}catch(x){(0,v.logDebug)(\"[ABsmartly] Error extracting DOM changes:\",x)}return this.cachedAllChanges=l,l},i.prototype.extractAllVariantsForExperiment=function(r){var o,e=new Map;if((0,v.logDebug)(\"[DEBUG] Processing experiment:\",r.name,\"with\",((o=r.variants)===null||o===void 0?void 0:o.length)||0,\"variants\"),!r.variants)return(0,v.logDebug)(\"[DEBUG] No variants found for experiment:\",r.name),e;for(var t=0;t<r.variants.length;t++){var n=r.variants[t];if(n){var a=null;if(n.config)try{var c=typeof n.config==\"string\"?JSON.parse(n.config):n.config;(0,v.logDebug)(\"[VariantExtractor DEBUG] Parsed config for variant \".concat(t,\":\"),c),c&&c[this.variableName]?(a=c[this.variableName],(0,v.logDebug)(\"[VariantExtractor DEBUG] \\u2713 Found DOM changes in config[\".concat(this.variableName,\"]:\"),a)):(0,v.logDebug)(\"[VariantExtractor DEBUG] \\u2717 No \".concat(this.variableName,\" field found in parsed config for variant \").concat(t))}catch(u){(0,v.logDebug)(\"[VariantExtractor DEBUG] \\u2717 Failed to parse variant.config for variant \".concat(t,\":\"),u,\"Raw config:\",typeof n.config==\"string\"?n.config.substring(0,100):\"\")}else(0,v.logDebug)(\"[VariantExtractor DEBUG] \\u2717 No config field found for variant \".concat(t));if(a){var l=this.extractChangesFromData(a);l&&l.length>0&&e.set(t,l)}}}return e},i.prototype.extractChangesFromData=function(r){if(!r)return null;if(typeof r==\"string\")try{r=JSON.parse(r)}catch(e){return(0,v.logDebug)(\"[ABsmartly] Failed to parse DOM changes JSON:\",e),null}if(r&&typeof r==\"object\"&&!Array.isArray(r)&&\"changes\"in r){var o=r;return this.parseChanges(o.changes)}return this.parseChanges(r)},i.prototype.getExperimentChanges=function(r){var o=this.extractAllChanges().get(r);if(!o||o.size===0)return null;var e=this.context.peek(r);return e==null?(this.debug&&(0,v.logDebug)(\"[ABsmartly] No variant selected for \".concat(r)),null):o.get(e)||null},i.prototype.parseChanges=function(r){var o,e;if(!r)return null;if(typeof r==\"string\")try{r=JSON.parse(r)}catch(l){return(0,v.logDebug)(\"[ABsmartly] Failed to parse DOM changes JSON:\",l),null}if(!Array.isArray(r))return this.debug&&(0,v.logDebug)(\"[ABsmartly] DOM changes data is not an array\"),null;var t=[];try{for(var n=s(r),a=n.next();!a.done;a=n.next()){var c=a.value;this.isValidChange(c)?t.push(c):this.debug&&(0,v.logDebug)(\"[ABsmartly] Invalid DOM change:\",c)}}catch(l){o={error:l}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(o)throw o.error}}return t.length>0?t:null},i.prototype.isValidChange=function(r){if(!r||typeof r!=\"object\")return!1;var o=r;if(o.selector===void 0||o.selector===null||!o.type||![\"text\",\"html\",\"style\",\"class\",\"attribute\",\"javascript\",\"move\",\"create\",\"delete\",\"styleRules\"].includes(o.type))return!1;switch(o.type){case\"class\":if(!o.add&&!o.remove||o.add&&!Array.isArray(o.add)||o.remove&&!Array.isArray(o.remove))return!1;break;case\"move\":if(!o.targetSelector)return!1;break;case\"create\":if(!o.element||!o.targetSelector)return!1;break;case\"style\":case\"attribute\":if(!o.value||typeof o.value!=\"object\")return!1}return!0},i.prototype.getAllVariantChanges=function(r){var o=this.extractAllChanges().get(r);if(!o)return[];for(var e=Math.max.apply(Math,g([],y(o.keys()),!1)),t=[],n=0;n<=e;n++)t.push(o.get(n)||[]);return t},i.prototype.getExperiment=function(r){try{var o=this.context.data();return o&&o.experiments&&o.experiments.find(function(e){return e.name===r})||null}catch(e){return this.debug&&(0,v.logDebug)(\"[ABsmartly VariantExtractor] Failed to get experiment '\".concat(r,\"' - context may not be ready:\"),e),null}},i.prototype.getAllVariantsData=function(r){var o=new Map;try{var e=this.context.data();if(!e?.experiments)return o;var t=e.experiments.find(function(u){return u.name===r});if(!t?.variants)return o;for(var n=0;n<t.variants.length;n++){var a=t.variants[n];if(a){var c=null;if(a.variables&&a.variables[this.variableName])c=a.variables[this.variableName];else if(a.config)try{var l=typeof a.config==\"string\"?JSON.parse(a.config):a.config;l&&l[this.variableName]&&(c=l[this.variableName])}catch(u){(0,v.logDebug)(\"[VariantExtractor] Failed to parse variant.config:\",u)}if(c){if(typeof c==\"string\")try{c=JSON.parse(c)}catch(u){(0,v.logDebug)(\"[ABsmartly] Failed to parse DOM changes JSON:\",u);continue}o.set(n,c)}}}}catch(u){(0,v.logDebug)(\"[ABsmartly] Error getting all variants data:\",u)}return o},i.prototype.anyVariantMatchesURL=function(r,o){var e,t;o===void 0&&(o=window.location.href);var n=this.getAllVariantsData(r),a=!1;try{for(var c=s(n),l=c.next();!l.done;l=c.next()){var u=y(l.value,2)[1];if(u&&typeof u==\"object\"&&!Array.isArray(u)&&\"urlFilter\"in u){var p=u;if(p.urlFilter&&(a=!0,h.URLMatcher.matches(p.urlFilter,o)))return!0}}}catch(f){e={error:f}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}return!a},i.prototype.extractAllInjectHTML=function(){var r,o,e=new Map;try{var t=this.context.data();if(this.debug&&(0,v.logDebug)(\"[ABsmartly VariantExtractor] Extracting __inject_html from context\"),t?.experiments)try{for(var n=s(t.experiments),a=n.next();!a.done;a=n.next()){var c=a.value,l=this.extractInjectHTMLForExperiment(c);l.size>0&&(e.set(c.name,l),this.debug&&(0,v.logDebug)(\"[ABsmartly VariantExtractor] Experiment '\".concat(c.name,\"' has HTML injections:\"),{variantsWithInjections:Array.from(l.keys())}))}}catch(u){r={error:u}}finally{try{a&&!a.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}}catch(u){(0,v.logDebug)(\"[ABsmartly] Error extracting __inject_html:\",u)}return e},i.prototype.extractInjectHTMLForExperiment=function(r){var o=new Map;if(!r.variants)return o;for(var e=0;e<r.variants.length;e++){var t=r.variants[e];if(t){var n=null;if(t.variables&&t.variables.__inject_html)n=t.variables.__inject_html,this.debug&&(0,v.logDebug)(\"[VariantExtractor] Found __inject_html in variables for \".concat(r.name,\" variant \").concat(e));else if(t.config)try{var a=typeof t.config==\"string\"?JSON.parse(t.config):t.config;a&&a.__inject_html&&(n=a.__inject_html,this.debug&&(0,v.logDebug)(\"[VariantExtractor] Found __inject_html in config for \".concat(r.name,\" variant \").concat(e)))}catch(f){(0,v.logDebug)(\"[VariantExtractor] Failed to parse variant.config for \".concat(r.name,\" variant \").concat(e,\":\"),f)}if(n&&typeof n==\"object\"&&!Array.isArray(n)){var c=n,l=c.urlFilter,u=w(c,[\"urlFilter\"]),p={data:u,urlFilter:l||void 0};o.set(e,p),this.debug&&(0,v.logDebug)(\"[VariantExtractor] Extracted __inject_html for \".concat(r.name,\" variant \").concat(e,\":\"),{keys:Object.keys(u),hasUrlFilter:!!l})}else n&&this.debug&&(0,v.logDebug)(\"[VariantExtractor] Invalid __inject_html format in \".concat(r.name,\" variant \").concat(e),n)}}return o},i}();A.VariantExtractor=d},420:function(G,A,O){\"use strict\";var w,s=this&&this.__assign||function(){return s=Object.assign||function(n){for(var a,c=1,l=arguments.length;c<l;c++)for(var u in a=arguments[c])Object.prototype.hasOwnProperty.call(a,u)&&(n[u]=a[u]);return n},s.apply(this,arguments)},y=this&&this.__createBinding||(Object.create?function(n,a,c,l){l===void 0&&(l=c);var u=Object.getOwnPropertyDescriptor(a,c);u&&!(\"get\"in u?!a.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(n,l,u)}:function(n,a,c,l){l===void 0&&(l=c),n[l]=a[c]}),g=this&&this.__setModuleDefault||(Object.create?function(n,a){Object.defineProperty(n,\"default\",{enumerable:!0,value:a})}:function(n,a){n.default=a}),v=this&&this.__importStar||(w=function(n){return w=Object.getOwnPropertyNames||function(a){var c=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(c[c.length]=l);return c},w(n)},function(n){if(n&&n.__esModule)return n;var a={};if(n!=null)for(var c=w(n),l=0;l<c.length;l++)c[l]!==\"default\"&&y(a,n,c[l]);return g(a,n),a}),h=this&&this.__awaiter||function(n,a,c,l){return new(c||(c=Promise))(function(u,p){function f(x){try{m(l.next(x))}catch(_){p(_)}}function b(x){try{m(l.throw(x))}catch(_){p(_)}}function m(x){var _;x.done?u(x.value):(_=x.value,_ instanceof c?_:new c(function(S){S(_)})).then(f,b)}m((l=l.apply(n,a||[])).next())})},d=this&&this.__generator||function(n,a){var c,l,u,p={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},f=Object.create((typeof Iterator==\"function\"?Iterator:Object).prototype);return f.next=b(0),f.throw=b(1),f.return=b(2),typeof Symbol==\"function\"&&(f[Symbol.iterator]=function(){return this}),f;function b(m){return function(x){return function(_){if(c)throw new TypeError(\"Generator is already executing.\");for(;f&&(f=0,_[0]&&(p=0)),p;)try{if(c=1,l&&(u=2&_[0]?l.return:_[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,_[1])).done)return u;switch(l=0,u&&(_=[2&_[0],u.value]),_[0]){case 0:case 1:u=_;break;case 4:return p.label++,{value:_[1],done:!1};case 5:p.label++,l=_[1],_=[0];continue;case 7:_=p.ops.pop(),p.trys.pop();continue;default:if(!((u=(u=p.trys).length>0&&u[u.length-1])||_[0]!==6&&_[0]!==2)){p=0;continue}if(_[0]===3&&(!u||_[1]>u[0]&&_[1]<u[3])){p.label=_[1];break}if(_[0]===6&&p.label<u[1]){p.label=u[1],u=_;break}if(u&&p.label<u[2]){p.label=u[2],p.ops.push(_);break}u[2]&&p.ops.pop(),p.trys.pop();continue}_=a.call(n,p)}catch(S){_=[6,S],l=0}finally{c=u=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([m,x])}}},i=this&&this.__read||function(n,a){var c=typeof Symbol==\"function\"&&n[Symbol.iterator];if(!c)return n;var l,u,p=c.call(n),f=[];try{for(;(a===void 0||a-- >0)&&!(l=p.next()).done;)f.push(l.value)}catch(b){u={error:b}}finally{try{l&&!l.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return f},r=this&&this.__spreadArray||function(n,a,c){if(c||arguments.length===2)for(var l,u=0,p=a.length;u<p;u++)!l&&u in a||(l||(l=Array.prototype.slice.call(a,0,u)),l[u]=a[u]);return n.concat(l||Array.prototype.slice.call(a))},o=this&&this.__values||function(n){var a=typeof Symbol==\"function\"&&Symbol.iterator,c=a&&n[a],l=0;if(c)return c.call(n);if(n&&typeof n.length==\"number\")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(a?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(A,\"__esModule\",{value:!0}),A.WebVitalsPlugin=void 0;var e=O(609),t=function(){function n(a){a===void 0&&(a={}),this.webVitalsLoaded=!1,this.metricsTracked=!1,this.context=a.context,this.debug=a.debug||!1,this.trackWebVitals=a.trackWebVitals!==!1,this.trackPageMetrics=a.trackPageMetrics!==!1,this.autoTrack=a.autoTrack!==!1,typeof window<\"u\"&&this.trackWebVitals&&(this.webVitalsPromise=this.loadWebVitalsLibrary(),this.debugLog(\"Started pre-loading web-vitals library\"))}return n.prototype.debugLog=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];this.debug&&e.logDebug.apply(void 0,r([\"[WebVitalsPlugin]\"],i(a),!1))},n.prototype.setContext=function(a){this.context=a,this.debugLog(\"Context set for WebVitalsPlugin\")},n.prototype.loadWebVitalsLibrary=function(){return h(this,void 0,void 0,function(){var a,c;return d(this,function(l){switch(l.label){case 0:if(this.webVitalsLoaded||typeof window>\"u\")return[2,null];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.resolve().then(function(){return v(O(796))})];case 2:return a=l.sent(),this.webVitalsLoaded=!0,this.debugLog(\"Web Vitals library loaded from bundle\"),[2,a];case 3:throw c=l.sent(),(0,e.logDebug)(\"[WebVitalsPlugin] Failed to load Web Vitals library:\",c),c;case 4:return[2]}})})},n.prototype.trackWebVitalsMetrics=function(a){return h(this,void 0,void 0,function(){var c,l,u,p=this;return d(this,function(f){switch(f.label){case 0:if(!(c=a||this.context))return(0,e.logDebug)(\"[WebVitalsPlugin] No context available for tracking web vitals\"),[2];if(!this.trackWebVitals)return[2];f.label=1;case 1:return f.trys.push([1,6,,7]),l=void 0,this.webVitalsPromise?[4,this.webVitalsPromise]:[3,3];case 2:return l=f.sent(),[3,5];case 3:return[4,this.loadWebVitalsLibrary()];case 4:l=f.sent(),f.label=5;case 5:return l?(l.onCLS(function(b){p.debugLog(\"CLS:\",b),c.track(\"cls_score\",s({},b))}),l.onLCP(function(b){p.debugLog(\"LCP:\",b),c.track(\"lcp_score\",s({},b))}),l.onFCP(function(b){p.debugLog(\"FCP:\",b),c.track(\"fcp_score\",s({},b))}),l.onINP(function(b){p.debugLog(\"INP:\",b),c.track(\"inp_score\",s({},b))}),l.onTTFB(function(b){p.debugLog(\"TTFB:\",b),c.track(\"ttfb_score\",s({},b))}),this.debugLog(\"Web Vitals tracking initialized\"),[3,7]):((0,e.logDebug)(\"[WebVitalsPlugin] Web Vitals library not available\"),[2]);case 6:return u=f.sent(),(0,e.logDebug)(\"[WebVitalsPlugin] Error tracking web vitals:\",u),c.track(\"vitals_tracking_error\",{error:u.message,type:u.name}),[3,7];case 7:return[2]}})})},n.prototype.trackPageMetricsData=function(a){var c=this,l=a||this.context;if(l){if(this.trackPageMetrics&&!this.metricsTracked)try{this.trackImmediateMetrics(l),document.readyState===\"complete\"?this.trackLoadMetrics(l):window.addEventListener(\"load\",function(){return c.trackLoadMetrics(l)}),this.metricsTracked=!0}catch(u){(0,e.logDebug)(\"[WebVitalsPlugin] Error tracking page metrics:\",u),l.track(\"metrics_tracking_error\",{error:u.message,type:u.name})}}else(0,e.logDebug)(\"[WebVitalsPlugin] No context available for tracking page metrics\")},n.prototype.trackImmediateMetrics=function(a){var c,l,u,p,f=performance.getEntriesByType(\"navigation\")[0];if(f){var b={dns:f.domainLookupEnd-f.domainLookupStart,tcp:f.connectEnd-f.connectStart,ttfb:f.responseStart-f.requestStart,download:f.responseEnd-f.responseStart,total_fetch:f.responseEnd-f.requestStart};try{for(var m=o(Object.entries(b)),x=m.next();!x.done;x=m.next()){var _=i(x.value,2),S=_[0],E=_[1];a.track(\"page_timing_\".concat(S),{value:E,unit:\"ms\"}),this.debugLog(\"Page timing \".concat(S,\":\"),E)}}catch(L){c={error:L}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(c)throw c.error}}var j={total_size:f.transferSize,header_size:f.transferSize-f.encodedBodySize,html_size:f.decodedBodySize,compressed_html_size:f.encodedBodySize};try{for(var P=o(Object.entries(j)),T=P.next();!T.done;T=P.next()){var D=i(T.value,2);S=D[0],E=D[1],a.track(\"page_\".concat(S),{value:E,unit:\"bytes\"}),this.debugLog(\"Page \".concat(S,\":\"),E)}}catch(L){u={error:L}}finally{try{T&&!T.done&&(p=P.return)&&p.call(P)}finally{if(u)throw u.error}}if(f.encodedBodySize>0){var M=f.decodedBodySize/f.encodedBodySize;a.track(\"page_compression_ratio\",{value:M}),this.debugLog(\"Compression ratio:\",M)}}else this.debugLog(\"Navigation timing not available\")},n.prototype.trackLoadMetrics=function(a){var c,l,u=performance.getEntriesByType(\"navigation\")[0];if(u){var p=u.domComplete-u.responseEnd;a.track(\"page_timing_dom_processing\",{value:p,metric:\"DOM Processing\",unit:\"ms\",rating:p<=500?\"good\":p<=1e3?\"needs-improvement\":\"poor\"}),this.debugLog(\"DOM processing:\",p);var f=u.loadEventEnd-u.fetchStart;a.track(\"page_timing_total_load\",{value:f,metric:\"Total Load\",unit:\"ms\",rating:f<=2e3?\"good\":f<=4e3?\"needs-improvement\":\"poor\"}),this.debugLog(\"Total load:\",f);var b={elements:document.getElementsByTagName(\"*\").length,imageCount:document.getElementsByTagName(\"img\").length,scriptCount:document.getElementsByTagName(\"script\").length,styleCount:document.getElementsByTagName(\"style\").length,linkCount:document.getElementsByTagName(\"link\").length};try{for(var m=o(Object.entries(b)),x=m.next();!x.done;x=m.next()){var _=i(x.value,2),S=_[0],E=_[1];a.track(\"dom_\".concat(S),{value:E,metric:S,unit:\"count\",rating:E<=1e3?\"good\":E<=2e3?\"needs-improvement\":\"poor\"}),this.debugLog(\"DOM \".concat(S,\":\"),E)}}catch(j){c={error:j}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(c)throw c.error}}}},n.prototype.start=function(){return h(this,void 0,void 0,function(){return d(this,function(a){return this.debugLog(\"Starting WebVitalsPlugin\"),this.context?(this.autoTrack&&(this.trackWebVitals&&this.trackWebVitalsMetrics(),this.trackPageMetrics&&this.trackPageMetricsData()),this.debugLog(\"WebVitalsPlugin started successfully\"),[2]):(this.debugLog(\"No context available during start\"),[2])})})},n.prototype.ready=function(){return h(this,void 0,void 0,function(){return d(this,function(a){return[2,this.start()]})})},n.prototype.initialize=function(){return h(this,void 0,void 0,function(){return d(this,function(a){return[2,this.start()]})})},n.prototype.reset=function(){this.metricsTracked=!1,this.debugLog(\"WebVitalsPlugin reset\")},n}();A.WebVitalsPlugin=t},481:function(G,A,O){\"use strict\";var w=this&&this.__values||function(v){var h=typeof Symbol==\"function\"&&Symbol.iterator,d=h&&v[h],i=0;if(d)return d.call(v);if(v&&typeof v.length==\"number\")return{next:function(){return v&&i>=v.length&&(v=void 0),{value:v&&v[i++],done:!v}}};throw new TypeError(h?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},s=this&&this.__read||function(v,h){var d=typeof Symbol==\"function\"&&v[Symbol.iterator];if(!d)return v;var i,r,o=d.call(v),e=[];try{for(;(h===void 0||h-- >0)&&!(i=o.next()).done;)e.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(d=o.return)&&d.call(o)}finally{if(r)throw r.error}}return e};Object.defineProperty(A,\"__esModule\",{value:!0}),A.DOMPersistenceManager=void 0;var y=O(609),g=function(){function v(h){this.watchedElements=new WeakMap,this.persistenceObserver=null,this.reapplyingElements=new Set,this.reapplyLogThrottle=new Map,this.appliedChanges=new Map,this.config=h}return v.prototype.watchElement=function(h,d,i){var r=this.watchedElements.get(h);r||(r=new Set,this.watchedElements.set(h,r)),r.add(d),this.appliedChanges.has(d)||this.appliedChanges.set(d,[]);var o=this.appliedChanges.get(d);if(!o.includes(i)&&(o.push(i),this.config.debug)){var e={};i.value&&typeof i.value==\"object\"&&Object.keys(i.value).forEach(function(t){var n=t.replace(/([A-Z])/g,\"-$1\").toLowerCase();e[n]=h.style.getPropertyValue(n)}),(0,y.logDebug)(\"[WATCH-ELEMENT] Started watching element for persistence\",{experimentName:d,selector:i.selector,element:h.tagName,changeType:i.type,value:i.value,currentStyles:i.type===\"style\"?e:void 0,timestamp:Date.now()})}this.persistenceObserver||this.setupPersistenceObserver()},v.prototype.unwatchElement=function(h,d){var i=this.watchedElements.get(h);i&&(i.delete(d),i.size===0&&this.watchedElements.delete(h))},v.prototype.unwatchExperiment=function(h){this.appliedChanges.delete(h)},v.prototype.getAppliedChanges=function(){return this.appliedChanges},v.prototype.clearAll=function(){this.appliedChanges.clear()},v.prototype.destroy=function(){this.persistenceObserver&&(this.persistenceObserver.disconnect(),this.persistenceObserver=null),this.appliedChanges.clear(),this.reapplyingElements.clear(),this.reapplyLogThrottle.clear()},v.prototype.setupPersistenceObserver=function(){var h=this;this.persistenceObserver||(this.config.debug&&(0,y.logDebug)(\"[PERSISTENCE-OBSERVER] Setting up persistence observer\",{timestamp:Date.now()}),this.persistenceObserver=new MutationObserver(function(d){h.config.debug&&(0,y.logDebug)(\"[MUTATION-DETECTED] Persistence observer detected mutations\",{mutationCount:d.length,timestamp:Date.now()}),d.forEach(function(i){var r=i.target;if(h.reapplyingElements.has(r))h.config.debug&&(0,y.logDebug)(\"[MUTATION-SKIP] Skipping mutation - currently reapplying\",{element:r.tagName});else{var o=h.watchedElements.get(r);if(o){if(h.config.debug){var e=\"mutation:\".concat(r.tagName,\":\").concat(r.getAttribute(\"name\")||r.className),t=Date.now();t-(h.reapplyLogThrottle.get(e)||0)>5e3&&((0,y.logDebug)(\"[MUTATION-ON-WATCHED] Mutation detected on watched element\",{element:r.tagName,attributeName:i.attributeName,oldValue:i.oldValue,experiments:Array.from(o)}),h.reapplyLogThrottle.set(e,t))}o.forEach(function(n){var a=h.appliedChanges.get(n);a&&a.forEach(function(c){var l,u,p,f,b=!1;if(c.type===\"style\"&&i.attributeName===\"style\"&&c.persistStyle!==!1)b=h.checkStyleOverwritten(r,c.value);else if(c.type===\"attribute\"&&c.persistAttribute!==!1&&c.value&&typeof c.value==\"object\")try{for(var m=w(Object.keys(c.value)),x=m.next();!x.done;x=m.next()){var _=x.value;if(i.attributeName===_){b=h.checkAttributeOverwritten(r,c.value);break}}}catch(U){l={error:U}}finally{try{x&&!x.done&&(u=m.return)&&u.call(m)}finally{if(l)throw l.error}}if(b){h.reapplyingElements.add(r);var S=\"\".concat(n,\"-\").concat(c.selector),E=Date.now(),j=h.reapplyLogThrottle.get(S)||0;if(h.config.debug&&E-j>5e3&&((0,y.logDebug)(\"[REAPPLY-TRIGGERED] Reapplying after mutation (React/framework conflict detected)\",{experimentName:n,selector:c.selector,element:r.tagName,changeType:c.type,timestamp:E}),h.reapplyLogThrottle.set(S,E),h.reapplyLogThrottle.size>100)){var P=E-6e4;try{for(var T=w(h.reapplyLogThrottle.entries()),D=T.next();!D.done;D=T.next()){var M=s(D.value,2),L=M[0];M[1]<P&&h.reapplyLogThrottle.delete(L)}}catch(U){p={error:U}}finally{try{D&&!D.done&&(f=T.return)&&f.call(T)}finally{if(p)throw p.error}}}h.config.onReapply(c,n),setTimeout(function(){h.reapplyingElements.delete(r)},0)}})})}}})}),this.persistenceObserver.observe(document.body,{attributes:!0,subtree:!0,attributeOldValue:!0}),this.config.debug&&(0,y.logDebug)(\"[PERSISTENCE-OBSERVER] Setup complete - now observing mutations\",{target:\"document.body\",attributeFilter:[\"style\",\"class\"],subtree:!0,timestamp:Date.now()}))},v.prototype.checkStyleOverwritten=function(h,d){var i,r;try{for(var o=w(Object.entries(d)),e=o.next();!e.done;e=o.next()){var t=s(e.value,2),n=t[0],a=t[1],c=n.replace(/([A-Z])/g,\"-$1\").toLowerCase(),l=h.style.getPropertyValue(c),u=h.style.getPropertyPriority(c);if(l!==a||a.includes(\"!important\")&&!u)return!0}}catch(p){i={error:p}}finally{try{e&&!e.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return!1},v.prototype.checkAttributeOverwritten=function(h,d){var i,r;try{for(var o=w(Object.entries(d)),e=o.next();!e.done;e=o.next()){var t=s(e.value,2),n=t[0],a=t[1];if(h.getAttribute(n)!==a)return!0}}catch(c){i={error:c}}finally{try{e&&!e.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return!1},v}();A.DOMPersistenceManager=g},574:(G,A)=>{\"use strict\";Object.defineProperty(A,\"__esModule\",{value:!0})},609:function(G,A){\"use strict\";var O=this&&this.__assign||function(){return O=Object.assign||function(g){for(var v,h=1,d=arguments.length;h<d;h++)for(var i in v=arguments[h])Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i]);return g},O.apply(this,arguments)},w=this&&this.__read||function(g,v){var h=typeof Symbol==\"function\"&&g[Symbol.iterator];if(!h)return g;var d,i,r=h.call(g),o=[];try{for(;(v===void 0||v-- >0)&&!(d=r.next()).done;)o.push(d.value)}catch(e){i={error:e}}finally{try{d&&!d.done&&(h=r.return)&&h.call(r)}finally{if(i)throw i.error}}return o},s=this&&this.__spreadArray||function(g,v,h){if(h||arguments.length===2)for(var d,i=0,r=v.length;i<r;i++)!d&&i in v||(d||(d=Array.prototype.slice.call(v,0,i)),d[i]=v[i]);return g.concat(d||Array.prototype.slice.call(v))};function y(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];if(A.DEBUG)if(g.length===2&&typeof g[0]==\"string\"&&typeof g[1]==\"object\"){var h=w(g,2),d=h[0],i=h[1];if(d.includes(\"Original state already stored\")||d.includes(\"State store operation\")||d.includes(\"Performance:\")&&i?.duration&&i.duration<5||d.includes(\"Message sent:\")||d.includes(\"Message received:\"))return;var r=new Date().toISOString(),o=\"[ABsmartly Debug]\";console.log(\"\".concat(o,\" [\").concat(r,\"] \").concat(d),i)}else if(g.length===1&&typeof g[0]==\"string\"){if((d=g[0]).includes(\"Original state already stored\")||d.includes(\"State store operation\")||d.includes(\"Message sent:\")||d.includes(\"Message received:\"))return;r=new Date().toISOString(),o=\"[ABsmartly Debug]\",console.log(\"\".concat(o,\" [\").concat(r,\"] \").concat(d))}else console.log.apply(console,s([],w(g),!1))}Object.defineProperty(A,\"__esModule\",{value:!0}),A.DEBUG=void 0,A.logDebug=y,A.logChangeApplication=function(g,v,h,d,i){A.DEBUG&&y(\"\".concat(i?\"\\u2713\":\"\\u2717\",\" Applied \").concat(h,\" change to \").concat(d,\" element(s)\"),{experimentName:g,selector:v,changeType:h,elementsCount:d,success:i})},A.logChangeRemoval=function(g,v,h,d){A.DEBUG&&y(\"Restored \".concat(d,\" element(s) to original state\"),{experimentName:g,selector:v,changeType:h,elementsCount:d,action:\"restore\"})},A.logExperimentSummary=function(g,v,h,d){A.DEBUG&&y('Experiment \"'.concat(g,'\" summary'),{experimentName:g,totalChanges:v,successfulChanges:h,pendingChanges:d,successRate:v>0?\"\".concat(Math.round(h/v*100),\"%\"):\"N/A\"})},A.logStateOperation=function(g,v,h,d){A.DEBUG&&y(\"State \".concat(g,\" operation\"),{operation:g,selector:v,changeType:h,experimentName:d})},A.logVisibilityEvent=function(g,v,h){A.DEBUG&&y(h?\"Element became visible - experiment triggered\":\"Element visibility changed\",{experimentName:g,selector:v.className||v.id||v.tagName,triggered:h,action:\"visibility\"})},A.logMessage=function(g,v,h){A.DEBUG&&y(\"Message \".concat(g,\": \").concat(v),{direction:g,messageType:v,payload:h,bridge:\"extension\"})},A.logPerformance=function(g,v,h){A.DEBUG&&y(\"Performance: \".concat(g,\" took \").concat(v,\"ms\"),O({operation:g,duration:v,performance:!0},h))},A.DEBUG=!1},637:function(G,A){\"use strict\";var O=this&&this.__assign||function(){return O=Object.assign||function(y){for(var g,v=1,h=arguments.length;v<h;v++)for(var d in g=arguments[v])Object.prototype.hasOwnProperty.call(g,d)&&(y[d]=g[d]);return y},O.apply(this,arguments)},w=this&&this.__values||function(y){var g=typeof Symbol==\"function\"&&Symbol.iterator,v=g&&y[g],h=0;if(v)return v.call(y);if(y&&typeof y.length==\"number\")return{next:function(){return y&&h>=y.length&&(y=void 0),{value:y&&y[h++],done:!y}}};throw new TypeError(g?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(A,\"__esModule\",{value:!0}),A.BrowserCookieAdapter=void 0;var s=function(){function y(){}return y.prototype.get=function(g){var v,h,d=g+\"=\",i=document.cookie.split(\";\");try{for(var r=w(i),o=r.next();!o.done;o=r.next()){var e=o.value;if((e=e.trim()).indexOf(d)===0)return decodeURIComponent(e.substring(d.length))}}catch(t){v={error:t}}finally{try{o&&!o.done&&(h=r.return)&&h.call(r)}finally{if(v)throw v.error}}return null},y.prototype.set=function(g,v,h){var d=\"\".concat(g,\"=\").concat(encodeURIComponent(v));h&&(h.path&&(d+=\"; path=\".concat(h.path)),h.domain&&(d+=\"; domain=\".concat(h.domain)),h.maxAge!==void 0&&(d+=\"; max-age=\".concat(h.maxAge)),h.secure&&(d+=\"; secure\"),h.sameSite&&(d+=\"; samesite=\".concat(h.sameSite))),document.cookie=d},y.prototype.delete=function(g,v){this.set(g,\"\",O(O({},v),{maxAge:0}))},y}();A.BrowserCookieAdapter=s},639:(G,A)=>{\"use strict\";Object.defineProperty(A,\"__esModule\",{value:!0})},693:(G,A,O)=>{\"use strict\";Object.defineProperty(A,\"__esModule\",{value:!0}),A.StyleSheetManager=void 0;var w=O(609),s=function(){function y(g,v){v===void 0&&(v=!1),this.id=g,this.styleEl=null,this.rules=new Map,this.debug=v}return y.prototype.ensure=function(){if(!(this.styleEl&&document.head.contains(this.styleEl)||(this.styleEl=document.getElementById(this.id),this.styleEl))){var g=document.createElement(\"style\");g.id=this.id,g.setAttribute(\"data-absmartly-styles\",\"true\"),document.head.appendChild(g),this.styleEl=g,this.debug&&(0,w.logDebug)(\"[ABsmartly] Created stylesheet: \".concat(this.id))}return this.styleEl},y.prototype.setRule=function(g,v){this.rules.set(g,v),this.render(),this.debug&&(0,w.logDebug)(\"[ABsmartly] Set CSS rule for \".concat(g))},y.prototype.deleteRule=function(g){this.rules.delete(g)&&(this.render(),this.debug&&(0,w.logDebug)(\"[ABsmartly] Deleted CSS rule for \".concat(g)))},y.prototype.hasRule=function(g){return this.rules.has(g)},y.prototype.clear=function(){var g=this.rules.size>0;this.rules.clear(),g&&(this.render(),this.debug&&(0,w.logDebug)(\"[ABsmartly] Cleared all CSS rules from \".concat(this.id)))},y.prototype.destroy=function(){this.clear(),this.styleEl&&document.head.contains(this.styleEl)&&(this.styleEl.remove(),this.styleEl=null,this.debug&&(0,w.logDebug)(\"[ABsmartly] Destroyed stylesheet: \".concat(this.id)))},y.prototype.render=function(){var g=this.ensure(),v=Array.from(this.rules.values()).join(`\n\n`);g.textContent=v},y.prototype.getRulesCount=function(){return this.rules.size},y.prototype.getCssText=function(){return Array.from(this.rules.values()).join(`\n\n`)},y}();A.StyleSheetManager=s},702:function(G,A,O){\"use strict\";var w=this&&this.__assign||function(){return w=Object.assign||function(c){for(var l,u=1,p=arguments.length;u<p;u++)for(var f in l=arguments[u])Object.prototype.hasOwnProperty.call(l,f)&&(c[f]=l[f]);return c},w.apply(this,arguments)},s=this&&this.__awaiter||function(c,l,u,p){return new(u||(u=Promise))(function(f,b){function m(S){try{_(p.next(S))}catch(E){b(E)}}function x(S){try{_(p.throw(S))}catch(E){b(E)}}function _(S){var E;S.done?f(S.value):(E=S.value,E instanceof u?E:new u(function(j){j(E)})).then(m,x)}_((p=p.apply(c,l||[])).next())})},y=this&&this.__generator||function(c,l){var u,p,f,b={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]},m=Object.create((typeof Iterator==\"function\"?Iterator:Object).prototype);return m.next=x(0),m.throw=x(1),m.return=x(2),typeof Symbol==\"function\"&&(m[Symbol.iterator]=function(){return this}),m;function x(_){return function(S){return function(E){if(u)throw new TypeError(\"Generator is already executing.\");for(;m&&(m=0,E[0]&&(b=0)),b;)try{if(u=1,p&&(f=2&E[0]?p.return:E[0]?p.throw||((f=p.return)&&f.call(p),0):p.next)&&!(f=f.call(p,E[1])).done)return f;switch(p=0,f&&(E=[2&E[0],f.value]),E[0]){case 0:case 1:f=E;break;case 4:return b.label++,{value:E[1],done:!1};case 5:b.label++,p=E[1],E=[0];continue;case 7:E=b.ops.pop(),b.trys.pop();continue;default:if(!((f=(f=b.trys).length>0&&f[f.length-1])||E[0]!==6&&E[0]!==2)){b=0;continue}if(E[0]===3&&(!f||E[1]>f[0]&&E[1]<f[3])){b.label=E[1];break}if(E[0]===6&&b.label<f[1]){b.label=f[1],f=E;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(E);break}f[2]&&b.ops.pop(),b.trys.pop();continue}E=l.call(c,b)}catch(j){E=[6,j],p=0}finally{u=f=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([_,S])}}},g=this&&this.__values||function(c){var l=typeof Symbol==\"function\"&&Symbol.iterator,u=l&&c[l],p=0;if(u)return u.call(c);if(c&&typeof c.length==\"number\")return{next:function(){return c&&p>=c.length&&(c=void 0),{value:c&&c[p++],done:!c}}};throw new TypeError(l?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},v=this&&this.__read||function(c,l){var u=typeof Symbol==\"function\"&&c[Symbol.iterator];if(!u)return c;var p,f,b=u.call(c),m=[];try{for(;(l===void 0||l-- >0)&&!(p=b.next()).done;)m.push(p.value)}catch(x){f={error:x}}finally{try{p&&!p.done&&(u=b.return)&&u.call(b)}finally{if(f)throw f.error}}return m};Object.defineProperty(A,\"__esModule\",{value:!0}),A.DOMChangesPluginLite=void 0;var h=O(964),d=O(356),i=O(693),r=O(713),o=O(253),e=O(609),t=O(973),n=O(481),a=function(){function c(l){var u,p,f,b,m,x,_,S,E=this;if(this.mutationObserver=null,this.exposedExperiments=new Set,this.eventListeners=new Map,this.styleManagers=new Map,this.initialized=!1,this.persistenceManager=null,this.antiFlickerTimeout=null,this.antiFlickerStyleId=\"absmartly-antiflicker\",this.config={context:l.context,autoApply:(u=l.autoApply)===null||u===void 0||u,spa:(p=l.spa)===null||p===void 0||p,visibilityTracking:(f=l.visibilityTracking)===null||f===void 0||f,variableName:(b=l.variableName)!==null&&b!==void 0?b:\"__dom_changes\",debug:(m=l.debug)!==null&&m!==void 0&&m,hideUntilReady:(x=l.hideUntilReady)!==null&&x!==void 0&&x,hideTimeout:(_=l.hideTimeout)!==null&&_!==void 0?_:3e3,hideTransition:(S=l.hideTransition)!==null&&S!==void 0&&S},!this.config.context)throw new Error(\"[ABsmartly] Context is required\");console.log(\"[ABsmartly] DOMChangesPluginLite v\".concat(c.VERSION,\" initialized\")),this.config.hideUntilReady&&this.hideContent(),this.domManipulator=new h.DOMManipulatorLite(this.config.debug,this),this.variantExtractor=new d.VariantExtractor(this.config.context,this.config.variableName,this.config.debug),this.exposureTracker=new r.ExposureTracker(this.config.context,this.config.debug),this.htmlInjector=new o.HTMLInjector(this.config.debug),this.persistenceManager=new n.DOMPersistenceManager({debug:this.config.debug,onReapply:function(j,P){(0,e.logDebug)(\"[DOMChangesPluginLite] Re-applying change due to mutation\",{experimentName:P,selector:j.selector,type:j.type}),E.domManipulator.applyChange(j,P)}}),this.readyPromise=this.config.context.ready().then(function(){return(0,e.logDebug)(\"[DOMChangesPluginLite] Context is ready, starting initialization\"),E.initialize()}).catch(function(j){throw(0,e.logDebug)(\"[DOMChangesPluginLite] ERROR during initialization:\",j),j})}return c.prototype.ready=function(){return s(this,void 0,void 0,function(){return y(this,function(l){return[2,this.readyPromise]})})},c.prototype.initialize=function(){return s(this,void 0,void 0,function(){var l,u,p;return y(this,function(f){switch(f.label){case 0:if(this.initialized)return(0,e.logDebug)(\"Plugin already initialized\"),[2];l=performance.now(),(0,e.logDebug)(\"Initializing ABsmartly DOM Changes Plugin Lite\",{version:c.VERSION,config:{autoApply:this.config.autoApply,spa:this.config.spa,visibilityTracking:this.config.visibilityTracking,DEBUG:e.DEBUG}}),f.label=1;case 1:return f.trys.push([1,4,,5]),this.config.spa&&(this.setupMutationObserver(),this.setupURLChangeListener()),this.config.autoApply?[4,this.applyInjectionsAndChanges()]:[3,3];case 2:f.sent(),f.label=3;case 3:return this.initialized=!0,this.registerWithContext(),this.emit(\"initialized\"),u=performance.now()-l,(0,e.logPerformance)(\"Plugin initialization\",u),(0,e.logDebug)(\"[ABsmartly] DOM plugin lite loaded successfully (v\".concat(c.VERSION,\")\")),this.config.debug&&(0,e.logDebug)(\"[ABsmartly] DOM Changes Plugin Lite initialized with debug mode\"),[3,5];case 4:throw p=f.sent(),(0,e.logDebug)(\"[ABsmartly] Failed to initialize plugin:\",p),p;case 5:return[2]}})})},c.prototype.setupMutationObserver=function(){var l=this,u=new MutationObserver(function(p){p.forEach(function(f){f.type===\"childList\"&&f.addedNodes.forEach(function(b){var m;if(b.nodeType===Node.ELEMENT_NODE){var x=b;(((m=l.persistenceManager)===null||m===void 0?void 0:m.getAppliedChanges())||new Map).forEach(function(_,S){_.forEach(function(E){try{(x.matches(E.selector)?[x]:Array.from(x.querySelectorAll(E.selector))).forEach(function(j){l.config.debug&&(0,e.logDebug)(\"[SPA-REAPPLY] Re-applying change to newly added element (React hydration recovery)\",{experimentName:S,selector:E.selector,element:j.tagName,changeType:E.type}),l.domManipulator.applyChange(E,S)})}catch{}})})}})})});u.observe(document.body,{childList:!0,subtree:!0}),this.mutationObserver=u},c.prototype.setupURLChangeListener=function(){var l=this,u=function(){return s(l,void 0,void 0,function(){var b;return y(this,function(m){switch(m.label){case 0:return b=window.location.href,(0,e.logDebug)(\"[ABsmartly] URL changed, re-evaluating experiments:\",b),[4,this.removeAllChanges()];case 1:return m.sent(),[4,this.applyInjectionsAndChanges()];case 2:return m.sent(),[2]}})})};window.addEventListener(\"popstate\",u);var p=history.pushState,f=history.replaceState;history.pushState=function(){for(var b=[],m=0;m<arguments.length;m++)b[m]=arguments[m];p.apply(history,b),u()},history.replaceState=function(){for(var b=[],m=0;m<arguments.length;m++)b[m]=arguments[m];f.apply(history,b),u()},this.config.debug&&(0,e.logDebug)(\"[ABsmartly] URL change listener set up for SPA mode\")},c.prototype.removeAllChanges=function(){return s(this,void 0,void 0,function(){return y(this,function(l){return this.exposedExperiments.clear(),this.styleManagers.clear(),this.persistenceManager&&this.persistenceManager.clearAll(),this.htmlInjector.destroy(),this.variantExtractor.clearCache(),this.config.debug&&(0,e.logDebug)(\"[ABsmartly] All change tracking cleared for URL change\"),[2]})})},c.prototype.applyInjectionsAndChanges=function(){return s(this,void 0,void 0,function(){var l,u,p,f,b;return y(this,function(m){switch(m.label){case 0:l=performance.now(),u=window.location.href,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.config.context.ready()];case 2:return m.sent(),[3,4];case 3:return p=m.sent(),(0,e.logDebug)(\"[ABsmartly] Failed to wait for context ready:\",p),[2];case 4:return f=this.variantExtractor.extractAllInjectHTML(),[4,Promise.all([this.applyHTMLInjections(f,u),this.applyChanges()])];case 5:return m.sent(),b=performance.now()-l,(0,e.logPerformance)(\"Apply injections and changes (parallel)\",b),this.config.debug&&(0,e.logDebug)(\"[ABsmartly] HTML injections and DOM changes applied in parallel\",{duration:\"\".concat(b.toFixed(2),\"ms\"),currentURL:u}),[2]}})})},c.prototype.applyHTMLInjections=function(l){return s(this,arguments,void 0,function(u,p){var f;return p===void 0&&(p=window.location.href),y(this,function(b){return u.size===0?(this.config.debug&&(0,e.logDebug)(\"[ABsmartly] No HTML injections found\"),[2]):(f=this.htmlInjector.collectInjections(u,p),this.htmlInjector.inject(f),this.config.debug&&(0,e.logDebug)(\"[ABsmartly] HTML injections complete\",{experimentsWithInjections:u.size,totalLocations:f.size,currentUrl:p}),[2])})})},c.prototype.applyChanges=function(l){return s(this,void 0,void 0,function(){var u,p,f,b,m,x,_,S,E,j,P,T,D,M,L,U,V,z,R,B,C,k,W,N,F,I,q,H,Y,Q,Z,ie,ce,_e,ae,re,ee,ge,be,Oe,se,Se,fe,Ee,pe,je;return y(this,function(ue){switch(ue.label){case 0:u=performance.now(),p=window.location.href,(0,e.logDebug)(\"Starting to apply changes\",{specificExperiment:l||\"all\",url:p,action:\"apply_start\"}),this.config.debug&&((0,e.logDebug)(\"[ABsmartly] === DOM Changes Application Starting ===\"),(0,e.logDebug)(\"[ABsmartly] Target:\",l||\"all experiments\"),(0,e.logDebug)(\"[ABsmartly] Current URL:\",p),(0,e.logDebug)(\"[ABsmartly] Context ready:\",!0)),ue.label=1;case 1:return ue.trys.push([1,3,,4]),[4,this.config.context.ready()];case 2:return ue.sent(),[3,4];case 3:return f=ue.sent(),(0,e.logDebug)(\"[ABsmartly] Failed to wait for context ready:\",f),[2];case 4:this.variantExtractor.clearCache(),b=this.getAllExperimentsData(),m=0,x=new Map,(0,e.logDebug)(\"[ABsmartly] Experiments to process:\",Array.from(b.keys())),(0,e.logDebug)(\"[ABsmartly] Total experiments with changes:\",b.size);try{for(_=g(b),S=_.next();!S.done;S=_.next())if(E=v(S.value,2),j=E[0],P=E[1],!l||j===l)if(T=this.config.context.peek(j),D=P.variantData,M=P.urlFilter,L=P.globalDefaults,this.variantExtractor.anyVariantMatchesURL(j,p))if(U=this.shouldApplyVisualChanges(D,M,p),V=this.extractChangesFromData(D,L),z=this.extractAllVariantChanges(j),R=z.some(function(J){return J&&J.length>0}),R){if(B={total:V?.length||0,success:0,pending:0},this.config.debug&&(0,e.logDebug)(\"[ABsmartly] Processing experiment '\".concat(j,\"' (variant \").concat(T,\"):\"),{urlMatches:U,changeCount:V?.length||0,userVariantHasChanges:(V?.length||0)>0,changes:V?.map(function(J){return{type:J.type,selector:J.selector,trigger:J.trigger_on_view?\"viewport\":\"immediate\"}})||[]}),U&&V&&V.length>0)try{for(se=void 0,C=g(V),k=C.next();!k.done;k=C.next())if(ee=k.value,this.domManipulator.applyChange(ee,j))m++,B.success++;else if(ee.type!==\"create\"&&ee.type!==\"styleRules\")try{document.querySelectorAll(ee.selector).length===0&&(this.config.spa||ee.waitForElement)&&B.pending++}catch(J){this.config.debug&&(0,e.logDebug)(\"[ABsmartly] Invalid selector: \".concat(ee.selector),J)}}catch(J){se={error:J}}finally{try{k&&!k.done&&(Se=C.return)&&Se.call(C)}finally{if(se)throw se.error}}else V&&V.length>0&&(0,e.logDebug)(\"[ABsmartly] Experiment '\".concat(j,\"' variant \").concat(T,\" doesn't match URL filter or has no changes, but setting up tracking for SRM prevention\"));W=!1,N=!1,F=this.variantExtractor.getAllVariantsData(j),this.config.debug&&((0,e.logDebug)(\"[ABsmartly] Checking trigger types for experiment '\".concat(j,\"' on URL: \").concat(p),{allVariantsDataSize:F.size,allVariantChangesLength:z.length}),F.forEach(function(J,de){(0,e.logDebug)(\"[ABsmartly] Variant \".concat(de,\" data structure:\"),{isArray:Array.isArray(J),isObject:typeof J==\"object\",hasUrlFilter:J&&typeof J==\"object\"&&!Array.isArray(J)&&\"urlFilter\"in J,keys:J&&typeof J==\"object\"&&!Array.isArray(J)?Object.keys(J):\"N/A\"})}));try{for(fe=void 0,I=g(F),q=I.next();!q.done;q=I.next())if(H=v(q.value,2),Y=H[0],Q=H[1],(Z=z[Y])&&Z.length!==0){if(ie=!0,Q&&typeof Q==\"object\"&&!Array.isArray(Q)&&\"urlFilter\"in(ce=Q)&&ce.urlFilter&&(_e=ce,ie=t.URLMatcher.matches(_e.urlFilter,p),this.config.debug&&(0,e.logDebug)(\"[ABsmartly] Variant \".concat(Y,\" has URL filter, matches: \").concat(ie))),ie){try{for(pe=void 0,ae=g(Z),re=ae.next();!re.done&&((ee=re.value).trigger_on_view?W=!0:N=!0,!W||!N);re=ae.next());}catch(J){pe={error:J}}finally{try{re&&!re.done&&(je=ae.return)&&je.call(ae)}finally{if(pe)throw pe.error}}this.config.debug&&(0,e.logDebug)(\"[ABsmartly] Variant \".concat(Y,\" matches URL - hasImmediate: \").concat(N,\", hasViewport: \").concat(W))}else this.config.debug&&(0,e.logDebug)(\"[ABsmartly] Variant \".concat(Y,\" does NOT match URL - skipping\"));if(W&&N)break}}catch(J){fe={error:J}}finally{try{q&&!q.done&&(Ee=I.return)&&Ee.call(I)}finally{if(fe)throw fe.error}}this.config.debug&&(0,e.logDebug)(\"[ABsmartly] Final trigger decision for '\".concat(j,\"': hasImmediate=\").concat(N,\", hasViewport=\").concat(W)),(W||N)&&this.exposureTracker.registerExperiment(j,T||0,V||[],z,N,W),x.set(j,B),(0,e.logExperimentSummary)(j,B.total,B.success,B.pending)}else this.config.debug&&(0,e.logDebug)(\"[ABsmartly] Skipping experiment '\".concat(j,\"' - no variants have changes\"));else(0,e.logDebug)(\"[ABsmartly] Skipping experiment '\".concat(j,\"' - no variant matches URL: \").concat(p))}catch(J){be={error:J}}finally{try{S&&!S.done&&(Oe=_.return)&&Oe.call(_)}finally{if(be)throw be.error}}return ge=performance.now()-u,(0,e.logPerformance)(\"Apply changes\",ge,{totalApplied:m,experiments:x.size}),this.config.debug&&((0,e.logDebug)(\"[ABsmartly] === DOM Changes Application Complete ===\"),(0,e.logDebug)(\"[ABsmartly] Summary:\",{totalChangesApplied:m,experimentsProcessed:x.size,duration:\"\".concat(ge.toFixed(2),\"ms\"),experiments:Array.from(x.entries()).map(function(J){var de=v(J,2),Te=de[0],ye=de[1];return{name:Te,total:ye.total,success:ye.success,pending:ye.pending,pendingReason:ye.pending>0?\"Elements not found yet (SPA mode will retry)\":void 0}})})),this.config.hideUntilReady&&this.showContent(),this.emit(\"changes-applied\",{count:m,experimentName:l}),[2]}})})},c.prototype.getAllExperimentsData=function(){var l,u,p=new Map,f=this.variantExtractor.extractAllChanges();try{for(var b=g(f),m=b.next();!m.done;m=b.next()){var x=v(m.value,1)[0],_=this.config.context.peek(x);if(_!=null){var S=this.variantExtractor.getAllVariantsData(x).get(_);if(S){var E=null,j={};if(S&&typeof S==\"object\"&&!Array.isArray(S)&&\"changes\"in S){var P=S;E=P.urlFilter,j={waitForElement:P.waitForElement,persistStyle:P.persistStyle,important:P.important,observerRoot:P.observerRoot}}p.set(x,{variantData:S,urlFilter:E,globalDefaults:j})}}}}catch(T){l={error:T}}finally{try{m&&!m.done&&(u=b.return)&&u.call(b)}finally{if(l)throw l.error}}return p},c.prototype.extractChangesFromData=function(l,u){var p=null;return Array.isArray(l)?p=l:l&&typeof l==\"object\"&&\"changes\"in l&&(p=l.changes),p&&p.length!==0?p.map(function(f){var b,m,x,_;return w(w({},f),{waitForElement:(b=f.waitForElement)!==null&&b!==void 0?b:u.waitForElement,persistStyle:(m=f.persistStyle)!==null&&m!==void 0?m:u.persistStyle,important:(x=f.important)!==null&&x!==void 0?x:u.important,observerRoot:(_=f.observerRoot)!==null&&_!==void 0?_:u.observerRoot})}):null},c.prototype.extractAllVariantChanges=function(l){for(var u=this.variantExtractor.getAllVariantChanges(l),p=this.variantExtractor.getAllVariantsData(l),f=[],b=function(x){var _=u[x],S=p.get(x);if(!_||_.length===0)return f.push([]),\"continue\";var E={};if(S&&typeof S==\"object\"&&!Array.isArray(S)&&\"changes\"in S){var j=S;E={waitForElement:j.waitForElement,persistStyle:j.persistStyle,important:j.important,observerRoot:j.observerRoot}}var P=_.map(function(T){var D,M,L,U;return w(w({},T),{waitForElement:(D=T.waitForElement)!==null&&D!==void 0?D:E.waitForElement,persistStyle:(M=T.persistStyle)!==null&&M!==void 0?M:E.persistStyle,important:(L=T.important)!==null&&L!==void 0?L:E.important,observerRoot:(U=T.observerRoot)!==null&&U!==void 0?U:E.observerRoot})});f.push(P)},m=0;m<u.length;m++)b(m);return f},c.prototype.shouldApplyVisualChanges=function(l,u,p){return!!Array.isArray(l)||!u||t.URLMatcher.matches(u,p)},c.prototype.hasChanges=function(l){return this.domManipulator.hasChanges(l)},c.prototype.applyChange=function(l,u){(0,e.logDebug)(\"Applying single change via public API\",{experimentName:u,selector:l.selector,changeType:l.type});try{var p=this.domManipulator.applyChange(l,u);return p&&this.emit(\"change_applied\",{experimentName:u,change:l}),p}catch(f){return this.config.debug&&(0,e.logDebug)(\"[ABsmartly] Error applying change:\",f),!1}},c.prototype.on=function(l,u){var p=this.eventListeners.get(l)||[];p.push(u),this.eventListeners.set(l,p)},c.prototype.off=function(l,u){if(u){var p=this.eventListeners.get(l)||[],f=p.indexOf(u);f!==-1&&p.splice(f,1)}else this.eventListeners.delete(l)},c.prototype.emit=function(l,u){var p,f,b=this.eventListeners.get(l)||[];try{for(var m=g(b),x=m.next();!x.done;x=m.next()){var _=x.value;try{_(u)}catch(S){(0,e.logDebug)(\"[ABsmartly] Error in event listener for \".concat(l,\":\"),S)}}}catch(S){p={error:S}}finally{try{x&&!x.done&&(f=m.return)&&f.call(m)}finally{if(p)throw p.error}}},c.prototype.getStyleManager=function(l){var u=\"absmartly-styles-\".concat(l),p=this.styleManagers.get(l);return p||(p=new i.StyleSheetManager(u,this.config.debug),this.styleManagers.set(l,p)),p},c.prototype.buildCssRule=function(l,u,p){p===void 0&&(p=!0);var f=Object.entries(u).map(function(b){var m=v(b,2),x=m[0],_=m[1],S=x.replace(/([A-Z])/g,\"-$1\").toLowerCase(),E=p?\" !important\":\"\";return\"  \".concat(S,\": \").concat(_).concat(E,\";\")}).join(`\n`);return\"\".concat(l,` {\n`).concat(f,`\n}`)},c.prototype.buildStateRules=function(l,u,p){p===void 0&&(p=!0);var f=[];return u.normal&&f.push(this.buildCssRule(l,u.normal,p)),u.hover&&f.push(this.buildCssRule(\"\".concat(l,\":hover\"),u.hover,p)),u.active&&f.push(this.buildCssRule(\"\".concat(l,\":active\"),u.active,p)),u.focus&&f.push(this.buildCssRule(\"\".concat(l,\":focus\"),u.focus,p)),f.join(`\n\n`)},c.prototype.refreshExperiments=function(){this.config.debug&&(0,e.logDebug)(\"[ABsmartly] Refreshing experiments and clearing cache\"),this.variantExtractor.clearCache(),this.config.autoApply&&this.applyInjectionsAndChanges()},c.prototype.destroy=function(){this.domManipulator.destroy(),this.exposureTracker.destroy(),this.htmlInjector.destroy(),this.styleManagers.forEach(function(u){return u.destroy()}),this.styleManagers.clear(),this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),this.persistenceManager&&(this.persistenceManager.destroy(),this.persistenceManager=null),this.antiFlickerTimeout!==null&&(clearTimeout(this.antiFlickerTimeout),this.antiFlickerTimeout=null);var l=document.getElementById(this.antiFlickerStyleId);l&&l.remove(),this.eventListeners.clear(),this.exposedExperiments.clear(),this.unregisterFromContext(),this.initialized=!1,this.config.debug&&(0,e.logDebug)(\"[ABsmartly] DOM Changes Plugin Lite destroyed\")},c.prototype.registerWithContext=function(){this.config.context&&(this.config.context.__plugins||(this.config.context.__plugins={}),this.config.context.__plugins.domPlugin={name:\"DOMChangesPluginLite\",version:c.VERSION,initialized:!0,capabilities:[\"spa\",\"visibility\"],instance:this,timestamp:Date.now()},this.config.context.__domPlugin=this.config.context.__plugins.domPlugin,this.config.debug&&(0,e.logDebug)(\"[ABsmartly] DOMChangesPluginLite registered with context at __plugins.domPlugin\"))},c.prototype.unregisterFromContext=function(){var l;this.config.context&&(!((l=this.config.context.__plugins)===null||l===void 0)&&l.domPlugin&&delete this.config.context.__plugins.domPlugin,this.config.context.__domPlugin&&delete this.config.context.__domPlugin,this.config.debug&&(0,e.logDebug)(\"[ABsmartly] DOMChangesPluginLite unregistered from context\"))},c.prototype.hideContent=function(){var l=this,u=this.config.hideUntilReady;if(u&&!document.getElementById(this.antiFlickerStyleId)){var p=document.createElement(\"style\");p.id=this.antiFlickerStyleId;var f=this.config.hideTransition!==!1;p.textContent=`\n        `.concat(u,f?` {\n          visibility: hidden !important;\n          opacity: 0 !important;\n        }\n      `:` {\n          visibility: hidden !important;\n        }\n      `),document.head.appendChild(p),this.antiFlickerTimeout=window.setTimeout(function(){l.config.debug&&(0,e.logDebug)(\"[ABsmartly] Anti-flicker timeout reached (\".concat(l.config.hideTimeout,\"ms), showing content\")),l.showContent()},this.config.hideTimeout),this.config.debug&&(0,e.logDebug)(\"[ABsmartly] Anti-flicker enabled (selector: '\".concat(u,\"', transition: \").concat(f?this.config.hideTransition:\"none\",\", timeout: \").concat(this.config.hideTimeout,\"ms)\"))}},c.prototype.showContent=function(){var l=this;this.antiFlickerTimeout!==null&&(clearTimeout(this.antiFlickerTimeout),this.antiFlickerTimeout=null);var u=document.getElementById(this.antiFlickerStyleId);if(u)if(this.config.hideTransition!==!1){var p=this.config.hideUntilReady;u.textContent=`\n        `.concat(p,` {\n          opacity: 0 !important;\n          transition: opacity `).concat(this.config.hideTransition,` !important;\n        }\n      `),u.offsetHeight,u.textContent=`\n        `.concat(p,` {\n          opacity: 1 !important;\n          transition: opacity `).concat(this.config.hideTransition,` !important;\n        }\n      `);var f=1e3*parseFloat(this.config.hideTransition);setTimeout(function(){u.remove(),l.config.debug&&(0,e.logDebug)(\"[ABsmartly] Anti-flicker fade-in complete, style removed\")},f),this.config.debug&&(0,e.logDebug)(\"[ABsmartly] Anti-flicker fading in with transition: \".concat(this.config.hideTransition))}else u.remove(),this.config.debug&&(0,e.logDebug)(\"[ABsmartly] Anti-flicker removed, content now visible\")},c.prototype.watchElement=function(l,u,p){this.persistenceManager&&this.persistenceManager.watchElement(l,u,p)},c.prototype.unwatchElement=function(l,u){this.persistenceManager&&this.persistenceManager.unwatchElement(l,u)},c.VERSION=\"1.1.2\",c}();A.DOMChangesPluginLite=a},713:function(G,A,O){\"use strict\";var w=this&&this.__awaiter||function(d,i,r,o){return new(r||(r=Promise))(function(e,t){function n(l){try{c(o.next(l))}catch(u){t(u)}}function a(l){try{c(o.throw(l))}catch(u){t(u)}}function c(l){var u;l.done?e(l.value):(u=l.value,u instanceof r?u:new r(function(p){p(u)})).then(n,a)}c((o=o.apply(d,i||[])).next())})},s=this&&this.__generator||function(d,i){var r,o,e,t={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]},n=Object.create((typeof Iterator==\"function\"?Iterator:Object).prototype);return n.next=a(0),n.throw=a(1),n.return=a(2),typeof Symbol==\"function\"&&(n[Symbol.iterator]=function(){return this}),n;function a(c){return function(l){return function(u){if(r)throw new TypeError(\"Generator is already executing.\");for(;n&&(n=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(e=2&u[0]?o.return:u[0]?o.throw||((e=o.return)&&e.call(o),0):o.next)&&!(e=e.call(o,u[1])).done)return e;switch(o=0,e&&(u=[2&u[0],e.value]),u[0]){case 0:case 1:e=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!((e=(e=t.trys).length>0&&e[e.length-1])||u[0]!==6&&u[0]!==2)){t=0;continue}if(u[0]===3&&(!e||u[1]>e[0]&&u[1]<e[3])){t.label=u[1];break}if(u[0]===6&&t.label<e[1]){t.label=e[1],e=u;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(u);break}e[2]&&t.ops.pop(),t.trys.pop();continue}u=i.call(d,t)}catch(p){u=[6,p],o=0}finally{r=e=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([c,l])}}},y=this&&this.__read||function(d,i){var r=typeof Symbol==\"function\"&&d[Symbol.iterator];if(!r)return d;var o,e,t=r.call(d),n=[];try{for(;(i===void 0||i-- >0)&&!(o=t.next()).done;)n.push(o.value)}catch(a){e={error:a}}finally{try{o&&!o.done&&(r=t.return)&&r.call(t)}finally{if(e)throw e.error}}return n},g=this&&this.__spreadArray||function(d,i,r){if(r||arguments.length===2)for(var o,e=0,t=i.length;e<t;e++)!o&&e in i||(o||(o=Array.prototype.slice.call(i,0,e)),o[e]=i[e]);return d.concat(o||Array.prototype.slice.call(i))};Object.defineProperty(A,\"__esModule\",{value:!0}),A.ExposureTracker=void 0;var v=O(609),h=function(){function d(i,r){r===void 0&&(r=!1),this.context=i,this.experiments=new Map,this.trackedElements=new Map,this.mutationObserver=null,this.placeholders=new Map,this.debug=r,this.setupIntersectionObserver()}return d.prototype.registerExperiment=function(i,r,o,e,t,n){var a=this;this.debug&&(0,v.logDebug)(\"[ABsmartly] Registering experiment \".concat(i,\" for exposure tracking\"));var c=new Set,l=new Set,u=new Map;e.forEach(function(f){f.forEach(function(b){b.trigger_on_view&&(b.type===\"move\"?(u.has(b.selector)||u.set(b.selector,new Set),b.targetSelector&&u.get(b.selector).add(b.targetSelector)):c.add(b.selector))})}),u.forEach(function(f,b){var m=[];e.forEach(function(_,S){var E=_.find(function(j){return j.type===\"move\"&&j.selector===b&&j.trigger_on_view});E?.targetSelector&&m.push({targetSelector:E.targetSelector,position:E.position||\"lastChild\",variantIndex:S})});var x=m.findIndex(function(_){return _.variantIndex===r});x>=0?(c.add(b),m.forEach(function(_,S){S!==x&&a.createContainerPlaceholder(i,b,_.targetSelector,_.position)})):(c.add(b),m.forEach(function(_){a.createContainerPlaceholder(i,b,_.targetSelector,_.position)}))});var p={experimentName:i,variant:r,changes:o,allPossibleSelectors:new Set(g(g([],y(c),!1),y(l),!1)),triggered:!1,hasImmediateTrigger:t,hasViewportTrigger:n};this.experiments.set(i,p),this.debug&&(0,v.logDebug)(\"[ABsmartly] Experiment \".concat(i,\" will track selectors:\"),Array.from(p.allPossibleSelectors)),t?this.triggerExposure(i).catch(function(f){(0,v.logDebug)(\"[ABsmartly] Failed to trigger exposure for \".concat(i,\":\"),f)}):n&&this.observeSelectors(i,p.allPossibleSelectors)},d.prototype.createContainerPlaceholder=function(i,r,o,e){var t,n;e===void 0&&(e=\"lastChild\");var a=document.querySelector(o);if(a){var c=\"\".concat(i,\"-\").concat(r,\"-\").concat(o,\"-\").concat(e);if(!this.placeholders.has(c)){var l=document.createElement(\"span\");switch(l.style.cssText=`\n      display: inline-block;\n      width: 1px;\n      height: 1px;\n      position: relative;\n      left: -1px;\n      visibility: hidden;\n      pointer-events: none;\n      font-size: 0;\n      line-height: 0;\n      overflow: hidden;\n    `,l.setAttribute(\"data-absmartly-placeholder\",\"true\"),l.setAttribute(\"data-absmartly-original-selector\",r),l.setAttribute(\"data-absmartly-experiment\",i),l.setAttribute(\"aria-hidden\",\"true\"),e){case\"firstChild\":a.insertBefore(l,a.firstChild);break;case\"lastChild\":default:a.appendChild(l);break;case\"before\":(t=a.parentElement)===null||t===void 0||t.insertBefore(l,a);break;case\"after\":(n=a.parentElement)===null||n===void 0||n.insertBefore(l,a.nextSibling)}this.placeholders.set(c,l),this.trackElement(l,i),this.debug&&(0,v.logDebug)(\"[ABsmartly] Created placeholder for \".concat(r,\" at \").concat(o,\" (\").concat(e,\")\"))}}},d.prototype.getOriginalParentForMove=function(i){var r=document.querySelector(i);return r?.parentElement?this.getStableParentSelector(r.parentElement):null},d.prototype.getStableParentSelector=function(i){if(i.id)return\"#\".concat(i.id);if(i.className){var r=i.className.split(\" \").filter(function(t){return t&&!t.startsWith(\"absmartly\")});if(r.length>0)return\".\".concat(r[0])}var o=i.parentElement;if(o){var e=Array.from(o.children).indexOf(i);return\"\".concat(i.tagName.toLowerCase(),\":nth-child(\").concat(e+1,\")\")}return null},d.prototype.observeSelectors=function(i,r){var o=this;r.forEach(function(e){var t=document.querySelectorAll(e);t.length>0?t.forEach(function(n){o.trackElement(n,i)}):o.watchForSelector(e,i)})},d.prototype.trackElement=function(i,r){this.trackedElements.has(i)?this.trackedElements.get(i).experiments.add(r):(this.trackedElements.set(i,{element:i,experiments:new Set([r]),isPlaceholder:i.hasAttribute(\"data-absmartly-placeholder\")}),this.observer.observe(i))},d.prototype.watchForSelector=function(i,r){this.mutationObserver||this.setupMutationObserver()},d.prototype.setupIntersectionObserver=function(){var i=this;this.observer=new IntersectionObserver(function(r){r.forEach(function(o){o.isIntersecting&&i.handleElementVisible(o.target)})},{threshold:.01,rootMargin:\"0px\"})},d.prototype.setupMutationObserver=function(){var i=this;this.mutationObserver=new MutationObserver(function(r){r.forEach(function(o){o.addedNodes.forEach(function(e){e instanceof Element&&i.checkNewElement(e)})})}),this.mutationObserver.observe(document.body,{childList:!0,subtree:!0})},d.prototype.checkNewElement=function(i){var r=this;this.experiments.forEach(function(o,e){o.allPossibleSelectors.forEach(function(t){i.matches(t)&&r.trackElement(i,e),i.querySelectorAll(t).forEach(function(n){r.trackElement(n,e)})})})},d.prototype.handleElementVisible=function(i){var r=this,o=this.trackedElements.get(i);o&&o.experiments.forEach(function(e){var t=r.experiments.get(e);if(t&&!t.triggered&&(r.triggerExposure(e).catch(function(a){(0,v.logDebug)(\"[ABsmartly] Failed to trigger exposure for \".concat(e,\":\"),a)}),r.debug)){var n=o.isPlaceholder?i.getAttribute(\"data-absmartly-original-selector\"):r.getElementSelector(i);(0,v.logDebug)(\"[ABsmartly] Triggering exposure for \".concat(e,\" via \").concat(n))}})},d.prototype.triggerExposure=function(i){return w(this,void 0,void 0,function(){var r;return s(this,function(o){switch(o.label){case 0:return!(r=this.experiments.get(i))||r.triggered?[2]:[4,this.context.ready()];case 1:return o.sent(),this.context.treatment(i),r.triggered=!0,this.debug&&(0,v.logDebug)(\"[ABsmartly] Exposure triggered for experiment: \".concat(i)),this.cleanupExperiment(i),[2]}})})},d.prototype.cleanupExperiment=function(i){var r=this;this.trackedElements.forEach(function(e,t){e.experiments.delete(i),e.experiments.size===0&&(r.observer.unobserve(t),r.trackedElements.delete(t))}),this.placeholders.forEach(function(e,t){t.startsWith(\"\".concat(i,\"-\"))&&(e.remove(),r.placeholders.delete(t))});var o=this.experiments.get(i);o&&o.allPossibleSelectors.clear(),this.experiments.size===0&&this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null)},d.prototype.getElementSelector=function(i){if(i.id)return\"#\".concat(i.id);if(i.className){var r=i.className.split(\" \").filter(function(o){return o&&!o.startsWith(\"absmartly\")});if(r.length>0)return\".\".concat(r.join(\".\"))}return i.tagName.toLowerCase()},d.prototype.needsViewportTracking=function(i){var r,o=this.experiments.get(i);return(r=o?.hasViewportTrigger)!==null&&r!==void 0&&r},d.prototype.isTriggered=function(i){var r,o=this.experiments.get(i);return(r=o?.triggered)!==null&&r!==void 0&&r},d.prototype.destroy=function(){this.observer.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect(),this.placeholders.forEach(function(i){return i.remove()}),this.experiments.clear(),this.trackedElements.clear(),this.placeholders.clear(),this.debug&&(0,v.logDebug)(\"[ABsmartly] ExposureTracker destroyed\")},d}();A.ExposureTracker=h},796:function(G,A){(function(O){\"use strict\";let w=-1,s=C=>{addEventListener(\"pageshow\",k=>{k.persisted&&(w=k.timeStamp,C(k))},!0)},y=(C,k,W,N)=>{let F,I;return q=>{k.value>=0&&(q||N)&&(I=k.value-(F??0),(I||F===void 0)&&(F=k.value,k.delta=I,k.rating=((H,Y)=>H>Y[1]?\"poor\":H>Y[0]?\"needs-improvement\":\"good\")(k.value,W),C(k)))}},g=C=>{requestAnimationFrame(()=>requestAnimationFrame(()=>C()))},v=()=>{let C=performance.getEntriesByType(\"navigation\")[0];if(C&&C.responseStart>0&&C.responseStart<performance.now())return C},h=()=>v()?.activationStart??0,d=(C,k=-1)=>{let W=v(),N=\"navigate\";return w>=0?N=\"back-forward-cache\":W&&(document.prerendering||h()>0?N=\"prerender\":document.wasDiscarded?N=\"restore\":W.type&&(N=W.type.replace(/_/g,\"-\"))),{name:C,value:k,rating:\"good\",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:N}},i=new WeakMap;function r(C,k){return i.get(C)||i.set(C,new k),i.get(C)}class o{t;i=0;o=[];h(k){if(k.hadRecentInput)return;let W=this.o[0],N=this.o.at(-1);this.i&&W&&N&&k.startTime-N.startTime<1e3&&k.startTime-W.startTime<5e3?(this.i+=k.value,this.o.push(k)):(this.i=k.value,this.o=[k]),this.t?.(k)}}let e=(C,k,W={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(C)){let N=new PerformanceObserver(F=>{Promise.resolve().then(()=>{k(F.getEntries())})});return N.observe({type:C,buffered:!0,...W}),N}}catch{}},t=C=>{let k=!1;return()=>{k||(C(),k=!0)}},n=-1,a=new Set,c=()=>document.visibilityState!==\"hidden\"||document.prerendering?1/0:0,l=C=>{if(document.visibilityState===\"hidden\"){if(C.type===\"visibilitychange\")for(let k of a)k();isFinite(n)||(n=C.type===\"visibilitychange\"?C.timeStamp:0,removeEventListener(\"prerenderingchange\",l,!0))}},u=()=>{if(n<0){let C=h();n=(document.prerendering?void 0:globalThis.performance.getEntriesByType(\"visibility-state\").filter(W=>W.name===\"hidden\"&&W.startTime>C)[0]?.startTime)??c(),addEventListener(\"visibilitychange\",l,!0),addEventListener(\"prerenderingchange\",l,!0),s(()=>{setTimeout(()=>{n=c()})})}return{get firstHiddenTime(){return n},onHidden(C){a.add(C)}}},p=C=>{document.prerendering?addEventListener(\"prerenderingchange\",()=>C(),!0):C()},f=[1800,3e3],b=(C,k={})=>{p(()=>{let W=u(),N,F=d(\"FCP\"),I=e(\"paint\",q=>{for(let H of q)H.name===\"first-contentful-paint\"&&(I.disconnect(),H.startTime<W.firstHiddenTime&&(F.value=Math.max(H.startTime-h(),0),F.entries.push(H),N(!0)))});I&&(N=y(C,F,f,k.reportAllChanges),s(q=>{F=d(\"FCP\"),N=y(C,F,f,k.reportAllChanges),g(()=>{F.value=performance.now()-q.timeStamp,N(!0)})}))})},m=[.1,.25],x=0,_=1/0,S=0,E=C=>{for(let k of C)k.interactionId&&(_=Math.min(_,k.interactionId),S=Math.max(S,k.interactionId),x=S?(S-_)/7+1:0)},j,P=()=>j?x:performance.interactionCount??0,T=()=>{\"interactionCount\"in performance||j||(j=e(\"event\",E,{type:\"event\",buffered:!0,durationThreshold:0}))},D=0;class M{u=[];l=new Map;p;m;v(){D=P(),this.u.length=0,this.l.clear()}T(){let k=Math.min(this.u.length-1,Math.floor((P()-D)/50));return this.u[k]}h(k){if(this.p?.(k),!k.interactionId&&k.entryType!==\"first-input\")return;let W=this.u.at(-1),N=this.l.get(k.interactionId);if(N||this.u.length<10||k.duration>W.L){if(N?k.duration>N.L?(N.entries=[k],N.L=k.duration):k.duration===N.L&&k.startTime===N.entries[0].startTime&&N.entries.push(k):(N={id:k.interactionId,entries:[k],L:k.duration},this.l.set(N.id,N),this.u.push(N)),this.u.sort((F,I)=>I.L-F.L),this.u.length>10){let F=this.u.splice(10);for(let I of F)this.l.delete(I.id)}this.m?.(N)}}}let L=C=>{let k=globalThis.requestIdleCallback||setTimeout;document.visibilityState===\"hidden\"?C():(C=t(C),addEventListener(\"visibilitychange\",C,{once:!0,capture:!0}),k(()=>{C(),removeEventListener(\"visibilitychange\",C,{capture:!0})}))},U=[200,500];class V{p;h(k){this.p?.(k)}}let z=[2500,4e3],R=[800,1800],B=C=>{document.prerendering?p(()=>B(C)):document.readyState!==\"complete\"?addEventListener(\"load\",()=>B(C),!0):setTimeout(C)};O.CLSThresholds=m,O.FCPThresholds=f,O.INPThresholds=U,O.LCPThresholds=z,O.TTFBThresholds=R,O.onCLS=(C,k={})=>{let W=u();b(t(()=>{let N,F=d(\"CLS\",0),I=r(k,o),q=Y=>{for(let Q of Y)I.h(Q);I.i>F.value&&(F.value=I.i,F.entries=I.o,N())},H=e(\"layout-shift\",q);H&&(N=y(C,F,m,k.reportAllChanges),W.onHidden(()=>{q(H.takeRecords()),N(!0)}),s(()=>{I.i=0,F=d(\"CLS\",0),N=y(C,F,m,k.reportAllChanges),g(()=>N())}),setTimeout(N))}))},O.onFCP=b,O.onINP=(C,k={})=>{if(!globalThis.PerformanceEventTiming||!(\"interactionId\"in PerformanceEventTiming.prototype))return;let W=u();p(()=>{T();let N,F=d(\"INP\"),I=r(k,M),q=Y=>{L(()=>{for(let Z of Y)I.h(Z);let Q=I.T();Q&&Q.L!==F.value&&(F.value=Q.L,F.entries=Q.entries,N())})},H=e(\"event\",q,{durationThreshold:k.durationThreshold??40});N=y(C,F,U,k.reportAllChanges),H&&(H.observe({type:\"first-input\",buffered:!0}),W.onHidden(()=>{q(H.takeRecords()),N(!0)}),s(()=>{I.v(),F=d(\"INP\"),N=y(C,F,U,k.reportAllChanges)}))})},O.onLCP=(C,k={})=>{p(()=>{let W=u(),N,F=d(\"LCP\"),I=r(k,V),q=Y=>{k.reportAllChanges||(Y=Y.slice(-1));for(let Q of Y)I.h(Q),Q.startTime<W.firstHiddenTime&&(F.value=Math.max(Q.startTime-h(),0),F.entries=[Q],N())},H=e(\"largest-contentful-paint\",q);if(H){N=y(C,F,z,k.reportAllChanges);let Y=t(()=>{q(H.takeRecords()),H.disconnect(),N(!0)}),Q=Z=>{Z.isTrusted&&(L(Y),removeEventListener(Z.type,Q,{capture:!0}))};for(let Z of[\"keydown\",\"click\",\"visibilitychange\"])addEventListener(Z,Q,{capture:!0});s(Z=>{F=d(\"LCP\"),N=y(C,F,z,k.reportAllChanges),g(()=>{F.value=performance.now()-Z.timeStamp,N(!0)})})}})},O.onTTFB=(C,k={})=>{let W=d(\"TTFB\"),N=y(C,W,R,k.reportAllChanges);B(()=>{let F=v();F&&(W.value=Math.max(F.responseStart-h(),0),W.entries=[F],N(!0),s(()=>{W=d(\"TTFB\",0),N=y(C,W,R,k.reportAllChanges),N(!0)}))})}})(A)},964:function(G,A,O){\"use strict\";var w=this&&this.__values||function(d){var i=typeof Symbol==\"function\"&&Symbol.iterator,r=i&&d[i],o=0;if(r)return r.call(d);if(d&&typeof d.length==\"number\")return{next:function(){return d&&o>=d.length&&(d=void 0),{value:d&&d[o++],done:!d}}};throw new TypeError(i?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")},s=this&&this.__read||function(d,i){var r=typeof Symbol==\"function\"&&d[Symbol.iterator];if(!r)return d;var o,e,t=r.call(d),n=[];try{for(;(i===void 0||i-- >0)&&!(o=t.next()).done;)n.push(o.value)}catch(a){e={error:a}}finally{try{o&&!o.done&&(r=t.return)&&r.call(t)}finally{if(e)throw e.error}}return n},y=this&&this.__spreadArray||function(d,i,r){if(r||arguments.length===2)for(var o,e=0,t=i.length;e<t;e++)!o&&e in i||(o||(o=Array.prototype.slice.call(i,0,e)),o[e]=i[e]);return d.concat(o||Array.prototype.slice.call(i))};Object.defineProperty(A,\"__esModule\",{value:!0}),A.DOMManipulatorLite=void 0;var g=O(609),v=O(214),h=function(){function d(i,r){i===void 0&&(i=!1);var o=this;this.appliedChanges=new Map,this.debug=i,this.plugin=r,this.pendingManager=new v.PendingChangeManager(function(e,t,n){return n?o.applyChangeToSpecificElement(e,t,n):o.applyChange(e,t)},i)}return d.prototype.applyChange=function(i,r){var o,e,t=this;if(!i.enabled&&i.enabled!==void 0)return(0,g.logDebug)(\"Skipping disabled change for experiment: \".concat(r),{experimentName:r,selector:i.selector,changeType:i.type}),!1;var n=!!this.plugin.reapplyingElements&&Array.from(this.plugin.reapplyingElements).length>0;this.debug&&(0,g.logDebug)(\"[DOM-APPLY] \".concat(n?\"RE-APPLYING\":\"APPLYING\",\" change\"),{experimentName:r,selector:i.selector,type:i.type,timestamp:Date.now(),callStack:(o=new Error().stack)===null||o===void 0?void 0:o.split(`\n`).slice(2,4).join(`\n`)});try{if(i.type===\"styleRules\")return this.applyStyleRules(i,r);if(i.type===\"create\")return!!(i.element&&i.targetSelector&&this.createElement(i,r))&&(this.trackAppliedChange(r,i),(0,g.logChangeApplication)(r,i.targetSelector,i.type,1,!0),!0);var a=document.querySelectorAll(i.selector),c=[];if(a.length===0)return i.waitForElement||!((e=this.plugin.config)===null||e===void 0)&&e.spa?(this.debug&&(0,g.logDebug)(\"[ABsmartly] Element not found, adding to pending: \".concat(i.selector)),this.pendingManager.addPending({change:i,experimentName:r,observerRoot:i.observerRoot}),!0):(this.debug&&(0,g.logDebug)(\"[ABsmartly] No elements found for selector: \".concat(i.selector)),(0,g.logDebug)(\"No elements found for selector\",{experimentName:r,selector:i.selector,changeType:i.type}),!1);if(a.forEach(function(u){var p,f;if(t.debug&&i.type===\"style\"){var b={};i.value&&typeof i.value==\"object\"&&Object.keys(i.value).forEach(function(E){var j=E.replace(/([A-Z])/g,\"-$1\").toLowerCase();b[j]=u.style.getPropertyValue(j)}),(0,g.logDebug)(\"[DOM-BEFORE-APPLY] Element styles before change\",{experimentName:r,selector:i.selector,element:u.tagName,oldStyles:b,newStyles:i.value})}if(t.applyChangeToElement(u,i),t.debug&&i.type===\"style\"){var m={};i.value&&typeof i.value==\"object\"&&Object.keys(i.value).forEach(function(E){var j=E.replace(/([A-Z])/g,\"-$1\").toLowerCase();m[j]=u.style.getPropertyValue(j)}),(0,g.logDebug)(\"[DOM-AFTER-APPLY] Element styles after change\",{experimentName:r,selector:i.selector,element:u.tagName,appliedStyles:m})}if(i.type===\"javascript\"){if(i.value)try{new Function(\"element\",String(i.value))(u),c.push(u)}catch(E){(0,g.logDebug)(\"[ABsmartly] JavaScript execution error:\",E)}}else if(i.type===\"move\"){var x=i.targetSelector||(i.value&&typeof i.value==\"object\"?i.value.targetSelector:null),_=i.position||(i.value&&typeof i.value==\"object\"?i.value.position:null);if(x){var S=document.querySelector(x);S?(t.moveElement(u,S,_),c.push(u)):t.debug&&(0,g.logDebug)(\"[ABsmartly] Move target not found: \".concat(x))}}else c.push(u);i.type===\"style\"&&i.persistStyle||!((p=t.plugin.config)===null||p===void 0)&&p.spa?t.plugin.watchElement(u,r,i):i.type===\"style\"&&t.debug&&(0,g.logDebug)(\"[WATCH-SKIP] NOT watching element - persistStyle and SPA both disabled\",{experimentName:r,selector:i.selector,element:u.tagName,persistStyle:i.persistStyle,spaMode:(f=t.plugin.config)===null||f===void 0?void 0:f.spa})}),c.length>0){this.trackAppliedChange(r,i),i.waitForElement&&this.pendingManager.removePending(i.selector,r,i.observerRoot);var l=c.some(function(u){var p;return(p=t.plugin.reapplyingElements)===null||p===void 0?void 0:p.has(u)});return l||(0,g.logChangeApplication)(r,i.selector,i.type,c.length,!0),!0}return(0,g.logChangeApplication)(r,i.selector,i.type,0,!1),!1}catch(u){return this.debug&&(0,g.logDebug)(\"[ABsmartly] Error applying DOM change:\",u,i),(0,g.logDebug)(\"Error applying DOM change\",{experimentName:r,selector:i.selector,changeType:i.type,error:u instanceof Error?u.message:\"Unknown error\"}),!1}},d.prototype.moveElement=function(i,r,o){var e,t,n;switch(o){case\"before\":(e=r.parentElement)===null||e===void 0||e.insertBefore(i,r);break;case\"after\":r.nextSibling?(t=r.parentElement)===null||t===void 0||t.insertBefore(i,r.nextSibling):(n=r.parentElement)===null||n===void 0||n.appendChild(i);break;case\"firstChild\":r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i);break;default:r.appendChild(i)}},d.prototype.createElement=function(i,r){var o,e;if(!i.element||!i.targetSelector)return null;var t=document.querySelector(i.targetSelector);if(!t)return this.debug&&(0,g.logDebug)(\"[ABsmartly] Create target not found: \".concat(i.targetSelector)),null;var n=document.createElement(\"div\");n.innerHTML=i.element;var a=Array.from(n.children);if(a.length===0)return null;try{for(var c=w(a),l=c.next();!l.done;l=c.next()){var u=l.value;this.moveElement(u,t,i.position)}}catch(p){o={error:p}}finally{try{l&&!l.done&&(e=c.return)&&e.call(c)}finally{if(o)throw o.error}}return a[0]},d.prototype.applyStyleRules=function(i,r){try{var o=this.plugin.getStyleManager(r),e=\"\".concat(i.selector,\"::states\"),t=void 0;if(typeof i.value==\"string\"&&i.value.trim())t=i.value;else{if(!i.states)return!1;t=this.plugin.buildStateRules(i.selector,i.states,i.important!==!1)}return o.setRule(e,t),this.debug&&((0,g.logDebug)(\"[ABsmartly] Applied style rule: \".concat(e)),(0,g.logDebug)(\"[ABsmartly] CSS: \".concat(t))),this.trackAppliedChange(r,i),(0,g.logChangeApplication)(r,i.selector,\"styleRules\",1,!0),!0}catch(n){return this.debug&&(0,g.logDebug)(\"[ABsmartly] Error applying style rules:\",n),!1}},d.prototype.applyChangeToElement=function(i,r){var o,e;switch(r.type){case\"text\":r.value!==void 0&&(i.textContent=String(r.value));break;case\"html\":r.value!==void 0&&(i.innerHTML=String(r.value));break;case\"style\":r.value&&typeof r.value==\"object\"&&Object.entries(r.value).forEach(function(a){var c=s(a,2),l=c[0],u=c[1],p=l.replace(/([A-Z])/g,\"-$1\").toLowerCase(),f=r.important===!0?\"important\":\"\";i.style.setProperty(p,String(u),f)});break;case\"class\":r.add&&Array.isArray(r.add)&&(o=i.classList).add.apply(o,y([],s(r.add),!1)),r.remove&&Array.isArray(r.remove)&&(e=i.classList).remove.apply(e,y([],s(r.remove),!1));break;case\"attribute\":r.value&&typeof r.value==\"object\"&&Object.entries(r.value).forEach(function(a){var c=s(a,2),l=c[0],u=c[1];u==null?i.removeAttribute(l):i.setAttribute(l,String(u))});break;case\"move\":if(r.value&&typeof r.value==\"object\"){var t=r.value,n=document.querySelector(t.targetSelector);n?this.moveElement(i,n,t.position):this.debug&&(0,g.logDebug)(\"[ABsmartly] Move target not found: \".concat(t.targetSelector))}break;case\"delete\":i.remove()}},d.prototype.applyChangeToSpecificElement=function(i,r,o){var e;try{if(this.applyChangeToElement(o,i),i.type===\"javascript\"&&i.value)try{new Function(\"element\",String(i.value))(o)}catch(c){return(0,g.logDebug)(\"[ABsmartly] JavaScript execution error:\",c),!1}else if(i.type===\"move\"){var t=i.targetSelector||(i.value&&typeof i.value==\"object\"?i.value.targetSelector:null),n=i.position||(i.value&&typeof i.value==\"object\"?i.value.position:null);if(t){var a=document.querySelector(t);if(!a)return!1;this.moveElement(o,a,n)}}return(i.type===\"style\"&&i.persistStyle||!((e=this.plugin.config)===null||e===void 0)&&e.spa)&&this.plugin.watchElement(o,r,i),!0}catch(c){return this.debug&&(0,g.logDebug)(\"[ABsmartly] Error applying change to specific element:\",c),!1}},d.prototype.trackAppliedChange=function(i,r){var o=this.appliedChanges.get(i);o||(o=new Set,this.appliedChanges.set(i,o));var e=\"\".concat(r.selector,\"-\").concat(r.type);o.add(e)},d.prototype.hasChanges=function(i){return this.appliedChanges.has(i)},d.prototype.clearTracking=function(i){i?this.appliedChanges.delete(i):this.appliedChanges.clear()},d.prototype.removeAllPending=function(i){this.pendingManager.removeAllPending(i)},d.prototype.destroy=function(){this.pendingManager.destroy(),this.appliedChanges.clear()},d}();A.DOMManipulatorLite=h},973:(G,A)=>{\"use strict\";Object.defineProperty(A,\"__esModule\",{value:!0}),A.URLMatcher=void 0;var O=function(){function w(){}return w.matches=function(s,y){y===void 0&&(y=window.location.href);var g=this.normalizeFilter(s),v=this.extractURLPart(y,g.matchType);return(!g.exclude||!this.matchesPatterns(g.exclude,v,g.mode))&&(!g.include||g.include.length!==0&&this.matchesPatterns(g.include,v,g.mode))},w.extractURLPart=function(s,y){y===void 0&&(y=\"path\");try{var g=new URL(s);switch(y){case\"full-url\":return g.href;case\"path\":default:return g.pathname+g.hash;case\"domain\":return g.hostname;case\"query\":return g.search;case\"hash\":return g.hash}}catch(v){return console.error(\"[ABsmartly] Failed to parse URL: \".concat(s),v),s}},w.matchesPatterns=function(s,y,g){var v=this;return g===void 0&&(g=\"simple\"),s.some(function(h){if(g===\"regex\")try{return new RegExp(h).test(y)}catch(d){return console.error(\"[ABsmartly] Invalid regex pattern: \".concat(h),d),!1}return v.matchSimplePattern(h,y)})},w.matchSimplePattern=function(s,y){var g=s.replace(/[.+^${}()|[\\]\\\\]/g,\"\\\\$&\").replace(/\\*/g,\".*\").replace(/\\?/g,\".\");try{return new RegExp(\"^\".concat(g,\"$\")).test(y)}catch(v){return console.error(\"[ABsmartly] Invalid pattern: \".concat(s),v),!1}},w.normalizeFilter=function(s){return typeof s==\"string\"?{include:[s],exclude:[],mode:\"simple\",matchType:\"path\"}:Array.isArray(s)?{include:s.length>0?s:void 0,exclude:[],mode:\"simple\",matchType:\"path\"}:{include:s.include,exclude:s.exclude||[],mode:s.mode||\"simple\",matchType:s.matchType||\"path\"}},w}();A.URLMatcher=O},977:function(G,A,O){\"use strict\";var w,s=this&&this.__extends||(w=function(g,v){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var i in d)Object.prototype.hasOwnProperty.call(d,i)&&(h[i]=d[i])},w(g,v)},function(g,v){if(typeof v!=\"function\"&&v!==null)throw new TypeError(\"Class extends value \"+String(v)+\" is not a constructor or null\");function h(){this.constructor=g}w(g,v),g.prototype=v===null?Object.create(v):(h.prototype=v.prototype,new h)});Object.defineProperty(A,\"__esModule\",{value:!0}),A.OverridesPluginFull=void 0;var y=function(g){function v(){return g!==null&&g.apply(this,arguments)||this}return s(v,g),v}(O(248).OverridesPlugin);A.OverridesPluginFull=y}},$={},function G(A){var O=$[A];if(O!==void 0)return O.exports;var w=$[A]={exports:{}};return K[A].call(w.exports,w,w.exports,G),w.exports}(196);var K,$})});var ne={UNIT_ID:\"abs\",PUBLIC_ID:\"abs_public\",EXPIRY:\"abs_expiry\",UTM_PARAMS:\"abs_utm_params\",LANDING_PAGE:\"abs_landing_page\",OVERRIDES:\"abs_overrides\"},me={MAX_AGE_DAYS:730,PATH:\"/\",SAME_SITE:\"Lax\"};var De=Pe(),ve=ke();window.ABsmartly=De;var Ce=\"1.0.5-direct-plugin-access\";console.log(`[ABsmartly Zaraz] \\u{1F4E6} SDK Bundle Version: ${Ce}`);window.ABsmartlyBundleVersion=Ce;var te={start:performance.now(),sdkConfigured:0,contextCreated:0,contextReady:0,pluginsLoaded:0,domReady:0};function oe(K){te[K]=performance.now();let $=(te[K]-te.start).toFixed(2);console.log(K===\"start\"?`[ABsmartly Zaraz] \\u23F1\\uFE0F  ${K}: ${$}ms`:`[ABsmartly Zaraz +${$}ms] \\u23F1\\uFE0F  ${K}`)}function X(...K){let $=(performance.now()-te.start).toFixed(2);console.log(`[ABsmartly Zaraz +${$}ms]`,...K)}window.ABsmartlyInit=function(K,$,G,A,O,w){if(typeof ABsmartly>\"u\"||!ABsmartly.SDK){console.error(\"[ABsmartly Zaraz] SDK not loaded\");return}try{oe(\"start\"),zaraz.track(\"absmartly_client_init\",{has_server_data:!!A,unit_type:G});var s=new URLSearchParams(location.search),y=K.queryPrefix||\"_\",g=ve.getOverrides(\"absmartly_overrides\",y,s);X(\"Client-side overrides:\",g);var v=Object.assign({},O||{},g);X(\"Merged overrides (server + client):\",v);var h=w||{domChanges:!0,cookie:!0,webVitals:!0},d=null;if(h.cookie!==!1)try{d=new ve.CookiePlugin({debug:K.enableDebug||!1,cookieDomain:K.cookieDomain||window.location.hostname,cookiePath:\"/\",sameSite:\"Lax\",cookieExpiryDays:me.MAX_AGE_DAYS,unitIdCookieName:ne.UNIT_ID,publicIdCookieName:ne.PUBLIC_ID,expiryCookieName:ne.EXPIRY,utmCookieName:ne.UTM_PARAMS,autoUpdateExpiry:!0,expiryCheckInterval:30}),X(\"CookiePlugin initialized\")}catch(l){console.error(\"[ABsmartly Zaraz] \\u274C Failed to initialize CookiePlugin:\",l)}if(d&&d.needsServerSideCookie()&&$){X(\"Setting HttpOnly cookie via Worker endpoint (CookiePlugin detected missing cookie)\");var i=\"https://custom-mc-absmartly.absmartly.workers.dev\",r=i+\"/set-cookie\";fetch(r,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({cookieName:ne.UNIT_ID,cookieValue:$,maxAge:me.MAX_AGE_DAYS*86400,domain:K.cookieDomain||window.location.hostname,secure:!0,httpOnly:!0,sameSite:\"Lax\"}),credentials:\"include\"}).then(function(l){l.ok?(X(\"\\u2705 HttpOnly cookie set successfully\"),d&&d.setUnitId($)):console.error(\"[ABsmartly Zaraz] Failed to set HttpOnly cookie:\",l.status)}).catch(function(l){console.error(\"[ABsmartly Zaraz] Error setting HttpOnly cookie:\",l)})}var o={endpoint:K.endpoint,apiKey:K.apiKey,environment:K.environment,application:K.application,retries:K.retries,timeout:K.timeout};X(\"SDK Configuration:\",{endpoint:o.endpoint,environment:o.environment,application:o.application,hasServerData:!!A}),X(\"Overrides to apply:\",O||{}),X(\"Initializing SDK with ID:\",$),X(\"Mode:\",A?\"(with preloaded data)\":\"(will fetch data)\"),oe(\"sdkConfigured\");var e=new ABsmartly.SDK(o),t,n={};n[G||\"user_id\"]=$;var a={units:n,publishDelay:100,eventLogger:function(l,u){l===\"exposure\"?zaraz.track(\"Experiment Viewed\",{experiment_id:u.name,experiment_name:u.name,variation_id:String(u.variant),variation_name:String(u.variant),data:u}):l===\"goal\"?zaraz.track(u.name,u.properties):l===\"publish\"&&zaraz.track(\"absmartly_client_publish\")}};A?t=e.createContextWith(a,A):t=e.createContext(a),oe(\"contextCreated\"),v&&Object.keys(v).length>0&&(X(\"Applying overrides to context:\",v),t.overrides(v)),window.ABsmartlyContext=t;var c={};if(h.cookie!==!1&&d&&(c.cookie=d,c.cookie.setContext(t),c.cookie.applyUtmAttributesToContext(),X(\"CookiePlugin attached to context\")),h.domChanges!==!1)try{c.domChanges=new ve.DOMChangesPluginLite({context:t,autoApply:!0,spa:!0,visibilityTracking:!0,debug:K.enableDebug||!1,hideUntilReady:K.hideSelector||\"body\",hideTransition:K.hideTransition||\"0.3s ease-in\"}),X(\"DOMChangesPluginLite loaded\")}catch(l){console.error(\"[ABsmartly Zaraz] \\u274C Failed to load DOMChangesPlugin:\",l)}if(h.webVitals!==!1)try{X(\"Lazy loading WebVitals plugin\"),c.webVitals=new ve.WebVitalsPlugin({context:t,trackWebVitals:!0,trackPageMetrics:!0,debug:!1}),c.webVitals.initialize(),X(\"Web vitals plugin initialized (tracking in background)\")}catch(l){console.error(\"[ABsmartly Zaraz] \\u274C Failed to load WebVitalsPlugin:\",l)}oe(\"pluginsLoaded\"),t.ready().then(function(){oe(\"contextReady\");var l=te.contextReady-te.start;if(console.log(`[ABsmartly Zaraz] \\u26A1 context.ready() completed in ${l.toFixed(2)}ms`),t.track(\"context_ready\",{time_ms:Math.round(l),has_server_data:!!A}),c.domChanges&&c.domChanges.ready)return c.domChanges.ready().then(function(){oe(\"domReady\");var u=te.domReady-te.start;console.log(`[ABsmartly Zaraz] \\u{1F3AF} Total time to DOM ready: ${u.toFixed(2)}ms`),X(\"DOM changes plugin ready!\")})}).catch(function(l){console.error(\"[ABsmartly Zaraz] \\u274C Failed to load context:\",l)})}catch(l){console.error(\"[ABsmartly Zaraz] \\u274C Failed to initialize SDK:\",l)}};})();\n"

export default sdkBundle
