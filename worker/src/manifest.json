{
  "name": "ABsmartly",
  "description": "Flicker-free A/B testing at the edge with ABsmartly",
  "namespace": "absmartly",
  "icon": "assets/absmartly.svg",
  "categories": ["Analytics", "A/B Testing", "Personalization"],
  "provides": ["events"],
  "allowCustomFields": true,
  "fields": {
    "ABSMARTLY_API_KEY": {
      "name": "API Key",
      "type": "string",
      "required": true,
      "description": "Your ABsmartly API key (found in ABsmartly Dashboard → Settings → API Keys)"
    },
    "ABSMARTLY_ENDPOINT": {
      "name": "Endpoint URL",
      "type": "string",
      "required": true,
      "description": "Your ABsmartly API endpoint (e.g., https://sandbox.absmartly.io/v1)"
    },
    "ABSMARTLY_ENVIRONMENT": {
      "name": "Environment",
      "type": "string",
      "required": true,
      "description": "Environment name (production, development, staging, etc.)"
    },
    "ABSMARTLY_APPLICATION": {
      "name": "Application Name",
      "type": "string",
      "required": true,
      "description": "Application name as configured in ABsmartly dashboard"
    },
    "ENABLE_DEBUG": {
      "name": "Enable Debug Logging",
      "type": "boolean",
      "required": false,
      "description": "Enable detailed console logging for troubleshooting"
    },
    "SDK_TIMEOUT": {
      "name": "API Timeout (ms)",
      "type": "number",
      "required": false,
      "description": "API request timeout in milliseconds (default: 3000)"
    },
    "ENABLE_ANTI_FLICKER": {
      "name": "Enable Anti-Flicker",
      "type": "boolean",
      "required": false,
      "description": "Enable anti-flicker code to prevent page flash (default: true)"
    },
    "HIDE_TIMEOUT": {
      "name": "Anti-Flicker Timeout (ms)",
      "type": "number",
      "required": false,
      "description": "How long to hide content while loading experiments (default: 3000)"
    }
  },
  "permissions": {
    "execute_unsafe_scripts": {
      "description": "Required for anti-flicker code and experiment initialization",
      "required": true
    },
    "serve_static_files": {
      "description": "Required for serving client-side tracking scripts",
      "required": true
    },
    "provide_server_functionality": {
      "description": "Required for server-side experiment assignment",
      "required": true
    },
    "access_client_kv": {
      "description": "Required for caching ABsmartly context data",
      "required": true
    },
    "set_cookies": {
      "description": "Required for persistent user identification across sessions",
      "required": true
    },
    "server_network_requests": {
      "description": "Required for communicating with ABsmartly API",
      "required": true
    }
  }
}
